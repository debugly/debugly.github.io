---
layout: post
title: "Fuck，Mac 关机后再也无法启动"
date: 2017-06-18 21:46:27 +0800
comments: true
tags: Other
keywords: Mac OS 无法启动,进度条卡住
---

> 今天擦桌子的时候顺便擦了下我的 MBP，为了不在擦的时候按下键盘误操作，所以在擦之前我把 Mac 关机了。等到下午没事开机时却遇到了个大大的问题：进度条走到百分之八十左右的时候卡住，卡一会之后就关机了！接着又试了好几次，还是不行，我有点慌了，此本追随我快三年了，可不能有个三长两短啊，于是赶忙开始在网上查找解决方法。

# Rest

查找了好多的文章，总结起来就是以下三种方法

- 重置 SMC
- 重置 NVRAM
- 重装系统

接下来我给简单介绍下，以及哪些场景适合使用。

# What's SMC ？

SMC : System Manager Controller 基于 Intel 的 Mac 上的 **系统管理控制器** ，简单理解就是用于管理电源，风扇，键盘灯，屏幕背光等等，以下是官方介绍：

在基于 Intel 的 Mac 电脑上，SMC 负责管理以下及其他低级功能：

- 对按下电源按钮的操作做出响应
- 对 Mac 笔记本电脑上显示器屏幕盖的开合做出响应
- 电池管理
- 热能管理
- SMS（突发移动感应器）
- 环境光度感应
- 键盘背光
- 状态指示灯 (SIL) 管理
- 电池状态指示灯
- 为某些 iMac 显示器选择外部（而非内部）视频来源

### 何时需要重置 SMC

这个管理系统也会出问题，等出了问题后可以重置下，一切从新开始，那么何时需要重置呢？这是官网罗列的情况：

- 尽管电脑工作负荷不重且通风良好，但电脑风扇依然高速旋转。
- 键盘背光灯行为有些异常。
- 状态指示灯 (SIL) 行为有些异常。
- 电池指示灯（如果有的话）行为有些异常（在配有不可拆卸电池的 Mac 笔记本电脑上）。
- 显示器背光灯不能对环境光线变化做出正确响应。
- 电脑不能在电源按钮按下时做出正确响应。
- Mac 笔记本电脑不能对屏幕盖的开合做出正确响应。
- 电脑意外进入睡眠状态或关机。
- 电池不能正常充电。
- MagSafe 电源适配器的 LED 指示灯不能正确地指示活动状态。
- 尽管电脑的 CPU 利用率并不是非常高，但运行速度异常缓慢。
- 应用程序打开时，其图标可能会在 Dock 中“弹跳”较长一段时间。
- 应用程序打开后，可能无法正常工作或停止响应。
- 支持目标显示器模式的电脑无法正常进入或退出目标显示器模式，或意外地进入或退出目标显示器模式。
- 移动电脑时，Mac Pro（2013 年末）上的 I/O 端口周围的背光灯未激活。

起初我的 MBP 并没有些问题之一，后来一直折腾的时候遇到了两个问题：

- 开机之后 CPU 风扇立马疯狂高速旋转
- 插上电源后，电源指示灯不亮

反复按住电源键强制关机几次后，仍然如此，然后我试着重置 SMC，结果确实解决了上面两个问题！

### 如何重置 SMC

带 Touch ID 的 2016 新款 MacBook Pro，则 Touch ID 按钮就是电源按钮。

1. 将 Mac 关机，不能正常关，就强制关掉
2. 拔下电源适配器
3. 同时按下 `左侧Shift + Control + Option + 电源键` ，按住这些按键和电源按钮 10 秒后松开
4. 重新连接电源适配器后重启

点击查看官网对 [SMC ](https://support.apple.com/zh-cn/HT201295)的介绍。

# What's NVRAM ？

NVRAM : Non-Volatile RAM `非易失性随机访问存储器`,其实就是一小部分特殊的内存，Mac 利用这些部分内存来储存某些设置从而实现更加快速的访问！这些设置可能包括 : 音量、显示屏分辨率、启动磁盘选择、时区，以及最近的内核崩溃信息等。

### 何时需要重置 NVRAM

如果上面说的那些设置出现问题后，就可以考虑重置 NVRAM 了。例如， Mac 并非从“启动磁盘”偏好设置中选定的磁盘启动，或者在 Mac 启动前短暂地显示了一个问号图标，则可能需要重置 NVRAM。

### 如何重置 NVRAM

1. 将 Mac 关机
2. 重新开机后立即同时按下 `Option + Command + P + R` 不要松手，电脑会自动重启，至少重启两次后就可以松开了
3. 松手后进入系统即可

不过进入系统后，可能之前设置的音量、分辨率、启动磁盘、时区等会被重置，可以在系统偏好设置里修改。

### 台式机需要电池供电

每次断开 Mac 电源后，下次启动后发现音量或时区等设置均会重置时，就需要更换 Mac 中的电池了。这个小电池在主板上卡着，为的是断开电源后帮助 NVRAM 保存设置。读到这你是不是想起了 CMOS 呢？感觉 Mac 上这个 NVRAM 跟 CMOS 很像呢。

点击查看官网对 [SMC ](https://support.apple.com/zh-cn/HT204063)的介绍。

# Commad + R

我的 MBP 不能开启并非以上问题导致的，我在网上查到一个 `实用工具模式`，进入方式：

1. 按下 `Commad + R`一直不动
2. 按一下开机键松开
3. 等个几秒看到进度条后松开 `Commad + R`即可

如图：

![](/images/201706/1.JPG)

选择 `磁盘工具`

![](/images/201706/2.JPG)

Fuck ！**磁盘空间是 0KB** ！！！

![](/images/201706/3.JPG)

为何会这样，我记得明明有好几个 G 的可用空间的啊，我怀疑是苹果给我下载了系统更新，重新开机会会解压然后然后，结果解压后导致我的空间没了，所以每次都是卡在百分之八十左右的地方，卡一会之后系统就自动关机了！看到这个就大概知道是怎么回事了，自然也能想到解决的办法 --- **进PE，删除无用文件**，腾出来一些空间给系统用！

接下来的事情更是曲折，还是再写一篇文章来介绍（吐槽）吧！
