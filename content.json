{"meta":{"title":"Matt Reach","subtitle":"An iOS Developer","description":null,"author":"è®¸ä¹¾éš†","url":"http://debugly.cn"},"pages":[{"title":"About","date":"2018-03-27T14:45:15.706Z","updated":"2018-03-27T14:45:15.706Z","comments":true,"path":"about/index.html","permalink":"http://debugly.cn/about/index.html","excerpt":"","text":"æˆ‘å–œæ¬¢ä¸€ä¸ªäººçš„æ—©æ™¨ï¼Œåªæœ‰æˆ‘ï¼Œè¿˜æœ‰éŸ³ä¹ã€‚ Personal Profile17 å¹´ä¸ŠåŠå¹´ä¸»è¦åšäº†å‡ æ¬¾å°æ¸¸æˆï¼Œè¿˜æœ‰OpenSDKï¼Œæ›´æ–°åƒå¸†ç›´æ’­SDKã€‚ä¸‹åŠå¹´æ­£å¼å¼€å§‹å¸¦å›¢é˜Ÿï¼Œä¸ºäº†æå‡å›¢é˜Ÿæˆ˜æ–—åŠ›ï¼Œæ‹‰é«˜ç»„å†…æŠ€æœ¯æ°´å¹³ï¼Œå¼€å§‹ç»„ç»‡ä»£ç è¯„å®¡ï¼ŒæŠ€æœ¯è°ƒç ”ï¼Œå†™issueã€‚12æœˆå¼€å§‹å…¨éƒ¨äººé©¬åˆ‡åˆ°cocos2d-æ¸¸æˆå¼€å‘ä¸­ï¼ 16 å¹´ 5 æœˆ ä¸­æ—¬æˆ‘åŠ å…¥äº†ç°åœ¨çš„å›¢é˜Ÿï¼ˆåŒå±äºè§†é¢‘ï¼‰ï¼Œä¸å†å¼€å‘ Appï¼Œä¸»è¦ä»äº‹ åƒå¸†ç›´æ’­ SDK çš„å¼€å‘å·¥ä½œï¼Œæˆ‘åº¦è¿‡äº†é‚£æ®µå­¤å†›å¥‹æˆ˜çš„ SDK å¼€å‘å²æœˆï¼Œç»è¿‡ä¸€å¹´çš„æ²‰æ·€é˜Ÿä¼å£®åˆ°äº† 5 äººï¼Œæˆ‘è™½ç„¶ä¸å†å­¤å•ï¼Œä½†å´æ›´åŠ å¿™ç¢Œï¼Œå› ä¸ºæˆ‘ä¸€ä¸ªäººçš„æ—¶å€™åªå¼€å‘ åƒå¸†ç›´æ’­ SDK ï¼Œæä¾›ç»™è§†é¢‘å’Œæ–°é—»ï¼è€Œç°åœ¨æˆ‘ä»¬å›¢é˜Ÿéœ€è¦è´Ÿè´£ å¼€å¿ƒå¤ºå® SDK ã€æœç‹è¯¾å ‚ SDK ã€åƒå¸†å°æ¸¸æˆ SDK(ç›®å‰æ˜¯3æ¬¾æ¸¸æˆ)ã€å¼€æ”¾å¹³å°æ’­æ”¾å™¨ SDK ç­‰ SDK çš„è¿­ä»£å¼€å‘ï¼Œç”±äºè¿™äº› SDK çš„æ¸ é“ä¸åŒï¼Œå› æ­¤é€šå¸¸éƒ½æ˜¯å¹¶è¡Œå¼€å‘ï¼ 15 å¹´åœ¨å¤ªæœ‰ä¹¾ï¼ˆåˆ›ä¸šå…¬å¸ï¼‰åšäº†åŠå¹´çš„ P2Pï¼Œè¾èŒååŠ å…¥æœç‹è§†é¢‘ã€‚åœ¨æœç‹è§†é¢‘å›¢é˜Ÿä¸»è¦è´Ÿè´£ä¸‹è½½ä¸Šä¼ æ¨¡å—ï¼Œå†™çš„UIç›¸å¯¹å°‘ä¸€äº›ï¼Œä¸»è¦æ˜¯å®Œå–„é€»è¾‘ï¼ŒæŒ–æ˜å‡ºäº†ä¸‹è½½è¿‡ç¨‹ä¸­é‡åˆ°çš„å„ç§é”™è¯¯ï¼Œè¿›è€Œé‡‡å–äº†ç›¸åº”çš„æ–¹æ¡ˆï¼Œè¿˜é’ˆå¯¹ç½‘ç»œå˜åŒ–åˆ¶å®šå‡ºäº†ä¸åŒè¶…æ—¶æ—¶é•¿ï¼Œç¦»å¼€å›¢é˜Ÿä¹‹å‰ä¸‹è½½æˆåŠŸç‡ç»´æŒåœ¨ 95% ä»¥ä¸Šã€‚16 å¹´ 4 æœˆä¸­æ—¬æˆ‘è¦ç¦»å¼€çš„äº‹æƒ…å·²ç»ç¡®å®šäº†ï¼Œä½†è¿˜æ˜¯ä¸»åŠ¨äº‰å–åˆ°äº†ä¸Šä¼ æ¨¡å—çš„å°è£…è®¾è®¡ï¼Œä¸€æ–¹é¢ç”±äºè¿™å—æœ¬èº«å°±è¦ç»™æˆ‘åšï¼ˆåœ¨å†³å®šèµ°ä¹‹å‰ï¼‰ï¼Œå¦ä¸€æ–¹é¢å…¶å®æˆ‘ä¹Ÿæ˜¯æœ‰ç§å¿ƒçš„ï¼Œä¸ºçš„æ˜¯å……åˆ†æ¶ˆåŒ–å‰è¾ˆå°è£…çš„ä¸‹è½½æ¨¡å—æ¶æ„ï¼Œä¸Šä¼ å®Œæˆåï¼Œåšäº†ä¸€æ¬¡æŠ€æœ¯åˆ†äº«ï¼Œç„¶åç¦»å¼€äº†è¿™ä¸ªå¾ˆæ£’çš„å›¢é˜Ÿã€‚ 14 å¹´å°±èŒäºæœæˆ¿ç½‘ï¼Œåšäº†å‡ ä¸ªæœˆçš„ç§Ÿæˆ¿å¸® Appï¼Œåæ¥ä¸šåŠ¡çº¿åˆå¹¶äº†ï¼Œå»åšæœæˆ¿å®¶å±…ã€è£…ä¿®é¢‘é“ã€‚ 13 å¹´å¼€å§‹åš iOS å¼€å‘ï¼ŒObjective-C æ˜¯ç›®å‰æœ€ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€ï¼Œäº†è§£ Javaï¼ŒShellï¼ŒJSï¼ŒH5ï¼ŒRubyï¼›æƒ³å­¦ä¹ ä¸‹ Swiftï¼ŒPython â€¦ APP &amp; SDKä» 16 å¹´ 5 æœˆä»¥æ¥ï¼Œæˆ‘å°±å¼€å§‹ä»äº‹ SDK çš„å¼€å‘å·¥ä½œï¼Œæˆ‘è§‰å¾—åš SDK è·Ÿ App æ˜¯æœ‰å¾ˆå¤§å·®åˆ«çš„ï¼Œå› ä¸º SDK éœ€è¦è€ƒè™‘å¾ˆå¤šåˆç†æ€§ï¼Œæ—¢è¦æ»¡è¶³ App è°ƒç”¨æ–¹ä¾¿åˆè¦ä¿è¯å…¶é€šç”¨æ€§ï¼Œä¼˜é›…æ€§ï¼Œå†…å¤–å…¼ä¿®ï¼Œæœ‰çš„æ”¾çŸ¢ï¼Œåš App ä¹Ÿè®¸å°±ä¸ä¼šè€ƒè™‘è¿™ä¹ˆå¤šçš„æ–¹é¢äº†ï¼Œæˆ‘å’ŒåŒäº‹äº¤æµæœ€å¤šçš„å°±æ˜¯é—® ï¼š â€œxxxï¼Œè¿™æ ·åšä½ è§‰å¾—åˆç†å—ï¼ŸApp è°ƒç”¨æ–¹ä¾¿å—ï¼Ÿæ˜¯å¦é€šç”¨ï¼Œæ—¥åæ˜¯å¦å¯ä»¥æ‰©å±•ï¼Ÿâ€ æˆ‘æŠ½æ—¶é—´å†™äº†ä¸€äº›åš SDK è¿‡ç¨‹ä¸­è§£å†³çš„é—®é¢˜ï¼Œä»£ç è®¾è®¡æ€è·¯ç›¸å…³çš„æ–‡ç« ï¼Œå•ç‹¬æ‹äº†ä¸€ä¸ª åƒå¸†SDK çš„ç±»åˆ«ã€‚ Productive Forcesä¸šä½™æ—¶é—´æˆ‘å†™äº†ä¸€ä¸ªç®€å•çš„è‡ªåŠ¨åŒ–è¿œç¨‹æ‰“åŒ…æœåŠ¡å™¨ï¼Œå®ç°äº†å®Œå…¨è„šæœ¬è¯æ‰“åŒ…ï¼Œæ‰“å®Œåè‡ªåŠ¨éƒ¨ç½²åˆ° Apache æœåŠ¡å™¨ï¼›éœ€è¦å‘åŒ…æ—¶ï¼Œåªéœ€æäº¤ä¸‹ä»£ç ï¼Œæ”¹ä¸‹ build å·ï¼Œç­‰ä¸Š 2 åˆ†é’Ÿå°±æ‰“å¥½äº†ï¼Œç„¶åå¤åˆ¶ä¸‹è½½åœ°å€ä½¿ç”¨é‚®ä»¶å‘é€å³å¯ï¼›è¿™æ¯”èµ·äººå·¥æ‰“åŒ…ï¼Œç„¶ååˆå¹¶ frameworkï¼ŒèŠ‚çœäº†ä¸å°‘å®è´µçš„æ—¶é—´ï¼Œå…¶æŠ€æœ¯è¦ç‚¹æˆ‘ä¹Ÿä¼šä¸€ä¸€å†™å‡ºæ¥ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚ Productså¾ˆæœŸå¾…ä½ èƒ½å»ä½“éªŒä¸‹æˆ‘ä»¬å…¬å¸çš„äº§å“å’Œæˆ‘ä»¬ SDK æä¾›çš„æœåŠ¡ï¼š SDKs é›†æˆæ¸ é“ åƒå¸†ç›´æ’­ SDK æœç‹è§†é¢‘ã€æœç‹æ–°é—»ã€æœç‹æ±½è½¦ï¼Œç‹—ä»”ç›´æ’­ æœç‹è¯¾å ‚ SDK æœç‹è§†é¢‘ Game SDK (ç­”é¢˜PKã€æ°´æœè½¬ç›˜ã€é¢˜ç‹äº‰éœ¸ã€æˆè¯­æ¥é¾™) åƒå¸†ç›´æ’­ å°è§†é¢‘ SDK åƒå¸†ç›´æ’­ æ’­æ”¾å™¨ SDK 360å½±è§†å¤§å…¨ï¼Œæœç‹—æœç´¢ï¼Œç™¾åº¦è§†é¢‘ Contactå¦‚æœ‰æŠ€æœ¯æ²Ÿé€šï¼Œäº§å“å»ºè®®è¯·å¾®ä¿¡è”ç³»æˆ‘ï¼š å‘é‚®ä»¶ç»™æˆ‘ : qianlongxu@gmail.com ."},{"title":"Project","date":"2018-03-27T14:45:16.015Z","updated":"2018-03-27T14:45:16.015Z","comments":true,"path":"project/index.html","permalink":"http://debugly.cn/project/index.html","excerpt":"","text":"å‘çš„æ˜¯æä¹ç©ºé—´"},{"title":"Tags","date":"2018-03-27T14:45:16.015Z","updated":"2018-03-27T14:45:16.015Z","comments":true,"path":"tags/index.html","permalink":"http://debugly.cn/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Github Pages è‡ªå®šä¹‰åŸŸåæ”¯æŒ HTTPS","slug":"2018/03/22-github-customdomain-support-https","date":"2018-03-22T13:56:06.000Z","updated":"2018-03-27T14:45:15.706Z","comments":true,"path":"2018/03/22/2018/03/22-github-customdomain-support-https.html","link":"","permalink":"http://debugly.cn/2018/03/22/2018/03/22-github-customdomain-support-https.html","excerpt":"","text":"è‡ªä»æœ‰äº†è‡ªå·±çš„åŸŸååï¼Œæˆ‘çš„åšå®¢å°±å¤±å»äº†é‚£æŠŠå°ç»¿é”ï¼Œå°±åœ¨åˆšåˆšæˆ‘è¿˜åœ¨æœç´¢ï¼šGithub è‡ªå®šä¹‰åŸŸåæ€ä¹ˆæ”¯æŒhttpsï¼Œå½“æˆ‘çœ‹åˆ°è¿™ä¸ª å¸–å­ ä¹‹åï¼Œäº‹æƒ…å°±æœ‰äº†ç¿»è½¬ï¼Œæ²¡æƒ³åˆ° Github æ”¯æŒäº†ï¼Œçš†å¤§æ¬¢å–œäº†ï¼ä¹Ÿä¸ç”¨å»æŠ˜è…¾ Cloudflare äº†â€¦. çœ‹äº†ä¸‹ï¼Œä½¿ç”¨çš„æ˜¯ Letâ€™s Encrypt æä¾›çš„å…è´¹è¯ä¹¦ï¼Œæœ‰æ•ˆæœŸæ˜¯3ä¸ªæœˆï¼Œåˆ°æœŸåå¯ä»¥ç»­ï¼Œç­‰äºæ°¸ä¹…å…è´¹ï¼ çœ‹äº†ä¸‹è¯ä¹¦æ˜¯ 2018å¹´3æœˆ10æ—¥ åˆ›å»ºçš„ï¼Œè«éæ˜¯ Github é»˜é»˜ä¸ºæ‰€æœ‰ç”¨æˆ·éƒ½ç”³è¯·å¥½äº†ï¼Ÿ å¼€å¯æ–¹å¼ï¼š ä¹‹å‰åœ¨æ²¡æœ‰è‡ªå®šä¹‰åŸŸåçš„æ—¶å€™æ‰èƒ½å¼€å¯è¿™ä¸ª https é€‰é¡¹ï¼","categories":[],"tags":[{"name":"Other","slug":"Other","permalink":"http://debugly.cn/tags/Other/"}]},{"title":"macOS Install Jenkins","slug":"2018/03/07-macOS-Install-Jenkins","date":"2018-03-06T16:05:31.000Z","updated":"2018-03-27T14:45:15.705Z","comments":true,"path":"2018/03/07/2018/03/07-macOS-Install-Jenkins.html","link":"","permalink":"http://debugly.cn/2018/03/07/2018/03/07-macOS-Install-Jenkins.html","excerpt":"","text":"å®˜ç½‘https://jenkins.io/download/ ä¸‹è½½ Jenkinså®˜ç½‘çš„ download ä¸å¥½ä½¿ï¼Œç‚¹å‡»åæ²¡èƒ½å¼€å§‹ä¸‹ï¼Œä¼°è®¡æ˜¯è¢«å¢™äº†ï¼Œæ‰€ä»¥æ‰¾äº†ä¸ªé•œåƒ: http://mirrors.jenkins-ci.org/osx/ ä¹Ÿç”± war åŒ…çš„é•œåƒ: http://updates.jenkins-ci.org/download/war/ å¯åŠ¨ Jenkins æœåŠ¡1java -jar /Applications/Jenkins/jenkins.war éœ€è¦ Java ç¯å¢ƒï¼Œç¯å¢ƒæœ‰é—®é¢˜çš„è¯ï¼Œå¯ä»¥å‚è€ƒæˆ‘çš„è¿™ç¯‡æ–‡ç«  ä½¿ç”¨é»˜è®¤ç«¯å£æ˜¯ 8080ï¼Œæ‰€ä»¥ç›´æ¥æµè§ˆå™¨é‡Œè¾“å…¥ localhost:8080 è¿›è¡Œä¸€æ¬¡ admin è´¦æˆ·åˆå§‹åŒ–å°±OKäº†ï¼ å†…ç½®å˜é‡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950The following variables are available to shell scriptsBRANCH_NAMEFor a multibranch project, this will be set to the name of the branch being built, for example in case you wish to deploy to production from master but not from feature branches; if corresponding to some kind of change request, the name is generally arbitrary (refer to CHANGE_ID and CHANGE_TARGET).CHANGE_IDFor a multibranch project corresponding to some kind of change request, this will be set to the change ID, such as a pull request number, if supported; else unset.CHANGE_URLFor a multibranch project corresponding to some kind of change request, this will be set to the change URL, if supported; else unset.CHANGE_TITLEFor a multibranch project corresponding to some kind of change request, this will be set to the title of the change, if supported; else unset.CHANGE_AUTHORFor a multibranch project corresponding to some kind of change request, this will be set to the username of the author of the proposed change, if supported; else unset.CHANGE_AUTHOR_DISPLAY_NAMEFor a multibranch project corresponding to some kind of change request, this will be set to the human name of the author, if supported; else unset.CHANGE_AUTHOR_EMAILFor a multibranch project corresponding to some kind of change request, this will be set to the email address of the author, if supported; else unset.CHANGE_TARGETFor a multibranch project corresponding to some kind of change request, this will be set to the target or base branch to which the change could be merged, if supported; else unset.BUILD_NUMBERThe current build number, such as &quot;153&quot;BUILD_IDThe current build ID, identical to BUILD_NUMBER for builds created in 1.597+, but a YYYY-MM-DD_hh-mm-ss timestamp for older buildsBUILD_DISPLAY_NAMEThe display name of the current build, which is something like &quot;#153&quot; by default.JOB_NAMEName of the project of this build, such as &quot;foo&quot; or &quot;foo/bar&quot;.JOB_BASE_NAMEShort Name of the project of this build stripping off folder paths, such as &quot;foo&quot; for &quot;bar/foo&quot;.BUILD_TAGString of &quot;jenkins-$&#123;JOB_NAME&#125;-$&#123;BUILD_NUMBER&#125;&quot;. All forward slashes (/) in the JOB_NAME are replaced with dashes (-). Convenient to put into a resource file, a jar file, etc for easier identification.EXECUTOR_NUMBERThe unique number that identifies the current executor (among executors of the same machine) thatâ€™s carrying out this build. This is the number you see in the &quot;build executor status&quot;, except that the number starts from 0, not 1.NODE_NAMEName of the agent if the build is on an agent, or &quot;master&quot; if run on masterNODE_LABELSWhitespace-separated list of labels that the node is assigned.WORKSPACEThe absolute path of the directory assigned to the build as a workspace.JENKINS_HOMEThe absolute path of the directory assigned on the master node for Jenkins to store data.JENKINS_URLFull URL of Jenkins, like http://server:port/jenkins/ (note: only available if Jenkins URL set in system configuration)BUILD_URLFull URL of this build, like http://server:port/jenkins/job/foo/15/ (Jenkins URL must be set)JOB_URLFull URL of this job, like http://server:port/jenkins/job/foo/ (Jenkins URL must be set)SVN_REVISIONSubversion revision number that&apos;s currently checked out to the workspace, such as &quot;12345&quot;SVN_URLSubversion URL that&apos;s currently checked out to the workspace. ä¸­æ–‡å¯¹ç…§ï¼šhttps://www.cnblogs.com/EasonJim/p/6758382.html é‚®ä»¶é…ç½® https://blog.csdn.net/fullbug/article/details/53024562 https://blog.csdn.net/u013066244/article/details/78665075 https://blog.csdn.net/chengtong_java/article/details/49815311 https://stackoverflow.com/questions/13650860/jenkins-extended-e-mail-wont-print-git-branch-or-git-commit","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"macOS-JavaRuntime","slug":"2018/03/06-macOS-JavaRuntime","date":"2018-03-06T15:28:58.000Z","updated":"2018-03-27T14:45:15.705Z","comments":true,"path":"2018/03/06/2018/03/06-macOS-JavaRuntime.html","link":"","permalink":"http://debugly.cn/2018/03/06/2018/03/06-macOS-JavaRuntime.html","excerpt":"","text":"Macos é…ç½® JRE. æˆ‘ä¹Ÿè®°ä¸æ¸…æ¥šä¹‹å‰æœ¬æœºçš„ Java ç¯å¢ƒæ˜¯å¦æ˜¯é…ç½®å¥½äº†ï¼Œæ˜¨å¤©æ›´æ–°äº† Macos ä¹‹åï¼Œä»Šå¤©æƒ³è£…ä¸ª Jenkins å®Œä¸‹ï¼Œç»“æœåœ¨è¿è¡Œ Jenkins çš„æ—¶å€™å‘ç° No Java runtime present, requesting install. åˆ†æé—®é¢˜ç‚¹å‡» ç³»ç»Ÿåå¥½è®¾ç½®é‡Œçš„ Java å›¾æ ‡ å¦‚æœæ²¡æœ‰è¿™ä¸ªå›¾æ ‡æˆ–è€…ç‚¹å‡»åæ²¡æœ‰å‡ºæ¥ Java æ§åˆ¶é¢æ¿ é‚£å°±éœ€è¦å» oracle ä¸‹è½½å®‰è£… JRE http://www.oracle.com/technetwork/java/javase/downloads/jre9-downloads-3848532.htmlï¼›ä¸‹è½½ dmg åŒ…å°±è¡Œï¼Œéœ€è¦é€‰ä¸­ Accept License Agreement ! ä¸‹è½½å®Œæˆï¼ŒåŒå‡»ä¸€è·¯å®‰è£…å³å¯ï¼ æœ¬ä»¥ä¸ºè¿™æ ·å°±è¡Œäº†ï¼Œå…¶å®ä¸è¡Œï¼ åŸå› å¦‚ä¸‹ï¼š ç»æŸ¥æ‰¾åœ¨ /usr/bin ç›®å½•é‡Œæœ‰ä¸ª java çš„æ›¿èº«: ç»è¿‡éªŒè¯å‘ç°è¯¥è·¯å¾„å·²ç»åŠ å…¥åˆ°äº†PATHé‡Œé¢ï¼ 12bogon:~ xuqianlong$ echo $PATH/Users/xuqianlong/.rvm/gems/ruby-2.2.6/bin:/Users/xuqianlong/.rvm/gems/ruby-2.2.6@global/bin:/Users/xuqianlong/.rvm/rubies/ruby-2.2.6/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/xuqianlong/.rvm/bin:/usr/local/ssl ä¸ºä»€ä¹ˆä¸è¡Œï¼Œè¿˜ä¸èƒ½ç¡®å®šï¼Œå¯ä»¥ç¡®å®šçš„æ˜¯ä»–çš„åŸèº«æ˜¯åœ¨ JavaVM.framework: è¿™ä¸ª JavaVM.framework ä¸æ˜¯æˆ‘ä»¬å®‰è£…çš„ï¼Œå¥½åƒæ˜¯è‹¹æœè‡ªå¸¦çš„ï¼Œæˆ‘ä»¬åˆšæ‰è£…çš„é‚£ä¸ª JRE å…¶å®æ˜¯åœ¨è¿™é‡Œ: æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæ›¿èº«æ”¹ä¸ºæˆ‘ä»¬è¿™ä¸ªJREé‡Œçš„javaï¼Œå¯æ˜¯å¾ˆé—æ†¾ï¼Œå¯¹äº /usr/bin ç›®å½•æ²¡æœ‰ä¿®æ”¹æƒé™ï¼Œæƒ³æ‹¥æœ‰æƒé™æœ‰äº›éº»çƒ¦ï¼Œè¿™é‡Œä¸åœ¨ä»‹ç»ã€‚ å‘½ä»¤è¡Œè¾“å…¥çš„å‘½ä»¤æŸ¥æ‰¾é¡ºåºæ˜¯æŒ‰ç…§è®¾ç½®PATHé‡Œè®¾ç½®çš„è·¯å¾„æŸ¥æ‰¾çš„ï¼Œå› æ­¤å¯ä»¥ä» PATH å…¥æ‰‹ï¼Œä»”ç»†æŸ¥çœ‹å‘ç° /usr/local/bin åœ¨ /usr/bin ä¹‹å‰æœç´¢ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ /usr/local/bin é‡Œå»ºä¸ª Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java çš„æ›¿èº«å°±è¡Œäº†ï¼ è§£å†³é—®é¢˜1ln -s /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java /usr/local/bin é‡å¯ç»ˆç«¯å†æ¬¡æŸ¥çœ‹ç¯å¢ƒï¼š 1234java -versionjava version &quot;9.0.4&quot;Java(TM) SE Runtime Environment (build 9.0.4+11)Java HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode) OK å•¦ï¼ å‚è€ƒåšå®¢ https://anas.pk/2015/09/02/solution-no-java-runtime-present-mac-yosemite/","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"è°ƒè¯•æˆ‘ä¹æ£‹ç‰Œé€šç”¨é“¾æ¥","slug":"2018/01/07-testUniversalLink","date":"2018-01-07T03:07:51.000Z","updated":"2018-03-27T14:45:15.704Z","comments":true,"path":"2018/01/07/2018/01/07-testUniversalLink.html","link":"","permalink":"http://debugly.cn/2018/01/07/2018/01/07-testUniversalLink.html","excerpt":"","text":"ä»…ç”¨äºæŠ€æœ¯æµ‹è¯•ï¼Œä¸¥ç¦ç”¨äºå…¶ä»–ç”¨é€”ï¼ 0ã€ é‡‘å¸åœº URL Scheme 1ã€æ–—åœ°ä¸» Universal Link 1ã€æ‹‰èµ·æ–—åœ°ä¸»-without-action 2ã€æ‹‰èµ·æ–—åœ°ä¸»-with-action URL Scheme 3ã€æ‹‰èµ·æ–—åœ°ä¸» Share URL 4ã€åˆ†äº«åœ°å€ 2ã€å››å·éº»å°† Universal Link 1ã€ æ‹‰èµ·éº»å°†-without-action 2ã€ æ‹‰èµ·éº»å°†-with-action Share URL 3ã€ æ‰“å¼€éº»å°†åˆ†äº«åœ°å€ 3ã€Apple-app-site-association .well-known/apple-app-site-association apple-app-site-association zhihu apple-app-site-association 4ã€Guides Apple Guides Universal Link å‰ç«¯éƒ¨ç½²é‡‡å‘è®° Universal Linksé€šç”¨é“¾æ¥åº”ç”¨è·³è½¬æ€»ç»“ä»¥åŠå‘","categories":[],"tags":[{"name":"test","slug":"test","permalink":"http://debugly.cn/tags/test/"}]},{"title":"æˆ‘çš„ 2017","slug":"2017/12/31-my-2017","date":"2017-12-31T15:30:03.000Z","updated":"2018-03-27T14:45:15.704Z","comments":true,"path":"2017/12/31/2017/12/31-my-2017.html","link":"","permalink":"http://debugly.cn/2017/12/31/2017/12/31-my-2017.html","excerpt":"","text":"Byeï¼ŒMy 2017 ! ä»Šå¤©æ˜¯ 2017 å¹´æœ€åä¸€å¤©ï¼Œä¸Šåˆçº¦äº†æœ‹å‹å»å¤–æ»©åƒç«é”…ï¼Œé¥­åå»äº†æ–°å¼€ä¸šçš„æ»¨æµ·ä¸‡è¾¾å¹¿åœºï¼Œå»ºè®¾çš„è¿˜æŒºä¸é”™çš„ï¼Œå››æ¥¼æœ‰å¾ˆå¤šç¾é£Ÿï¼Œä»¥åå€’æ˜¯å¯ä»¥ç»å¸¸å»çº¦ä¸ªé¥­ï¼Œçœ‹ä¸ªç”µå½±å•¥çš„â€¦ å›é¦– 2017ï¼Œç€å®ç»å†äº†ä¸å°‘äº‹æƒ…ï¼Œå¯çœŸåˆ°å†™çš„æ—¶å€™ä¸çŸ¥é“å†™ä»€ä¹ˆäº†ï¼Œè¿˜æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºè¯´å‡ ä¸ªå¤§äº‹å§ï¼š 2æœˆï¼Œå¤§ç»„æ¥äº†ä¸‰ä¸ªåº”å±Šç”Ÿï¼Œå…¶ä¸­ä¸¤ä¸ªæ˜¯æˆ‘ç»„çš„ï¼Œæœ‰ä¸€ä¸ªåæ¥ä¹Ÿè½¬åˆ°æˆ‘ç»„äº†ï¼Œè¿™æ ·ä»¥æ¥æˆ‘ç»„è§„æ¨¡æ›´å¤§äº†ï¼Œæœ‰äººäº†å°±å¾—å¹²äº›äº‹å‡ºæ¥æ‰è¡Œï¼ 4æœˆï¼Œå»äº†è¶Ÿå¹¿å·ï¼Œä¸»è¦æ˜¯ä¸ºæ¥ä¸‹æ¥çš„åƒå¸†å°æ¸¸æˆå¸ƒå±€ï¼Œç´§æ¥ç€æˆ‘ä»¬åšäº†å¥½å‡ æ¬¾å°æ¸¸æˆï¼Œå…¶ä¸­åŒ…æ‹¬ï¼šå¿«æ·ç­”é¢˜ï¼Œæ°´æœè½¬ç›˜ï¼Œæˆè¯­æ¥é¾™ï¼Œç­”é¢˜ PK ç­‰ï¼ŒSDK çš„å¼€å‘å·¥ä½œåŸºæœ¬ä¹Ÿåˆ°äº†é¼ç››æ—¶æœŸï¼Œå› ä¸ºæ­¤æ—¶ SDK çš„æ•°é‡æœ€å¤šï¼Œä¸ºæ­¤æˆ‘è¿˜ä¸“é—¨æäº†æ‰“åŒ…æœåŠ¡å™¨ï¼Œè¿œç¨‹æ‰“åŒ…å‘å¸ƒï¼Œé›†æˆæ–¹ä»æœåŠ¡å™¨ä¸‹è½½æ›´æ–°ã€‚ åœ¨å¹¿å·å‡ºå·®æ—¶ï¼Œé¢†å¯¼çªç„¶æ‰¾åˆ°æˆ‘è¯´è¦ç»™æˆ‘å‡ä¸‹ levelï¼Œå½“æ—¶æ˜¯ 2.2ï¼Œå‡è¿‡ä¹‹åæ˜¯ 3.1ï¼ˆåœ¨æœç‹æ˜¯ä¸ªé«˜çº§èŒç§°ï¼‰ï¼Œå³é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆï¼Œæˆ‘æ˜¯ä¸€ä¸ªæŠ€æœ¯ç‹‚ï¼Œèƒ½å¤Ÿæ‹¿åˆ°é«˜çº§ä¹Ÿæ˜¯æˆ‘ä¸€ç›´è‹¦è‹¦è¿½æ±‚çš„ï¼ 6æœˆï¼Œé¢†å¯¼å†³å®šå°†ç»„å†…çš„æ±‡æŠ¥å·¥ä½œå…¨éƒ¨è½¬ç§»ç»™æˆ‘ï¼ˆä¹‹å‰éƒ½æ˜¯ç»Ÿä¸€æ±‡æŠ¥ç»™é¢†å¯¼ï¼Œæˆ‘æ˜¯ä¸ªæœ‰å®æ— åçš„ leaderï¼‰ï¼Œå°±è¿™æ ·æˆ‘å¼€å§‹å­¦ä¹ ç®¡ç†ç»éªŒï¼Œä½†ä¹Ÿæ²¡æœ‰å› æ­¤æŠ›å¼ƒå†™ä»£ç ï¼Œå› ä¸ºæˆ‘å¾ˆå–œæ¬¢ coding ï¼ 7æœˆï¼Œæ‹¿åˆ°äº†å¤©æ´¥çš„é›†ä½“æˆ·å£ï¼Œæ¥è¿™çš„ç›®çš„æ€»ç®—æ˜¯è¾¾åˆ°äº†ï¼Œå°±å·®ä¹°æˆ¿è½æˆ·äº†ã€‚ 10 æœˆï¼Œå¼€å§‹ä½¿ç”¨æ¸¸æˆå¼•æ“ç¼–å†™æ¸¸æˆï¼Œå‰é¢è¯´åˆ°çš„å‡ ä¸ªå°æ¸¸æˆéƒ½æ˜¯ä½¿ç”¨ iOS Native UI å†™çš„ï¼Œæ²¡å•¥æŠ€æœ¯å«é‡ğŸ˜“ï¼Œè¿™æ¬¡æˆ‘ä»¬é€‰æ‹©äº† Apple çš„ SpriteKit 2d å¼•æ“å¼€å§‹å†™æ–—åœ°ä¸»ï¼Œä»å¼€å§‹ç äººåˆ°å‡ºæ¥ç”¨äº†ä¸¤ä¸ªå¤šæœˆçš„æ—¶é—´ï¼Œä¸æ­¤åŒæ—¶è¿›è¡Œçš„è¿˜æœ‰ä½¿ç”¨ cocos2d-x çš„å®‰å“ç«¯ï¼Œç”±äº iOS ä½¿ç”¨çš„æ˜¯åŸç”Ÿå¹³å°æ¸¸æˆå¼•æ“ï¼Œè‡ªç„¶å°‘äº†å¾ˆå¤šå‘ï¼Œæ²¡æœ‰å†…å­˜ï¼Œæ€§èƒ½ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼›å®‰å“ç«¯åˆ™é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼Œæ‰€ä»¥ä»–ä»¬è¿›åº¦ç¨æ…¢äº›ï¼Œæ‰€ä»¥ iOS ç‰ˆæœ€å…ˆå¼€å§‹å…¬æµ‹çš„ã€‚ 12 æœˆï¼Œä¸å¯»å¸¸çš„ä¸€ä¸ªæœˆä»½äº†ï¼ŒæŸä¸ªæ—©æ™¨ï¼Œæˆ‘è¦æ‰¾é¢†å¯¼æ±‡æŠ¥ç‚¹å·¥ä½œï¼Œç»“æœä»–è¯´ä»–å…ˆç»™æˆ‘è®²ç‚¹äº‹æƒ…ï¼Œè¢«å‘ŠçŸ¥å…¬å¸æˆç«‹äº†ä¸€ä¸ªåˆ›æ–°å¹³å°äº‹ä¸šéƒ¨ï¼Œéƒ¨é—¨ç»„ç»‡æ¶æ„è¦è°ƒæ•´ä¸‹ï¼Œå˜åŒ–è¿˜æŒºå¤§çš„ï¼Œæˆ‘ä»¬ç»„è¦æ¢é¢†å¯¼äº†ï¼ˆğŸ˜¢ï¼‰ï¼Œå·¥ä½œä¸Šå˜å¤§ä¹ŸæŒºå¤§çš„ï¼Œè¦å‘Šåˆ« SDKs å¼€å‘äº†ï¼Œä»æ­¤ä»¥åè¦ä¸“æ³¨äºæ¸¸æˆå¼€å‘ï¼Œå¤§æ—©ä¸Šå¬åˆ°è¿™ä¸ªæ¶ˆæ¯æˆ‘è›®éœ‡æƒŠçš„ï¼Œæˆ‘å·¥ä½œä¸Šä¸å–œæ¬¢æ¢é¢†å¯¼ï¼Œå‰ä¸¤æ¬¡è·³æ§½ä¹Ÿéƒ½è·Ÿæ¢é¢†å¯¼æœ‰å¾ˆå¤§çš„å…³ç³»ã€‚ç´§æ¥ç€å°±æ˜¯ä¸€é¢äº¤æ¥ SDKsï¼Œä¸€é¢å­¦ä¹ æ¸¸æˆå¼€å‘ï¼Œéšç€åƒå¸† SDK3.1 å°æ¿ï¼Œæˆ‘å½»åº•å‘Šåˆ«äº†åšäº† 20 ä¸ªæœˆçš„æœ€æ±‚å“è¶Šçš„ SDK å¼€å‘å·¥ä½œï¼Œååˆ†ä¸èˆå¾—ï¼Œä½†æ˜¯åˆæ²¡æœ‰åŠæ³•ï¼Œä¸èˆæ˜¯å› ä¸ºå¦‚æœæ²¡æœ‰åƒå¸† SDK å°±æ²¡æœ‰æˆ‘æ¥å¤©æ´¥è¿™ä»¶äº‹ï¼Œä¹Ÿæ²¡æœ‰ç°åœ¨æˆ‘å¸¦èµ·æ¥çš„è¿™å¸®äººï¼Œä¸å¾—ä¸æ‰¿è®¤åœ¨åš SDK å¼€å‘çš„è¿™æ®µæ—¶é—´æ‘¸ç´¢åˆ°äº†å¾ˆå¤š SDK å¼€å‘çš„ç»éªŒï¼ŒæœŸé—´åšäº†å¾ˆå¤šçš„å°è¯•ä¸åˆ›æ–°ï¼å°è£…äº†ä¸€æ‰¹è‡ªå·±çš„åº“à²¥_à²¥ï¼ŒçœŸçœŸåˆ‡åˆ‡çš„å†™äº†å¥½å¤šä»£ç ï¼Œæ€è€ƒäº†å¾ˆå¤šï¼Œè¿›æ­¥é¢‡å¤šï¼Œæ„Ÿè°¢å›¢é˜Ÿï¼Œæ„Ÿæ©æˆ‘çš„é¢†å¯¼ï¼ é™¤äº†è¿™äº›ä¹‹å¤–ï¼Œæˆ‘ä»¬ç»„ç»‡äº†å¥½å¤šæ¬¡ä»£ç è¯„å®¡ï¼Œåå¤šæ¬¡æŠ€æœ¯åˆ†äº«ï¼Œåå‡ ç¯‡ issueï¼Œäººäººéƒ½æœ‰å‚ä¸å…¶ä¸­ï¼Œå¤§å®¶éƒ½ä»ä¸­å—ç›Šäº†ã€‚ 2018 è®¡åˆ’æ‹¥æŠ±å˜åŒ–ï¼ŒåŠªåŠ›åšå¥½ä¸»ç®¡å·¥ä½œï¼Œå¸¦é¢†å›¢é˜Ÿèµ°å‘å…‰æ˜ï¼Œä¸ºæ¸¸æˆäº‹ä¸šå¥‹æ–—åˆ°åº•ï¼ è¯´ç‚¹é«˜å…´çš„è¯é¢˜å§ï¼Œé‚£å°±æ˜¯ 2018 å¹´ï¼Œæˆ‘è¦å½“çˆ¸çˆ¸äº†ï¼Œæ•²é”£æ‰“é¼“è¿æ¥æˆ‘çš„ â€œç‹—å®â€ !","categories":[],"tags":[{"name":"ä¸ªäººæ€»ç»“","slug":"ä¸ªäººæ€»ç»“","permalink":"http://debugly.cn/tags/ä¸ªäººæ€»ç»“/"}]},{"title":"ä½¿ç”¨ CAGradientLayer å®ç°æ¸å˜é®ç½©","slug":"2017/10/20-CAGradientLayer","date":"2017-10-20T01:40:21.000Z","updated":"2018-03-27T14:45:15.704Z","comments":true,"path":"2017/10/20/2017/10/20-CAGradientLayer.html","link":"","permalink":"http://debugly.cn/2017/10/20/2017/10/20-CAGradientLayer.html","excerpt":"","text":"åœ¨åšæ­Œè¯æ˜¾ç¤ºçš„æ—¶å€™éœ€è¦å®ç°æ–‡å­—æ¸å˜æ¶ˆå¤±çš„æ•ˆæœï¼Œå‘åŒäº‹è¯·æ•™åçŸ¥é“äº†ä¸€ä¸ªå®ç°æ–¹æ³•ï¼šä½¿ç”¨ CAGradientLayer æ¥åšï¼Œä½†æ˜¯å¯¹CAGradientLayer çš„å±æ€§è®¾ç½®ä¸æ˜¯å¾ˆæ˜ç¡®ï¼Œæ‰€ä»¥è¿›è¡Œäº†æ€»ç»“ï¼Œç°å°†ä»£ç è´´å‡ºæ¥å¹¶åšè§£é‡Šè¯´æ˜ï¼Œæ–¹ä¾¿å¤§å®¶ä½¿ç”¨ï¼š å®ç°æ•ˆæœ 1ã€å®ç°ä»£ç 12345678910111213- (void)addLayerToView:(UIView *)view width:(CGFloat)width &#123; CAGradientLayer *gradientLayer = [CAGradientLayer layer]; gradientLayer.frame = CGRectMake(0, 0, width, view.bounds.size.height);; gradientLayer.colors = @[(__bridge id)[UIColor clearColor].CGColor,(__bridge id)[UIColor blackColor].CGColor,(__bridge id)[UIColor blackColor].CGColor,(__bridge id)[UIColor clearColor].CGColor]; gradientLayer.locations = @[@(0),@(0.1),@(0.9),@(1)]; gradientLayer.startPoint = CGPointMake(0, 0); gradientLayer.endPoint = CGPointMake(0, 1); CGRect frame = view.bounds; UIView *gradientView = [[UIView alloc] initWithFrame:frame]; [gradientView.layer addSublayer:gradientLayer]; view.maskView = gradientView;&#125; 2ã€CAGradientLayerå±æ€§è®¾ç½®ä¸Šé¢ä»£ç ä¸»è¦æ¶‰åŠCAGradientLayerçš„å››ä¸ªå±æ€§colors locations startPoint endPointï¼Œcolorsæ˜¯é¢œè‰²åˆ†é…ï¼Œlocationsæ˜¯é¢œè‰²åˆ†å‰²çº¿ï¼ŒstartPointä¸ºèµ·å§‹ç‚¹ï¼ŒendPointä¸ºç»ˆæ­¢ç‚¹ã€‚ ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œlocationsé‡Œé¢çš„å€¼ä»£è¡¨é¢œè‰²çš„åˆ†ç•Œçº¿ï¼Œå¦‚æœæƒ³è¦å®ç°viewçš„ä¸Šä¸‹ç«¯éƒ½æœ‰æ¸å˜æ¶ˆå¤±çš„æ•ˆæœï¼Œéœ€è¦å››ä¸ªé¢œè‰²å’Œå››ä¸ªé¢œè‰²åˆ†å‰²çº¿ï¼Œä¹Ÿå°±æ˜¯ä»0åˆ°0.1æ˜¯clearColor -&gt; blackColorï¼Œä»0.1-0.9ä¸å˜è‰²æ‰€ä»¥æ˜¯blackColor-&gt; blackColorï¼Œä»0.9-1æ˜¯blackColor -&gt; clearColorã€‚ã€‚ã€‚è¿™æ ·å°±å®ç°äº†åªæœ‰æ˜¾ç¤ºæ–‡å­—çš„viewçš„æœ€ä¸Šç«¯å’Œæœ€ä¸‹ç«¯å‡ºç°æ¸å˜æ•ˆæœï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"å®ç°éšéŸ³ä¹æ’­æ”¾æ»šåŠ¨æ­Œè¯çš„éŸ³ä¹æè¯å™¨","slug":"2017/10/12-lrc","date":"2017-10-12T01:49:58.000Z","updated":"2018-03-27T14:45:15.704Z","comments":true,"path":"2017/10/12/2017/10/12-lrc.html","link":"","permalink":"http://debugly.cn/2017/10/12/2017/10/12-lrc.html","excerpt":"","text":"ç”±äºå¼€å‘éœ€è¦å®ç°ä¸€ä¸ªéšéŸ³ä¹æ’­æ”¾æ»šåŠ¨æ­Œè¯çš„éŸ³ä¹æè¯å™¨ï¼Œé€šè¿‡ç½‘ä¸ŠæŸ¥æ‰¾èµ„æ–™ï¼Œå®ç°äº†æ•ˆæœï¼Œå°†ä»£ç è´´å‡ºæ¥ï¼Œæ–¹ä¾¿å¤§å®¶ä½¿ç”¨ï¼Œä¸»è¦æ­¥éª¤å¦‚ä¸‹ï¼š 1ã€æ­Œè¯è§£æTEMusicLrcParser.h 123456789101112#import &lt;Foundation/Foundation.h&gt;@interface LrcParser : NSObject//æ—¶é—´@property (nonatomic,strong) NSMutableArray *timerArray;//æ­Œè¯@property (nonatomic,strong) NSMutableArray *wordArray;//è§£ææ­Œè¯-(void) parseLrc:(NSString*)lrc;@end TEMusicLrcParser.m 1234567891011121314151617181920212223242526272829303132333435363738394041#import &quot;TEMusicLrcParser.h&quot;@interface LrcParser ()-(void) parseLrc:(NSString *)word;@end@implementation LrcParser-(instancetype) init&#123; self=[super init]; if(self!=nil)&#123; self.timerArray=[[NSMutableArray alloc] init]; self.wordArray=[[NSMutableArray alloc] init]; &#125; return self;&#125;-(void)parseLrc:(NSString *)lrc&#123; NSLog(@&quot;%@&quot;,lrc); if(![lrc isEqual:nil])&#123; NSArray *sepArray=[lrc componentsSeparatedByString:@&quot;[&quot;]; NSArray *lineArray=[[NSArray alloc] init]; [self.wordArray removeAllObjects]; [self.timerArray removeAllObjects]; for(int i=0;i&lt;sepArray.count;i++)&#123; if([sepArray[i] length]&gt;0)&#123; lineArray=[sepArray[i] componentsSeparatedByString:@&quot;]&quot;]; if(![lineArray[0] isEqualToString:@&quot;\\n&quot;])&#123; [self.timerArray addObject:lineArray[0]]; [self.wordArray addObject:lineArray.count&gt;1?lineArray[1]:@&quot;&quot;]; &#125; &#125; &#125; &#125;&#125;@end æ­Œè¯è§£æéƒ¨åˆ†ä¸»è¦æ˜¯å°†æ­Œè¯æ ¼å¼çš„å­—ç¬¦ä¸²åˆ‡åˆ†å¼€ï¼ŒwordArrayé‡Œé¢æ˜¯æ­Œè¯ï¼ŒtimerArrayé‡Œé¢æ˜¯æ¯å¥æ—¶é—´ç‚¹ 2ã€å®ç°æ­Œè¯çš„æ»šåŠ¨ä½¿ç”¨tableviewæ¥æ˜¾ç¤ºæ­Œè¯ TEMusicLrcView.h 12345678910111213141516171819#import &lt;UIKit/UIKit.h&gt;#import &lt;AVFoundation/AVFoundation.h&gt;#import \"TEMusicLrcParser.h\"@protocol TEMusicLrcViewDelegate &lt;NSObject&gt;@optional-(void) updateTime;//æ ¹æ®éŸ³ä¹æ’­æ”¾å™¨çš„æ—¶é—´æ›´æ–°æ—¶é—´ï¼Œä»£ç†ä¸­å®ç°@end@interface TEMusicLrcView : UITableView &lt;UITableViewDataSource,UITableViewDelegate&gt;@property (strong,nonatomic) LrcParser* lrcContent;@property (assign) NSInteger currentRow;@property (nonatomic, weak) id&lt;TEMusicLrcViewDelegate&gt; musicLrcViewDelegate;@property (nonatomic,strong) AVAudioPlayer *player;@property (nonatomic,strong) NSString *musicTotalLrc;//æ•´é¦–æ­Œçš„æ­Œè¯è§£æå‰çš„å­—ç¬¦ä¸²-(instancetype)initWithFrame:(CGRect)frame musicTotalLrc:(NSString *)musicTotalLrc;@end TEMusicLrcView.m 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#import &quot;TEMusicLrcView.h&quot;#import &quot;TECaptureViewController.h&quot;@interface TEMusicLrcView ()@property (nonatomic,strong) NSTimer *timer;@end@implementation TEMusicLrcView-(instancetype)initWithFrame:(CGRect)frame musicTotalLrc:(NSString *)musicTotalLrc&#123; self = [super initWithFrame:frame]; if(self) &#123; self.delegate=self; self.dataSource=self; self.lrcContent=[[LrcParser alloc] init]; self.separatorStyle = UITableViewCellSeparatorStyleNone; self.allowsSelection = NO; [self.lrcContent parseLrc:musicTotalLrc]; [self reloadData]; [NSTimer scheduledTimerWithTimeInterval:0.5 target:self selector:@selector(update) userInfo:nil repeats:YES]; UIImageView *bgView=[[UIImageView alloc] init]; bgView.backgroundColor = [UIColor clearColor]; //bgView.alpha=0.8; self.backgroundView=bgView; &#125; return self;&#125;-(void)update&#123; [self.musicLrcViewDelegate updateTime];&#125;-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section&#123; return self.lrcContent.wordArray.count;&#125;- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath&#123; if(indexPath.row==_currentRow)&#123; return 60.0/kVisualFactor; &#125; else&#123; return 54.0/kVisualFactor; &#125;&#125;-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath&#123; [tableView registerClass:[UITableViewCell class] forCellReuseIdentifier:@&quot;TEMusicLrcCell&quot;]; UITableViewCell *cell=[self dequeueReusableCellWithIdentifier:@&quot;TEMusicLrcCell&quot; forIndexPath:indexPath]; cell.textLabel.text=self.lrcContent.wordArray[indexPath.row]; if(indexPath.row==_currentRow)&#123; cell.textLabel.textColor = [UIColor colorFromHex:@&quot;ffda44&quot;]; cell.textLabel.font = [UIFont systemFontOfSize:34.0/kVisualFactor]; cell.textLabel.layer.shadowColor = [UIColor clearColor].CGColor; cell.textLabel.layer.shadowOffset = CGSizeMake(0.0f, 0.0f); &#125; else&#123; cell.textLabel.textColor = [UIColor colorWithWhite:1 alpha:0.7]; cell.textLabel.font = [UIFont systemFontOfSize:28.0/kVisualFactor]; cell.textLabel.layer.shadowOpacity = 1.0; cell.textLabel.layer.shadowColor = [UIColor colorWithWhite:0 alpha:0.4].CGColor; cell.textLabel.layer.shadowOffset = CGSizeMake(0.0f, 1.0f); cell.textLabel.layer.shadowRadius = 2; &#125; cell.textLabel.textAlignment = NSTextAlignmentCenter; cell.backgroundColor=[UIColor clearColor]; return cell;&#125;@end å…¶ä¸­æ›´æ–°æè¯å™¨çš„æ—¶é—´çš„å®ç°æ–¹æ³•æ˜¯ 1234567891011121314151617#pragma mark - æ›´æ–°æè¯å™¨æ—¶é—´-(void) updateTime&#123; CGFloat currentTime=self.musicPlayer.currentlocation;// NSLog(@&quot;%d:%d&quot;,(int)currentTime / 60, (int)currentTime % 60); for (int i=0; i&lt;self.musicLrcView.lrcContent.timerArray.count; i++) &#123; NSArray *timeArray=[self.musicLrcView.lrcContent.timerArray[i] componentsSeparatedByString:@&quot;:&quot;]; float lrcTime=[timeArray[0] intValue]*60+[timeArray[1] floatValue]; if(currentTime&gt;lrcTime)&#123;//è¿‡äº†è¿™å¥æ­Œè¯çš„èµ·å§‹æ—¶é—´åï¼Œåˆ·æ–°å½“å‰æ­Œè¯ self.musicLrcView.currentRow=i; &#125;else break; &#125; [self.musicLrcView reloadData]; [self.musicLrcView scrollToRowAtIndexPath:[NSIndexPath indexPathForRow:self.musicLrcView.currentRow inSection:0] atScrollPosition:UITableViewScrollPositionMiddle animated:YES];&#125; currentTimeä¸ºå½“å‰æ’­æ”¾å™¨çš„æ—¶é—´ï¼ŒlrcTimeä¸ºå½“å‰æ­Œè¯çš„å¼€å§‹æ—¶é—´ï¼Œè¿‡äº†è¿™å¥æ­Œè¯çš„èµ·å§‹æ—¶é—´åï¼Œåˆ·æ–°å½“å‰æ­Œè¯","categories":[],"tags":[{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"React Nativeå’ŒiOSåŸç”Ÿæ–¹æ³•äº¤äº’","slug":"2017/09/21-reactnative native invoke","date":"2017-09-21T15:24:54.000Z","updated":"2018-03-27T14:45:15.703Z","comments":true,"path":"2017/09/21/2017/09/21-reactnative native invoke.html","link":"","permalink":"http://debugly.cn/2017/09/21/2017/09/21-reactnative native invoke.html","excerpt":"","text":"åŸç”Ÿä¼ é€’å‚æ•°ç»™React Nativeåˆå§‹åŒ–æ—¶ä¼ å€¼1234- (instancetype)initWithBundleURL:(NSURL *)bundleURL moduleName:(NSString *)moduleName initialProperties:(NSDictionary *)initialProperties launchOptions:(NSDictionary *)launchOptions; é€šè¿‡åˆå§‹åŒ–æ–¹æ³•ä¸­çš„ initialProperties å¯ä»¥ç»™ RCTRootView ä¼ å€¼ appPropertiesä¼ å€¼åŒä¸Šé¢çš„æ–¹æ³•ç±»ä¼¼ï¼Œåªæ˜¯ä¸æ˜¯åœ¨åˆå§‹åŒ–æ—¶ä¼ å€¼ï¼Œåœ¨è®¾ç½® appProperties ä¹‹åï¼ŒReact Nativeåº”ç”¨å°†ä¼šæ ¹æ®æ–°çš„å±æ€§é‡æ–°æ¸²æŸ“ã€‚å½“ç„¶ï¼Œåªæœ‰åœ¨æ–°å±æ€§å’Œä¹‹å‰çš„å±æ€§æœ‰åŒºåˆ«æ—¶æ›´æ–°æ‰ä¼šè¢«è§¦å‘ã€‚ 123456789/** * The properties to apply to the view. Use this property to update * application properties and rerender the view. Initialized with * initialProperties argument of the initializer. * * Set this property only on the main thread. */ @property (nonatomic, copy, readwrite) NSDictionary *appProperties; ä¼ é€’çš„å‚æ•°ä¸ºOCçš„å­—å…¸ç±»å‹ï¼Œåœ¨jsä¸­å¯ä»¥é€šè¿‡å±æ€§å€¼.propsè®¿é—®å­—å…¸çš„keyï¼Œå°±å¯ä»¥å–åˆ°å‚æ•°å€¼ React Nativeæ‰§è¡ŒåŸç”Ÿæ–¹æ³•è°ƒç”¨Nativeæ–¹æ³•Nativeç«¯ï¼š é¦–å…ˆéœ€è¦è°ƒç”¨çš„åŸç”Ÿæ–¹æ³•éœ€è¦å®ç° RCTBridgeModule åè®® ç±»å®ç°ä¸­éœ€è¦æ·»åŠ  RCT_EXPORT_MODULE() çš„å® é€šè¿‡ RCT_EXPORT_METHOD()å® æ¥å®ç°éœ€è¦å¯¼å‡º javascript çš„æ–¹æ³• 12345678910@implementation YFTestObjectRCT_EXPORT_MODULE();RCT_EXPORT_METHOD(doSomethingCallback:(NSString *)string callback:(RCTResponseSenderBlock)callback)&#123; NSLog(@&quot;%@&quot;,string); callback(@[[NSNull null] ,@[@&quot;test1&quot;, @&quot;test2&quot;]]); // ç¬¬ä¸€ä¸ªerrorï¼Œç¬¬äºŒä¸ªå›è°ƒå‚æ•°&#125;@end JSç«¯ï¼š éœ€è¦å¼•ç”¨ NativeModules æ¨¡å— é€šè¿‡ NativeModules.xxx è·å– Native çš„ç±»ï¼Œxxxä¸ºNativeçš„ç±»å ä¸Šä¸€æ­¥è·å–åˆ°çš„ Native ç±»ï¼Œè°ƒç”¨ Native ä¸­å¯¼å‡ºçš„æ–¹æ³• 123456789101112131415render() &#123; return ( &lt;View style=&#123;styles.container&#125;&gt; &lt;TouchableHighlight onPress=&#123;()=&gt;testObject.doSomethingCallback(&apos;ç‚¹å‡»æŒ‰é’®ï¼ˆå›è°ƒï¼‰&apos;, (error,events)=&gt;&#123; if (error) &#123; console.error(error); &#125; else &#123; console.log(events); &#125; &#125;)&#125;&gt; &lt;Text style=&#123;styles.welcome&#125;&gt;ç‚¹å‡»ï¼ˆå›è°ƒï¼‰&lt;/Text&gt; &lt;/TouchableHighlight&gt; &lt;/View&gt; ); &#125; å¦‚æœéœ€è¦Natvieæ–¹æ³•å›è°ƒï¼Œéœ€è¦å°†å¯¼å‡ºçš„æ–¹æ³•å¢åŠ RCTResponseSenderBlockç±»å‹çš„å‚æ•°ï¼Œè¯¥å‚æ•°åˆ™ä¸ºæ–¹æ³•çš„å›è°ƒæ–¹æ³•","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"UIButtoné€‰ä¸­çŠ¶æ€ä¸‹ç‚¹å‡»è§¦å‘é«˜äº®çš„é—®é¢˜","slug":"2017/09/20-UIButton-highlight","date":"2017-09-20T10:27:03.000Z","updated":"2018-03-27T14:45:15.703Z","comments":true,"path":"2017/09/20/2017/09/20-UIButton-highlight.html","link":"","permalink":"http://debugly.cn/2017/09/20/2017/09/20-UIButton-highlight.html","excerpt":"","text":"åœ¨å†™å‘å°„å½©è›‹çº¢åŒ…é¡µé¢æ—¶ï¼Œéœ€è¦å®ç°è¿™æ ·ä¸€ä¸ªåŠŸèƒ½ï¼Œå³æœ‰ä¸¤åªè›‹ï¼Œä¸€åªå½©è›‹ï¼Œä¸€åªé‡‘è›‹ï¼Œç‚¹å‡»å…¶ä¸­ä¸€ä¸ªä¼šå˜å¤§ï¼Œå¦å¤–ä¸€ä¸ªä¼šå˜å°ï¼Œå…·ä½“æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å…·ä½“çš„å®ç°æ€è·¯æ˜¯è®¾ç½®ä¸¤åªè›‹çš„NormalçŠ¶æ€å’ŒSelectedçŠ¶æ€ä¸‹çš„å›¾ç‰‡ï¼Œä¸€å¼€å§‹å°†å½©è›‹è®¾ä¸ºé€‰ä¸­æ€ï¼Œå°†é‡‘è›‹è®¾ä¸ºæ­£å¸¸æ€ï¼Œç„¶ååœ¨å„è‡ªçš„ç‚¹å‡»äº‹ä»¶ä¸­å°†ä¸¤ä¸ªæŒ‰é’®çš„çŠ¶æ€éƒ½å–åï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å¤§å°çš„åˆ‡æ¢äº†ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š 12345- (void)clickGoldEgg:(UIButton *)sender&#123; if(sender.selected)&#123; return; &#125; sender.selected = !sender.selected; self.colorEggBtn.selected = !_colorEggBtn.selected; &#125; ä½†æ˜¯è¿™æ ·å†™ä¼šå‡ºç°é—®é¢˜ï¼Œå°±æ˜¯è›‹è›‹åœ¨ç‚¹å‡»ä¹‹åé«˜äº®çŠ¶æ€ä¸‹çš„æ˜¾ç¤ºé—®é¢˜ã€‚æˆ‘ä»¬çŸ¥é“ï¼ŒæŒ‰é’®æœ‰ä¸‰ç§çŠ¶æ€ï¼šUIControlStateNormalï¼ˆæ­£å¸¸ï¼‰ã€UIControlStateHighlightedï¼ˆé«˜äº®ï¼‰ã€UIControlStateSelectedï¼ˆé€‰ä¸­ï¼‰ã€‚ åœ¨æ­£å¸¸çŠ¶æ€ç‚¹å‡»æ—¶ä¸æ¾æ‰‹ä¼šè§¦å‘é«˜äº®çŠ¶æ€ï¼Œè°ƒç”¨ç³»ç»Ÿæ–¹æ³•ï¼ˆsetHighlightedï¼šï¼‰ï¼Œå¹¶æ˜¾ç¤ºä¸ºäº‹å…ˆè®¾ç½®çš„é«˜äº®çŠ¶æ€å›¾ç‰‡ï¼Œå¦‚æœä¹‹å‰æ²¡è®¾ç½®ï¼Œé»˜è®¤æ˜¾ç¤ºæ•ˆæœä¸ºåœ¨åŸå›¾ç‰‡ä¸‹åŠ ä¸€å±‚ç°è‰²ã€‚è¿™ä¸ªé—®é¢˜å¥½è§£å†³ï¼Œå¦‚æœä¸æƒ³æ˜¾ç¤ºé«˜äº®çŠ¶æ€ï¼Œåªéœ€è¦å°†é«˜äº®çŠ¶æ€ä¸‹çš„å›¾ç‰‡è®¾ç½®ä¸ºå’Œæ­£å¸¸çŠ¶æ€ä¸‹çš„ä¸€æ ·å°±å¥½äº†å˜›ï¼š 12[goldEgg setImage:[UIImage imageNamed:@\"goldegg\"] forState:UIControlStateNormal];[goldEgg setImage:[UIImage imageNamed:@\"goldegg\"] forState:UIControlStateHighlighted]; ç„¶è€Œåœ¨å˜æˆé€‰ä¸­çŠ¶æ€ä¹‹åï¼Œç‚¹å‡»å½©è›‹ï¼Œè¿˜æ˜¯ä¼šæœ‰highlightedçš„çŠ¶æ€ï¼Œè€Œä¸”è¿™æ¬¡æ˜¾ç¤ºçš„å›¾ç‰‡æ˜¯å°è›‹è€Œä¸æ˜¯å¤§è›‹ï¼ä½ ä»¬å¯ä»¥è‡ªè¡Œè„‘è¡¥ä¸€ä¸‹æ•ˆæœï¼Œä¸€åªå¤§é‡‘è›‹çªç„¶å˜æˆä¸ªå°è›‹ï¼Œä¸€æ¾æ‰‹åˆå˜æˆä¸ªå¤§çš„ï¼Ÿï¼ ä»€ä¹ˆé¬¼ï¼ å¤©çœŸçš„æˆ‘ä»¥ä¸ºæ˜¯highlightçŠ¶æ€è®¾ç½®çš„å›¾ç‰‡æ˜¯å°è›‹çš„åŸå› ï¼Œé©¬ä¸Šæ”¹æˆå¤§è›‹è¯•ä¸‹ï¼š 1[goldEgg setImage:[UIImage imageNamed:@\"goldeggpicked\"] forState:UIControlStateHighlighted]; æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼ï¼ï¼ çœ‹æ¥é€‰ä¸­çŠ¶æ€æ—¶çš„ç‚¹å‡»å¹¶ä¸æ˜¯hightlightedçŠ¶æ€å•Šï¼Œé‚£æ˜¯ä»€ä¹ˆçŠ¶æ€å‘¢ï¼Ÿåˆæ˜¯é€šè¿‡ä¸Šç½‘æ‰¾èµ„æ–™ï¼Œæˆ‘æ‰å‘ç°ï¼Œè¦é€‰ä¸­æ—¶é«˜äº®æ˜¯è¿™ä¸ªçŠ¶æ€ UIControlStateSelected | UIControlStateHighlighted ï¼Œåªè¦å°†è¿™ä¸ªçŠ¶æ€ä¸‹çš„å›¾ç‰‡è®¾ç½®æˆå’Œé€‰ä¸­çŠ¶æ€ä¸‹çš„ä¸€æ ·å°±å¥½å•¦ï¼ 12[goldEgg setImage:[UIImage imageNamed:@\"goldeggpicked\"] forState:UIControlStateSelected];[goldEgg setImage:[UIImage imageNamed:@\"goldeggpicked\"] forState:UIControlStateSelected|UIControlStateHighlighted]; é—®é¢˜å®Œç¾è§£å†³ï¼Œé‡‘è›‹å½©è›‹å¯ä»¥æ„‰å¿«åˆ‡æ¢å•¦ï¼ è™½ç„¶æ˜¯ä¸ªå°é—®é¢˜ï¼Œè¿˜æ˜¯è®°å½•ä¸‹å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚ä¸‡ä¸€ä¹Ÿé‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œä¸ç”¨æ‹…å¿ƒæ‰å‘å•¦ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"åœ¨UITableViewCellä¸Šæ·»åŠ æ‰‹åŠ¿çš„é—®é¢˜","slug":"2017/09/20-UITableViewAndUIGestureRecognizer","date":"2017-09-20T05:40:38.000Z","updated":"2018-03-27T14:45:15.703Z","comments":true,"path":"2017/09/20/2017/09/20-UITableViewAndUIGestureRecognizer.html","link":"","permalink":"http://debugly.cn/2017/09/20/2017/09/20-UITableViewAndUIGestureRecognizer.html","excerpt":"","text":"é—®é¢˜æè¿°åœ¨æŸä¸€äº›UITableViewCellä¸Šæ·»åŠ é•¿æŒ‰æ‰‹åŠ¿ã€‚ 1234567891011121314- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath&#123; SLPlaybackCommentViewCell *cell = [tableView dequeueReusableCellWithIdentifier:kSLPlaybackCommentViewCell]; SLZoneCommentModel *comment = [self.comments sc_objectOrNilAtIndex:indexPath.row]; [cell updateCell:comment]; if([[SLLiveUserCenter sdkUid] isEqualToString:comment.Uid]) &#123; UILongPressGestureRecognizer *longPressGR = [[UILongPressGestureRecognizer alloc]initWithTarget:self action:@selector(longPressGR:)]; longPressGR.minimumPressDuration = 1; [cell addGestureRecognizer:longPressGR]; &#125; return cell;&#125; ç°åœ¨ï¼Œåˆ—è¡¨é‡ŒæŸäº›cellæ·»åŠ äº†é•¿æŒ‰æ‰‹åŠ¿ï¼Œè¿™æ—¶åšå¦‚ä¸‹æ“ä½œï¼šå¤šæ¬¡æ»‘åŠ¨åˆ—è¡¨ï¼Œç„¶åå»é•¿æŒ‰é‚£äº›æ²¡æœ‰æ·»åŠ é•¿æŒ‰æ‰‹åŠ¿çš„cellï¼Œç«Ÿç„¶ä¹Ÿå“åº”äº†é•¿æŒ‰æ‰‹åŠ¿ã€‚ç»åˆ†æï¼ŒåŸæ¥æ˜¯cellé‡ç”¨å¯¼è‡´çš„è¿™ä¸ªé—®é¢˜ï¼Œæ»‘åŠ¨åˆ—è¡¨çš„è¿‡ç¨‹ä¸­ï¼Œé‚£äº›æ·»åŠ äº†é•¿æŒ‰æ‰‹åŠ¿çš„cellè¢«é‡ç”¨äº†ï¼Œæ‰€ä»¥å¯¼è‡´æŸäº›åŸæœ¬æ²¡æœ‰æ·»åŠ é•¿æŒ‰æ‰‹åŠ¿çš„cellä¹Ÿè¢«é™„ç€äº†é•¿æŒ‰æ‰‹åŠ¿ã€‚å¦å¤–ï¼Œè¿™ç§å†™æ³•ä¹Ÿä¼šå¯¼è‡´åœ¨ä¸€ä¸ªcellä¸Šå¤šæ¬¡æ·»åŠ é•¿æŒ‰æ‰‹åŠ¿ã€‚ è§£å†³æ–¹æ¡ˆå¦‚æœæˆ‘ä»¬åªéœ€è¦åœ¨UITableViewçš„æŸäº›ç¬¦åˆæ¡ä»¶çš„cellä¸Šæ·»åŠ æ‰‹åŠ¿ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨UITableViewä¸Šæ·»åŠ æ‰‹åŠ¿ï¼š 1234UITableView *contentTableView = [[UITableView alloc] init];UILongPressGestureRecognizer *longPressGR = [[UILongPressGestureRecognizer alloc]initWithTarget:self action:@selector(longPressGR:)];longPressGR.minimumPressDuration = 1;[contentTableView addGestureRecognizer:longPressGR]; ç„¶åæˆ‘ä»¬å»å®ç°æ‰‹åŠ¿çš„å¤„ç†æ–¹æ³•ï¼Œåœ¨å¤„ç†æ–¹æ³•é‡Œé¢å»åˆ¤æ–­å“ªäº›celléœ€è¦åšé€»è¾‘å¤„ç†ï¼š 123456789101112131415//é•¿æŒ‰æ‰‹åŠ¿å“åº”æ–¹æ³•-(void)longPressGR:(UILongPressGestureRecognizer *)gesture&#123; if(gesture.state == UIGestureRecognizerStateBegan) &#123; //è·å–è§¦æ‘¸ç‚¹ï¼Œæ ¹æ®è§¦æ‘¸ç‚¹ç¡®å®šå“ªä¸€è¡Œcellè¢«é•¿æŒ‰äº† CGPoint point = [gesture locationInView:self.contentTableView]; NSIndexPath * indexPath = [self.contentTableView indexPathForRowAtPoint:point]; if(indexPath == nil) return ; SLZoneCommentModel *comment = [self.comments sc_objectOrNilAtIndex:indexPath.row]; //åˆ¤æ–­è¯¥è¡Œcellæ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼ˆè‡ªå·±å®šä¹‰ï¼‰ï¼Œå¦‚æœä¸ç¬¦åˆç›´æ¥returnï¼Œç¬¦åˆäº†å†å»åšé€»è¾‘å¤„ç† if(![[SLLiveUserCenter sdkUid] isEqualToString:comment.Uid]) return; //é€»è¾‘å¤„ç† ... &#125;&#125; è¿™æ ·å°±è§£å†³äº†åªåœ¨æŸäº›UITableViewCellä¸Šæ·»åŠ æ‰‹åŠ¿çš„éœ€æ±‚ï¼Œå†ä¹Ÿä¸ç”¨æ€•cellé‡ç”¨å¯¼è‡´çš„æ·»åŠ æ‰‹åŠ¿ç›¸å…³çš„bugäº†ã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"TableViewCell ç‚¹å‡»åèƒŒæ™¯è’™å±‚å˜é€æ˜çš„è§£å†³æ–¹æ¡ˆ","slug":"2017/09/15-ws2","date":"2017-09-15T11:17:23.000Z","updated":"2018-03-27T14:45:15.702Z","comments":true,"path":"2017/09/15/2017/09/15-ws2.html","link":"","permalink":"http://debugly.cn/2017/09/15/2017/09/15-ws2.html","excerpt":"","text":"åšOpenSdkä¸‹è½½åˆ—è¡¨æ—¶ï¼Œ ç‚¹å‡»cell ,å°é¢å›¾ä¸Šä¼šæœ‰æš‚åœè’™å±‚ï¼ˆé»‘è‰²åŠé€æ˜ï¼ŒåŠ åœ¨äº†contentViewä¸Šï¼‰ï¼Œä½†æ˜¯ç‚¹å‡»å…¶å®ƒcellæ—¶ï¼Œ ç³»ç»Ÿä¼šæŠŠè¿™ä¸ªè’™å±‚çš„èƒŒæ™¯é¢œè‰²æ”¹ä¸ºé€æ˜ã€‚ è§£å†³æ–¹æ¡ˆï¼š éœ€è¦é‡å†™ç³»ç»Ÿçš„ setSelected:(BOOL)selected animated:(BOOL)animated æ–¹æ³•ï¼Œ åœ¨è¿™ä¸ªæ–¹æ³•ä¸­å°†èƒŒæ™¯è‰²é‡æ–°è®¾ç½®å›æ¥ã€‚ 12345678- (void)setSelected:(BOOL)selected animated:(BOOL)animated&#123; [super setSelected:selected animated:animated]; self.progressView.backgroundColor = SVFUIColor9; if(self.stateView)&#123; self.stateView.backgroundColor = __SCUIColorWithHexAndAplha(@\"0x000000\", 0.5); &#125;&#125;","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"å®ç°ä¸€ä¸ªå›¾ç‰‡ 360 åº¦ä¸åœæ—‹è½¬","slug":"2017/09/15-360rotate","date":"2017-09-15T08:07:58.000Z","updated":"2018-03-27T14:45:15.701Z","comments":true,"path":"2017/09/15/2017/09/15-360rotate.html","link":"","permalink":"http://debugly.cn/2017/09/15/2017/09/15-360rotate.html","excerpt":"","text":"æˆ‘æƒ³è¦å®ç°ä¸€ä¸ªå›¾ç‰‡ä¸åœçš„360åº¦æ—‹è½¬çš„åŠ¨ç”»æ•ˆæœï¼Œç±»ä¼¼äºåŠ è½½æ—¶å€™ä¸åœçš„è½¬åœˆåœˆï¼Œé€šè¿‡ç½‘ä¸ŠæŸ¥æ‰¾èµ„æ–™ï¼Œè¯•ç”¨äº†ä¸¤ç§æ–¹æ³•ï¼š 1ã€UIView åŠ¨ç”»é€’å½’çš„æ–¹å¼1234567891011- (void)startAnimation &#123; CGAffineTransform transform = CGAffineTransformMakeRotation(imageviewAngle * (M_PI / 180.0f)); [UIView animateWithDuration:0.01 delay:0 options:UIViewAnimationOptionCurveLinear animations:^&#123; imageView.transform = transform; &#125; completion:^(BOOL finished) &#123; imageviewAngle += 10; [self startAnimation]; &#125;]; &#125; ç‚¹å‡»ä¹‹åï¼Œæˆ‘è°ƒç”¨äº†è¿™ä¸ªæ–¹å¼è®©å›¾ç‰‡ä¸åœæ—‹è½¬ï¼Œä½†æ˜¯ä¸æ–­åœ°ç‚¹å‡»å°±ä¼šå¯¼è‡´å›¾ç‰‡è¶Šè½¬è¶Šå¿«ï¼ŒåŸå› æ˜¯è¿™ä¸ªå‡½æ•°æ˜¯é€’å½’çš„ï¼Œæ¯ç‚¹å‡»ä¸€æ¬¡å°±ä¼šå¢åŠ é€’å½’ï¼Œä½¿ä¹‹è§’åº¦å¢åŠ 10ï¼Œä¹‹å‰ç‚¹å‡»è§¦å‘çš„é€’å½’è°ƒç”¨å¹¶æ²¡æœ‰å‡ºå£ï¼Œå› æ­¤å¤šæ¬¡ç‚¹å‡»åimageviewAngleå°±åœ¨å¥½å‡ ä¸ªé€’å½’é‡Œä¸€ç›´ç´¯åŠ ï¼Œç‚¹å‡»æ¬¡æ•°è¶Šå¤šï¼Œç´¯åŠ çš„é¢‘ç‡ä¹Ÿå°±è¶Šå¿«ï¼Œæ‰€ä»¥å›¾ç‰‡å°±ä¼šè½¬çš„è¶Šæ¥è¶Šå¿«ï¼Œäºæ˜¯ä½¿ç”¨äº†ä¸‹é¢çš„æ–¹æ³•ã€‚ 2ã€CABasicAnimation æ–¹å¼12345678CABasicAnimation* rotationAnimation; rotationAnimation = [CABasicAnimation animationWithKeyPath:@\"transform.rotation.z\"]; rotationAnimation.toValue = [NSNumber numberWithFloat: M_PI * 2.0 ]; rotationAnimation.duration = duration; rotationAnimation.cumulative = YES; rotationAnimation.repeatCount = repeat; [_loadingView.layer addAnimation:rotationAnimation forKey:@\"rotationAnimation\"]; è¿™ç§æ–¹å¼ä¸ä¼šå‡ºç°ä¸æ–­ç‚¹å‡»å›¾ç‰‡è¶Šè½¬è¶Šå¿«çš„é—®é¢˜ï¼Œç§»é™¤æ‰åŠ¨ç”»å°±èƒ½åœæ­¢ï¼š 1[_loadingView.layer removeAnimationForKey:@&quot;rotationAnimation&quot;];","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"IOS åˆ·æ–° UITableView çš„ section æ—¶å´©æºƒ","slug":"2017/09/15-reloadSections","date":"2017-09-15T06:50:44.000Z","updated":"2018-03-27T14:45:15.702Z","comments":true,"path":"2017/09/15/2017/09/15-reloadSections.html","link":"","permalink":"http://debugly.cn/2017/09/15/2017/09/15-reloadSections.html","excerpt":"","text":"é—®é¢˜æè¿°åœ¨è°ƒç”¨UITableViewçš„å¦‚ä¸‹æ–¹æ³•æ—¶å´©æºƒ 12NSIndexSet *indexSet=[[NSIndexSet alloc]initWithIndex:1];[tableview reloadSections:indexSet withRowAnimation:UITableViewRowAnimationNone]; å´©æºƒä¿¡æ¯å¦‚ä¸‹ 123456789101112131415161718192021222324252627*** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Invalid update: invalid number of rows in section 3. The number of rows contained in an existing section after the update (1) must be equal to the number of rows contained in that section before the update (0), plus or minus the number of rows inserted or deleted from that section (0 inserted, 0 deleted) and plus or minus the number of rows moved into or out of that section (0 moved in, 0 moved out).'*** First throw call stack:( 0 CoreFoundation 0x0000000106ed0d4b __exceptionPreprocess + 171 1 libobjc.A.dylib 0x0000000105d5421e objc_exception_throw + 48 2 CoreFoundation 0x0000000106ed4e42 +[NSException raise:format:arguments:] + 98 3 Foundation 0x00000001058e966d -[NSAssertionHandler handleFailureInMethod:object:file:lineNumber:description:] + 195 4 UIKit 0x00000001094c377d -[UITableView _endCellAnimationsWithContext:] + 17558 5 UIKit 0x00000001094dac43 -[UITableView _updateSections:updateAction:withRowAnimation:headerFooterOnly:] + 487 6 SohuLiveDemo 0x0000000101a91ad3 __40-[SLAnchorsTabView loadRecommendAnchors]_block_invoke + 771 7 SohuLiveDemo 0x0000000101ada0cb __50-[SCNetworkService(Maker) sendRequest:completion:]_block_invoke + 155 8 SohuLiveDemo 0x0000000101942778 __39-[SCNetworkRequest doFinishWithResult:]_block_invoke_2 + 168 9 CoreFoundation 0x0000000106e600b2 __53-[__NSArrayM enumerateObjectsWithOptions:usingBlock:]_block_invoke + 114 10 CoreFoundation 0x0000000106e5ff42 -[__NSArrayM enumerateObjectsWithOptions:usingBlock:] + 194 11 SohuLiveDemo 0x00000001019425e2 __39-[SCNetworkRequest doFinishWithResult:]_block_invoke + 194 12 libdispatch.dylib 0x000000010b8f1978 _dispatch_call_block_and_release + 12 13 libdispatch.dylib 0x000000010b91b0cd _dispatch_client_callout + 8 14 libdispatch.dylib 0x000000010b8fb8a4 _dispatch_main_queue_callback_4CF + 406 15 CoreFoundation 0x0000000106e94e49 __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 9 16 CoreFoundation 0x0000000106e5a37d __CFRunLoopRun + 2205 17 CoreFoundation 0x0000000106e59884 CFRunLoopRunSpecific + 420 18 GraphicsServices 0x000000010c7a2a6f GSEventRunModal + 161 19 UIKit 0x0000000109384c68 UIApplicationMain + 159 20 SohuLiveDemo 0x000000010031b3ef main + 111 21 libdyld.dylib 0x000000010b96768d start + 1)libc++abi.dylib: terminating with uncaught exception of type NSException é—®é¢˜åˆ†æå´©æºƒä¿¡æ¯æè¿°å¤§æ¦‚æ˜¯è¿™ä¸ªæ„æ€ï¼Œè¿™ä¸ªåˆ·æ–°æ— æ•ˆï¼Œå…·ä½“æŒ‡section 3çš„è¡Œæ•°æ— æ•ˆã€‚ä¸‹é¢ç»™å‡ºäº†å…·ä½“çš„åŸå› ï¼Œsection 3åˆ·æ–°å‰æ˜¯1è¡Œï¼Œåˆ·æ–°åå˜æˆäº†0è¡Œï¼Œè€Œåœ¨reloadSectionsçš„seté‡Œè¾¹åˆæ²¡æœ‰åŒ…å«è¦åˆ·æ–°çš„section 3ï¼Œæ•…è¡¨åœ¨åˆ·æ–°çš„æ—¶å€™å°±æŠ¥é”™äº†ã€‚è¿™ä¸ªé—®é¢˜è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿ æˆ‘ä»¬åœ¨å±€éƒ¨åˆ·æ–°çš„æ—¶å€™ï¼Œè‹¥è¡¨æ•°æ®æ”¹å˜äº†ï¼Œä¸€å®šè¦æŠŠæ‰€æœ‰æ”¹å˜çš„åŒºï¼Œæˆ–è€…æ˜¯è¡Œéƒ½åŒ…å«è¿›å»ï¼Œæ‰èƒ½é¿å…å´©æºƒã€‚ è‹¥sectionçš„rowæ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œè€ƒè™‘ç›´æ¥ä½¿ç”¨reloadDataï¼Œå¯é¿å…å´©æºƒã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"Core Animation ä¸ UIView.frame","slug":"2017/09/14-layerAnimation_frame","date":"2017-09-14T09:02:23.000Z","updated":"2018-03-27T14:45:15.701Z","comments":true,"path":"2017/09/14/2017/09/14-layerAnimation_frame.html","link":"","permalink":"http://debugly.cn/2017/09/14/2017/09/14-layerAnimation_frame.html","excerpt":"","text":"å¼•è¨€ åœ¨åšä¸€æ¬¡å…³äºCore Animationçš„åˆ†äº«æ—¶ï¼Œè€å¤§æå‡ºäº†ä¸€ä¸ªå¾ˆæ˜¯å°–é”çš„é—®é¢˜â€”â€”å¦‚æœè®©layerä¿æŒåŠ¨ç”»åçš„çŠ¶æ€ï¼Œé‚£ä¹ˆlayerå¯¹åº”çš„viewçš„å“åº”åŒºåŸŸæ˜¯å¦æ˜¯åŠ¨ç”»åviewå±•ç¤ºåœ¨å±å¹•ä¸Šçš„åŒºåŸŸï¼Ÿå¸¦ç€è¿™ä¸ªé—®é¢˜ï¼Œå¼€å¯Core Animationä¸view.frameçš„è®¨è®ºã€‚ Core Animation ä¸ view.frameé¦–å…ˆï¼Œå…ˆæ¥çœ‹ä¸€ä¸‹Core Animationå¯¹view.frameçš„å½±å“ã€‚å¯¹äºCALayerï¼Œæœ‰ä»¥ä¸‹å±æ€§ä¼šå¯¹viewçš„frameäº§ç”Ÿå½±å“ï¼ŒåŒ…æ‹¬ï¼šanchorPointã€positionã€transformã€‚ é¦–å…ˆï¼Œé€šè¿‡ä»¥ä¸‹ä»£ç ï¼Œåˆ›å»ºäº†ä¸€ä¸ªçº¢è‰²buttonï¼Œå¹¶ä¸”åœ¨æ‰“å°å‡ºåŠ¨ç”»å‰buttonå’Œbutton.layerçš„frameï¼Œä¸ºäº†ä¾¿äºè§‚å¯ŸåŠ¨ç”»å‰åçš„ä½ç½®ï¼Œè¿˜åˆ›å»ºäº†ä¸€ä¸ªåªæœ‰é»‘è‰²è¾¹æ¡†çš„view 123456789101112131415UIButton *moveButton = [UIButton buttonWithType:UIButtonTypeCustom];moveButton.backgroundColor = [UIColor redColor];moveButton.frame = CGRectMake(50, 100, 40, 40);[moveButton addTarget:self action:@selector(moveButtonClicked) forControlEvents:UIControlEventTouchUpInside];[self.view addSubview:moveButton];self.moveButton = moveButton;NSLog(@&quot;åŠ¨ç”»ä¹‹å‰ frame: %@&quot;,NSStringFromCGRect(self.moveButton.frame));NSLog(@&quot;åŠ¨ç”»ä¹‹å‰ layer frame: %@&quot;,NSStringFromCGRect(self.moveButton.layer.frame));UIView *bgView = [[UIView alloc] initWithFrame:CGRectMake(48, 98, 44, 44)];bgView.backgroundColor = [UIColor clearColor];bgView.layer.borderColor = [UIColor blackColor].CGColor;bgView.layer.borderWidth = 1;[self.view addSubview:bgView]; åœ¨åŠ¨ç”»ç»“æŸä¹‹åï¼Œå†æ¬¡æ‰“å°buttonå’Œbutton.layerçš„frameï¼š 1234-(void)animationDidStop:(CAAnimation *)anim finished:(BOOL)flag&#123; NSLog(@&quot;åŠ¨ç”»ä¹‹å frame: %@&quot;,NSStringFromCGRect(self.moveButton.frame));&#125;NSLog(@&quot;åŠ¨ç”»ä¹‹å layer frame: %@&quot;,NSStringFromCGRect(self.moveButton.layer.frame)); anchorPointçœ‹ä¸€ä¸‹ä½¿ç”¨Core Animationå¯¹anchorPointåšåŠ¨ç”»ï¼š 123456789CABasicAnimation *positionAnimation = [CABasicAnimation animationWithKeyPath:@&quot;anchorPoint.x&quot;];positionAnimation.fromValue = @0.5;positionAnimation.toValue = @1;positionAnimation.duration = 1;positionAnimation.repeatCount = 1;positionAnimation.delegate = self;positionAnimation.fillMode = kCAFillModeForwards;positionAnimation.removedOnCompletion = NO;[self.moveButton.layer addAnimation:positionAnimation forKey:@&quot;anchorPoint&quot;]; åŠ¨ç”»åå¦‚ä¸‹ï¼š æ­¤æ—¶ï¼Œçœ‹ä¸€ä¸‹consoleä¸­çš„å…³äºframeçš„è¾“å‡ºä¿¡æ¯ï¼š ä½¿ç”¨Core Animationå¯¹anchorPointåšåŠ¨ç”»å‰åï¼Œè™½ç„¶åœ¨å±å¹•ä¸Šçœ‹èµ·æ¥ï¼Œbuttonçš„ä½ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†æ˜¯ä»consoleçš„è¾“å‡ºå¯ä»¥çœ‹å‡ºï¼Œbuttonå’Œbutton.layerçš„frameæ˜¯æ²¡æœ‰å˜åŒ–çš„ã€‚ å¹¶ä¸”ï¼Œæ­¤æ—¶ç‚¹å‡»çº¢è‰²buttonå·¦åŠè¾¹ï¼Œæ˜¯ä¸ä¼šè§¦å‘buttonçš„å“åº”äº‹ä»¶çš„ï¼Œè€Œç‚¹å‡»é»‘æ¡†ä¸­çš„åŒºåŸŸï¼Œå³çº¢è‰²buttonåŠ¨ç”»å‰çš„åŒºåŸŸï¼Œæ˜¯å¯ä»¥è§¦å‘buttonçš„å“åº”äº‹ä»¶ã€‚ positionæ¥ä¸‹æ¥çœ‹ä¸€ä¸‹å¯¹layerçš„positionåšCAåŠ¨ç”»ï¼Œframeçš„å˜åŒ–ã€‚ 123456789CABasicAnimation *positionAnimation = [CABasicAnimation animationWithKeyPath:@&quot;position.x&quot;];positionAnimation.fromValue = @70;positionAnimation.toValue = @250;positionAnimation.duration = 1;positionAnimation.repeatCount = 1;positionAnimation.delegate = self;positionAnimation.fillMode = kCAFillModeForwards;positionAnimation.removedOnCompletion = NO;[self.moveButton.layer addAnimation:positionAnimation forKey:@&quot;Position&quot;]; åŠ¨ç”»åå¦‚ä¸‹ï¼š consoleä¸­çš„å…³äºframeçš„è¾“å‡ºä¿¡æ¯ï¼š çº¢è‰²buttonçš„frameä¾ç„¶æ²¡æœ‰å˜åŒ–ï¼Œå¹¶ä¸”ï¼Œåªæœ‰ç‚¹å‡»é»‘æ¡†ä¸­çš„åŒºåŸŸï¼Œæ‰èƒ½è§¦å‘buttonçš„å“åº”äº‹ä»¶ã€‚ transformtransformå¯ä»¥å¯¹layerå®ç°æ—‹è½¬rotationã€ç¼©æ”¾scaleã€å¹³ç§»transitionç­‰åŠ¨ç”»ã€‚ å¯¹äºrotationï¼š 123456789CABasicAnimation *rotationAnimation = [CABasicAnimation animationWithKeyPath:@&quot;transform.rotation.z&quot;];rotationAnimation.fromValue = @0;rotationAnimation.toValue = @(M_PI/4);rotationAnimation.duration = 1;rotationAnimation.repeatCount = 1;rotationAnimation.delegate = self;rotationAnimation.fillMode = kCAFillModeForwards;rotationAnimation.removedOnCompletion = NO;[self.moveButton.layer addAnimation:rotationAnimation forKey:@&quot;Rotation&quot;]; å¯¹äºscaleï¼š 123456789CABasicAnimation *scaleAnimation = [CABasicAnimation animationWithKeyPath:@&quot;transform.scale&quot;];scaleAnimation.fromValue = @0.5;scaleAnimation.toValue = @3;scaleAnimation.duration = 1;scaleAnimation.repeatCount = 1;scaleAnimation.removedOnCompletion = NO;scaleAnimation.fillMode = kCAFillModeForwards;scaleAnimation.delegate = self;[self.moveButton.layer addAnimation:scaleAnimation forKey:@&quot;Scale&quot;]; å¯¹äºtransitionï¼š 123456789CABasicAnimation *rotationXAnimation1 = [CABasicAnimation animationWithKeyPath:@&quot;transform.translation.x&quot;];rotationXAnimation1.fromValue = @(0);rotationXAnimation1.toValue = @200;rotationXAnimation1.duration = 1;rotationXAnimation1.removedOnCompletion = NO;rotationXAnimation1.fillMode = kCAFillModeForwards;rotationXAnimation1.repeatCount = 1;rotationXAnimation1.delegate = self;[self.moveButton.layer addAnimation:rotationXAnimation1 forKey:@&quot;Translation&quot;] å¹¶ä¸”ä¸Šè¿°ä¸‰ç§åŠ¨ç”»ä¹‹åï¼Œconsoleä¸­çš„è¾“å‡ºå‡ä¸ºä¸‹å›¾æ‰€ç¤ºï¼š çº¢è‰²buttonçš„frameä¾ç„¶æ²¡æœ‰å˜åŒ–ï¼Œå¹¶ä¸”ï¼Œåªæœ‰ç‚¹å‡»é»‘æ¡†ä¸­çš„åŒºåŸŸï¼Œæ‰èƒ½è§¦å‘buttonçš„å“åº”äº‹ä»¶ã€‚ ç»“è®ºç”±æ­¤å¾—å‡ºç»“è®ºï¼ŒCore Animationæ˜¯ä½œç”¨åœ¨CALayerä¸Šçš„ï¼Œä¸è®ºCALayeråœ¨åŠ¨ç”»ç»“æŸå‰åï¼Œæ˜¯å¦ä¿æŒåŠ¨ç”»åçš„çŠ¶æ€ï¼Œéƒ½ä¸ä¼šæ”¹å˜viewå’Œview.layerçš„frameä»¥åŠviewçš„äº‹ä»¶å“åº”åŒºåŸŸï¼Œå³viewå’Œview.layerçš„frameå‡ä¸ä¼šæ”¹å˜ï¼Œå¹¶ä¸”viewçš„äº‹ä»¶å“åº”åŒºåŸŸä¹Ÿæ²¡æœ‰æ”¹å˜ã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"ä½¿ç”¨ä¿¡å·é‡è§£å†³å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜","slug":"2017/09/14-use-semaphore","date":"2017-09-14T01:10:42.000Z","updated":"2018-03-27T14:45:15.701Z","comments":true,"path":"2017/09/14/2017/09/14-use-semaphore.html","link":"","permalink":"http://debugly.cn/2017/09/14/2017/09/14-use-semaphore.html","excerpt":"","text":"ä¸´æ—¶å¸®å¿™å»åšäº†ä¸€æœŸåƒå¸†å°è§†é¢‘çš„SDKï¼Œå¤§è‡´çš„æµç¨‹æ˜¯è¿™æ ·çš„ : å½•åˆ¶å°è§†é¢‘å…¬å¼€äº†ä¸¤ä¸ªä¸²è¡Œé˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯å¤„ç†æ‘„åƒå¤´å›è°ƒçš„ï¼Œä¸€ä¸ªæ˜¯å¤„ç†éº¦å…‹é£æ•°æ®å›è°ƒçš„ï¼Œå½“ç”¨æˆ·æŒ‰ä¸‹å½•åˆ¶æŒ‰é’®æ—¶å¼€å§‹é‡‡é›†éŸ³è§†é¢‘ï¼Œé€šè¿‡ä»£ç†æ–¹æ³•æ‹¿åˆ°ä¸€å¸§å¸§çš„æ•°æ®ï¼Œå½“æ£€æµ‹åˆ°éŸ³é¢‘^1æ—¶å°±åˆ›å»ºä¸€ä¸ªç¼–ç å™¨ï¼Œå¼€å§‹ç¼–ç ï¼Œç”¨æˆ·æ¾æ‰‹ååœæ­¢ç¼–ç ã€‚ IMPçœ‹ä»£ç ä¹‹å‰éœ€è¦è¯´æ˜ä¸‹ï¼Œè½¬ç å™¨çš„åˆ›å»ºã€å¼€å§‹/åœæ­¢ç¼–ç è¦åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œè¿™äº›æ“ä½œæ˜¯ä¸è€—æ—¶çš„ï¼Œä¸ºäº†ç®€å•å°±åœ¨ä¸»çº¿ç¨‹ä¸­åšï¼Œä»£ç å¦‚ä¸‹: 12345678910111213141516171819202122if (self.recordEncoder) &#123; NSLog(@\"--xql-prepare-created\"); return;&#125;WS(weakSelf);dispatch_block_t execute = ^&#123; SS(strongSelf); self.recordEncoder = [[TERecordEncoder alloc]initWithSavePath:videoPath muxerItem:item]; NSLog(@\"create encoder:%@\",self.recordEncoder);&#125;;if([NSThread isMainThread])&#123; NSLog(@\"dispatch_main_sync\"); execute();&#125;else&#123; NSLog(@\"dispatch_sync_begin\"); dispatch_sync(dispatch_get_main_queue(), execute);&#125; è§£é‡Šï¼š å¦‚æœå·²ç»åˆ›å»ºäº†ï¼Œä¸è¦é‡å¤åˆ›å»ºï¼› å¦‚æœå½“å‰å°±åœ¨ä¸»çº¿ç¨‹ï¼Œåˆ™ç›´æ¥æ‰§è¡Œï¼›å¦åˆ™å°±åŒæ­¥åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œæ³¨æ„æˆ‘ç”¨ dispatch_sync[^2] å‡½æ•°ï¼Œä¸»è¦è€ƒè™‘åˆ°ç¼–ç å™¨å¿…é¡»è¦åˆå§‹åŒ–å®Œæˆåï¼Œæ‰èƒ½å¼€å§‹ç¼–ç ï¼Œå¦åˆ™æ—¶åºå°±ä¹±äº†ã€‚ Holeæµ‹è¯•çš„æ—¶å€™å‘ç°ï¼Œå¦‚æœè¿ç»­ç‹‚ç‚¹å½•åˆ¶æŒ‰é’®ï¼ˆæŒ‰ä¸‹æ¾å¼€/å¼€å§‹å½•åˆ¶åœæ­¢å½•åˆ¶ï¼‰çš„è¯ï¼Œä¼šå¯¼è‡´ä¸Šæ¬¡ç¼–ç è¿˜æ²¡ç»“æŸï¼Œåˆåˆ›å»ºäº†ä¸€ä¸ªç¼–ç å™¨ï¼Œè¿™å°±å‡ºäº†é—®é¢˜äº†ï¼Œè§£ç å™¨å†…éƒ¨é”™è¯¯ï¼›ç¼–ç ç»„è¦æ±‚æ—¶åºè¦æ­£ç¡®ï¼Œä¸èƒ½åŒæ—¶æä¸¤ä¸ªç¼–ç å™¨ç¼–ç ï¼Œå¿…é¡»ç­‰ä¸Šä¸€ä¸ªå®Œæˆï¼ æˆ‘å°±åœ¨ä»£ç é‡ŒåŠ äº†logï¼Œç„¶åå‘ç°ç¼–ç å™¨ç¡®å®åˆ›å»ºäº†ä¸¤æ¬¡ï¼Œä½†æ˜¯çœ‹ä»£ç ä¸çŸ¥é“å“ªé‡Œå‡ºäº†é—®é¢˜äº†ï¼Œå› ä¸ºlogæ˜¾ç¤ºéƒ½æ˜¯åœ¨å¼‚æ­¥çº¿ç¨‹åŒæ­¥åˆ°ä¸»çº¿ç¨‹åˆ›å»ºçš„ï¼Œä»£ç†queueéƒ½æ˜¯ä¸²è¡Œçš„ã€‚ ç„¶åæˆ‘åœ¨logé‡ŒåŠ ä¸Šäº†çº¿ç¨‹çš„ä¿¡æ¯ï¼Œå‘ç°åˆ›å»ºä¸¤æ¬¡ç«Ÿç„¶æ˜¯åœ¨ä¸åŒçš„çº¿ç¨‹é‡Œåˆ›å»ºçš„ï¼Œæˆ‘æç„¶å¤§æ‚Ÿï¼šå› ä¸ºæ•°æ®æ˜¯ä»ä¸¤ä¸ªé˜Ÿåˆ—é‡Œåå‡ºæ¥çš„ï¼Œæœ‰å¯èƒ½æ˜¯è§†é¢‘çš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯éŸ³é¢‘çš„ï¼Œè™½ç„¶éƒ½æ˜¯ä¸²è¡Œçš„ï¼Œä½†æ˜¯å¯èƒ½åŒæ—¶å›è°ƒï¼Œäºæ˜¯è¿™å—ä»£ç å°±æ„æˆäº†ç«æ€æ¡ä»¶äº†ï¼ é‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯å¤„ç†å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜äº†ï¼Œä¸€èˆ¬éƒ½æ˜¯åŠ åŒæ­¥å—ï¼ŒåŠ é”ï¼Œä¸²è¡Œé˜Ÿåˆ—ï¼Œä¿¡å·é‡ç­‰ç­‰ã€‚ Semaphore &amp; äº’æ–¥é”å°†ä¿¡å·é‡è®¾ç½®ä¸º1ï¼Œåšä¸€æŠŠäº’æ–¥é”å°±å¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜äº†:å¦‚æœæ˜¯è§†é¢‘å›è°ƒå…ˆè·å¾—äº†ä¿¡å·é‡ï¼Œé‚£ä¹ˆéŸ³é¢‘å›è°ƒå°±éœ€è¦ç­‰å¾…ï¼Œå› ä¸ºæ²¡æœ‰å¯ç”¨çš„ä¿¡å·é‡äº†ï¼Œç­‰å¾…ç»“æŸåï¼Œæˆ‘ä»¬çš„ç¼–ç å™¨ä¹Ÿå°±åˆ›å»ºå¥½äº†ï¼Œåˆ›å»ºçš„è¿‡ç¨‹åˆæ˜¯åŒæ­¥çš„ï¼Œå› æ­¤æ¥ä¸‹æ¥å°±å¯ä»¥ç¼–ç äº†ï¼›åä¹‹ï¼ŒéŸ³é¢‘å›è°ƒå…ˆæ¥äº†ï¼Œé‚£ä¹ˆè§†é¢‘å›è°ƒæ—¶ä¹Ÿåªèƒ½ç­‰ç€ï¼ ä»£ç ä¿®æ”¹å¦‚ä¸‹: 123init&#123; self.semaphore = dispatch_semaphore_create(1);&#125; 123456789101112131415161718192021222324252627///è§†é¢‘çš„çº¿ç¨‹å’ŒéŸ³é¢‘çš„çº¿ç¨‹éƒ½ä¼šèµ°è¿™ä¸ªæ–¹æ³•ï¼Œå› æ­¤åšä¸ªä¿¡å·é‡ä¿è¯åŒæ­¥ï¼›dispatch_semaphore_wait(self.semaphore, DISPATCH_TIME_FOREVER);if (self.recordEncoder) &#123; NSLog(@\"--xql-prepare-created\"); dispatch_semaphore_signal(self.semaphore); return;&#125; WS(weakSelf);dispatch_block_t execute = ^&#123; SS(strongSelf); self.recordEncoder = [[TERecordEncoder alloc]initWithSavePath:videoPath muxerItem:item]; NSLog(@\"create encoder:%@\",self.recordEncoder);&#125;;if([NSThread isMainThread])&#123; NSLog(@\"dispatch_main_sync\"); execute(); dispatch_semaphore_signal(self.semaphore);&#125;else&#123; NSLog(@\"dispatch_sync_begin\"); dispatch_sync(dispatch_get_main_queue(), execute); NSLog(@\"dispatch_sync_end:%@\",self.recordEncoder); dispatch_semaphore_signal(self.semaphore);&#125; åªè¦è¿›å…¥ç«æ€åŒºå°±è¦è·å–ä¿¡å·é‡ï¼Œç”¨å®Œä¹‹åè¦è®°å¾—é‡Šæ”¾ä¿¡å·é‡ï¼Œå¦åˆ™ä¼šå¯¼è‡´çº¿ç¨‹æ­»ç­‰ï¼ä¿¡å·é‡ä½¿ç”¨è¿™å—å®Œå…¨å¯ä»¥å°è£…æˆä¸€æŠŠé”ğŸ”æ¥ç”¨ï¼ [^2]: dispatch_sync(dispatch_queue_t queue, DISPATCH_NOESCAPE dispatch_block_t block);çš„ä½œç”¨æ˜¯ï¼šå°†é€šè¿‡blockæ·»åŠ çš„ä»»åŠ¡æ´¾å‘åˆ°æŒ‡å®šçš„queueå»æ‰§è¡Œï¼Œè¿™ä¸€è¿‡ç¨‹å°†é˜»å¡å½“å‰çº¿ç¨‹ï¼Œåªæœ‰å½“ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œé€»è¾‘æ‰èƒ½æ¥ç€å¾€ä¸‹èµ°ï¼›å¦‚æœå½“å‰çº¿ç¨‹å’ŒæŒ‡å®šçš„queueæ˜¯ç»Ÿä¸€çº¿ç¨‹çš„è¯å°±ä¼šæ­»é”ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"Cè¯­è¨€mallocã€freeã€memmove","slug":"2017/09/13-c-malloc","date":"2017-09-13T11:06:42.000Z","updated":"2018-03-27T14:45:15.699Z","comments":true,"path":"2017/09/13/2017/09/13-c-malloc.html","link":"","permalink":"http://debugly.cn/2017/09/13/2017/09/13-c-malloc.html","excerpt":"","text":"åœ¨å¼€å‘æ–—åœ°ä¸»çš„è¯­éŸ³æˆ¿æ—¶ï¼Œæ˜¾ç¤ºå½“å‰éŸ³é‡ç”¨çš„Cè¯­è¨€å®ç°ï¼Œä¼šåˆ†é…bufferåœ°å€ï¼Œæœ€åé‡Šæ”¾bufferï¼Œä½¿ç”¨äº†mallocã€freeå’Œmemmoveç­‰æ–¹æ³•ã€‚ä¸‰ä¸ªæ–¹æ³•çš„å…·ä½“ä½¿ç”¨å¦‚ä¸‹ï¼š mallocvoid *malloc(long NumBytes); è¯¥å‡½æ•°åˆ†é…äº†NumBytesä¸ªå­—èŠ‚ï¼Œå¹¶è¿”å›äº†æŒ‡å‘è¿™å—å†…å­˜çš„æŒ‡é’ˆã€‚å¦‚æœåˆ†é…å¤±è´¥ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæŒ‡é’ˆï¼ˆNULLï¼‰ã€‚ å¤±è´¥çš„åŸå› æœ‰å¤šç§ï¼Œæ¯”å¦‚è¯´ç©ºé—´ä¸è¶³ã€‚ freefree(void *FirstByte);```12345678è¯¥å‡½æ•°æ˜¯å°†ä¹‹å‰ç”¨mallocåˆ†é…çš„ç©ºé—´è¿˜ç»™ç¨‹åºæˆ–è€…æ˜¯æ“ä½œç³»ç»Ÿï¼Œä¹Ÿå°±æ˜¯é‡Šæ”¾äº†è¿™å—å†…å­˜ã€‚å¯¹äºfree(p)è¿™å¥è¯­å¥ï¼Œå¦‚æœpæ˜¯NULLæŒ‡é’ˆï¼Œé‚£ä¹ˆfreeå¯¹pæ— è®ºæ“ä½œå¤šå°‘æ¬¡éƒ½ä¸ä¼šå‡ºé—®é¢˜ã€‚å¦‚æœpä¸æ˜¯NULLæŒ‡é’ˆï¼Œé‚£ä¹ˆfreeå¯¹pè¿ç»­æ“ä½œä¸¤æ¬¡å°±ä¼šå¯¼è‡´ç¨‹åºè¿è¡Œé”™è¯¯ã€‚æ¯æ¬¡ç”¨freeé‡Šæ”¾å®Œç©ºé—´ï¼Œéƒ½å°†æŒ‡é’ˆç½®ä¸ºNULLï¼Œè¿™æ ·å°±é¿å…äº†é‡å¤é‡Šæ”¾æ—¶ç¨‹åºå´©æºƒã€‚## memmove```cvoid *memcpy(void *dst, const void *src, size_t count);void *memmove(void *dst, const void *src, size_t count); éƒ½æ˜¯ç”±srcæ‰€æŒ‡å†…å­˜åŒºåŸŸå¤åˆ¶countä¸ªå­—èŠ‚åˆ°destæ‰€æŒ‡å†…å­˜åŒºåŸŸã€‚ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå½“å†…å­˜å‘ç”Ÿå±€éƒ¨é‡å çš„æ—¶å€™ï¼Œmemmoveä¿è¯æ‹·è´çš„ç»“æœæ˜¯æ­£ç¡®çš„ï¼Œmemcpyä¸ä¿è¯æ‹·è´çš„ç»“æœçš„æ­£ç¡®ï¼Œä½†memcopyæ¯”memmoveçš„é€Ÿåº¦è¦å¿«ä¸€äº›ã€‚ åœ¨ä½¿ç”¨freeæ—¶ï¼Œä¼šé‡åˆ°å´©æºƒçš„æƒ…å†µï¼Œåº”è¯¥æ˜¯é‡åˆ°é‡æŒ‡é’ˆçš„é—®é¢˜ï¼Œå¯¹åŒä¸€å†…å­˜å¤šæ¬¡é‡Šæ”¾ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨freeåï¼Œåº”è¯¥å°†æŒ‡é’ˆç½®ä¸ºNULLã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"UIScrollView çš„ scrollsToTop å¤±æ•ˆé—®é¢˜","slug":"2017/09/13-scrollsToTop","date":"2017-09-13T09:58:21.000Z","updated":"2018-03-27T14:45:15.700Z","comments":true,"path":"2017/09/13/2017/09/13-scrollsToTop.html","link":"","permalink":"http://debugly.cn/2017/09/13/2017/09/13-scrollsToTop.html","excerpt":"","text":"ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå½“å‰é¡µé¢æœ‰æ»šåŠ¨è§†å›¾(UIScrollViewæˆ–è€…UIScrollViewçš„å­ç±»)æ—¶ï¼Œè§¦æ‘¸çŠ¶æ€æ ï¼Œè§†å›¾ä¼šè‡ªåŠ¨æ»šåŠ¨çš„æœ€é¡¶ç«¯ã€‚å¦‚æœé¡µé¢æœ‰å¤šä¸ªæ»šåŠ¨è§†å›¾ï¼Œä¸”æ˜¯iOS10.0ä»¥ä¸‹çš„ç³»ç»Ÿï¼Œä½ ä¼šå‘ç°è§¦æ‘¸çŠ¶æ€æ æ²¡æœ‰ååº”äº†ï¼Œå›åˆ°é¡¶éƒ¨åŠŸèƒ½å¤±æ•ˆäº†ã€‚ç›®å‰iOS10.0æˆ–ä»¥ä¸Šç³»ç»Ÿæ²¡å‘ç°å­˜åœ¨è¿™ä¸ªé—®é¢˜ã€‚ è§£å†³æ–¹æ¡ˆç»ç ”ç©¶å‘ç°ï¼ŒUIScrollViewæœ‰ä¸ªscrollsToTopå±æ€§ï¼Œè¿™ä¸ªå±æ€§å°±æ˜¯æ§åˆ¶æ»šåŠ¨åˆ°é¡¶éƒ¨æ‰‹åŠ¿çš„å¼€å…³ã€‚å®ƒçš„é»˜è®¤å€¼æ˜¯YES ï¼Œæ‰€ä»¥ä¸ç”¨æˆ‘ä»¬è®¾ç½®ï¼Œé»˜è®¤æ˜¯æ”¯æŒæ»šåŠ¨åˆ°é¡¶éƒ¨çš„ã€‚ç»§ç»­å›åˆ°ä¸Šé¢é‡åˆ°çš„é—®é¢˜ï¼Œæ—¢ç„¶é»˜è®¤æ˜¯YESï¼Œä¸ºä»€ä¹ˆå›åˆ°é¡¶éƒ¨çš„åŠŸèƒ½å¤±æ•ˆäº†å‘¢ï¼Œè¿™æ˜¯å› ä¸ºæœ‰å¤šä¸ªUIScrollViewçš„æƒ…å†µä¸‹ï¼Œä»–ä»¬é»˜è®¤éƒ½æœ‰scrollsToTopçš„åŠŸèƒ½ï¼Œæ‰€ä»¥è§¦æ‘¸çŠ¶æ€æ æ—¶ï¼Œç³»ç»Ÿæ— æ³•åˆ¤æ–­æ˜¯ä½¿å“ªä¸ªUIScrollViewå›åˆ°é¡¶éƒ¨ã€‚è§£å†³æ–¹æ¡ˆå¾ˆç®€å•ï¼Œå¦‚æœå½“å‰é¡µé¢æœ‰å¤šä¸ªæ»šåŠ¨è§†å›¾çš„è¯ï¼Œè¦ç¡®ä¿åªæœ‰ä¸€ä¸ªæ»šåŠ¨è§†å›¾çš„scrollsToTopä¸ºYESï¼Œè¿™æ ·ç³»ç»Ÿå°±çŸ¥é“è¦ä½¿å“ªä¸ªUIScrollViewå›åˆ°é¡¶éƒ¨äº†ã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"UIButton è®¾ç½®å›¾ç‰‡çš„ contentMode","slug":"2017/09/13-ws1","date":"2017-09-13T02:02:54.000Z","updated":"2018-03-27T14:45:15.700Z","comments":true,"path":"2017/09/13/2017/09/13-ws1.html","link":"","permalink":"http://debugly.cn/2017/09/13/2017/09/13-ws1.html","excerpt":"","text":"åœ¨å¼€å‘å½©è›‹çº¢åŒ…æ—¶ï¼Œæœ‰ä¸¤ä¸ªå‘é€çº¢åŒ…çš„æŒ‰é’® â€œ+â€å’Œ â€œ-â€ã€‚è¿™ä¸¤ä¸ªæŒ‰é’®æ˜¯ä¸¤å¼ å›¾ç‰‡ã€‚åœ¨è®¾ç½®å›¾ç‰‡æ—¶ï¼Œå‘ç°å…¶ä¸èƒ½å¾ˆå¥½çš„é€‚é…6 plusæœºå‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚äºæ˜¯æˆ‘å°è¯•äº†è®¾ç½®å›¾ç‰‡çš„contentMode: 1[minus.imageView setContentMode:UIViewContentModeScaleToFill]; ç„¶è€Œå¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ã€‚ã€‚ã€‚å›¾ç‰‡è¿˜æ˜¯ä¸èƒ½å¡«å……æ•´ä¸ªæŒ‰é’®ï¼Œåæ¥æŸ¥é˜…èµ„æ–™æ‰å‘ç°ï¼Œè®¾ç½®å›¾ç‰‡çš„å¯¹é½æ–¹å¼æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œéœ€è¦è®¾ç½®æŒ‰é’®çš„å†…å®¹æ°´å¹³å¯¹é½æ–¹å¼å’Œå‚ç›´å¯¹é½æ–¹å¼ï¼Œä»£ç å¦‚ä¸‹ï¼š minus.contentEdgeInsets = UIEdgeInsetsMake(0, 0, 0, 0); minus.contentHorizontalAlignment= UIControlContentHorizontalAlignmentFill; minus.contentVerticalAlignment = UIControlContentVerticalAlignmentFill; é‡æ–°è¿è¡Œï¼Œå‘ç°å·²ç»OKå•¦ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"CALayer çš„ anchorPoint ä¸ position","slug":"2017/09/12-anchorPoint_position","date":"2017-09-12T10:33:42.000Z","updated":"2018-03-27T14:45:15.699Z","comments":true,"path":"2017/09/12/2017/09/12-anchorPoint_position.html","link":"","permalink":"http://debugly.cn/2017/09/12/2017/09/12-anchorPoint_position.html","excerpt":"","text":"åœ¨é¡¹ç›®ä¸­è¦å®ç°ä¸€ä¸ªåŠ¨ç”»ï¼Œæƒ³è®©viewä»åº•éƒ¨å±•å¼€ï¼Œç»è¿‡æœç´¢ï¼ŒçŸ¥é“äº†CALayerçš„anchorPointå¯ä»¥æ§åˆ¶åŠ¨ç”»çš„å›ºå®šç‚¹ï¼Œé‚ç›´æ¥å†™äº†å¦‚ä¸‹ä»£ç ï¼š 123456self.redView.layer.anchorPoint = CGPointMake(0.5, 1.0);self.redView.transform = CGAffineTransformMakeScale(1, 0);[UIView animateWithDuration:2 animations:^&#123; self.redView.transform = CGAffineTransformIdentity;&#125; completion:^(BOOL finished) &#123;&#125;]; æ€è·¯å¾ˆç®€å•ï¼Œå°†viewçš„åº•è¾¹ç»ˆç‚¹ä½œä¸ºanchorPointï¼ŒåŠ¨ç”»åˆå§‹çŠ¶æ€è®¾ç½®yè½´ç¼©æ”¾ä¸º0ï¼ŒåŠ¨ç”»ç»“æŸçŠ¶æ€æ¢å¤viewçš„yè½´ç¼©æ”¾æ¯”ä¾‹ä¸º1ã€‚ æ•ˆæœç”šæ˜¯æ˜æ˜¾ï¼Œæˆ‘æƒ³è¦çš„æ˜¯å·¦è¾¹ç»¿è‰²viewçš„åŠ¨ç”»æ•ˆæœï¼Œç„¶è€Œçº¢è‰²viewè™½ç„¶ä¹Ÿæ˜¯ä»åº•è¾¹å±•å¼€çš„ï¼Œä½†æ˜¯ï¼Œçº¢è‰²viewçš„ä½ç½®å´è·‘åäº†ï¼Œç›´æ¥å‘ä¸Šç§»åŠ¨äº†åŠä¸ªviewçš„é«˜åº¦ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ¥ä¸‹æ¥å°±æ˜¯æ¼«é•¿çš„æœç´¢è¿‡ç¨‹â€¦â€¦ anchorPointé¦–å…ˆï¼Œè®¤è¯†ä¸€ä¸‹CALayerçš„é‡è¦å±æ€§â€”â€”anchorPointï¼Œå³é”šç‚¹ã€å®šä½ç‚¹ã€‚ æ€ä¹ˆç†è§£å®ƒå‘¢ï¼Œè®¾æƒ³ä¸€å¼ çº¸è¢«ä¸€é¢—é’‰å­é’‰åœ¨å¢™ä¸Šï¼Œé‚£ä¹ˆçº¸å°±å¯ä»¥ç»•ç€é’‰å­æ—‹è½¬ï¼Œè¿™ä¸ªé’‰å­åœ¨çº¸ä¸Šçš„ä½ç½®ï¼Œå°±å¯ä»¥ç†è§£ä¸ºçº¸çš„é”šç‚¹ã€‚é’‰å­åœ¨çº¸çš„å·¦ä¸Šè§’ï¼Œåˆ™å·¦ä¸Šè§’ï¼ˆ0ï¼Œ0ï¼‰å°±æ˜¯çº¸çš„é”šç‚¹ï¼›é’‰å­åœ¨ä¸­å¿ƒç‚¹ï¼ˆ0.5ï¼Œ0.5ï¼‰ï¼Œåˆ™ä¸­å¿ƒç‚¹å°±æ˜¯çº¸çš„é”šç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚ ç”±æ­¤ï¼Œè®©æˆ‘ä»¬è®¤è¯†ä¸€ä¸‹anchorPointã€‚å®ƒçš„åæ ‡ç³»æ˜¯ç›¸å¯¹äºlayerè‡ªèº«çš„ï¼Œxå’Œyçš„å–å€¼èŒƒå›´æ˜¯0~1ï¼Œå·¦ä¸Šè§’ä¸º0ï¼Œå³ä¸‹è§’ä¸º1ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒanchorPointæ˜¯ï¼ˆ0.5ï¼Œ0.5ï¼‰ã€‚ å·¦å›¾æ˜¯åˆå§‹çŠ¶æ€ï¼Œå³å›¾ä¸­æ˜¯è®¾ç½®anchorPointä¸ºä¸åŒçš„å€¼çš„çŠ¶æ€ï¼Œç»¿è‰²ä¸º(0,0)ï¼Œè“è‰²ä¸º(0.5,0.5)ï¼Œç°è‰²ä¸º(0.5,1)ï¼Œçº¢è‰²ä¸º(1,0.5)ï¼Œçœ‹ä¸€ä¸‹æ•ˆæœï¼š ç”±æ­¤å¯è§ï¼Œå•ç‹¬è®¾ç½®anchorPointï¼Œä¼šæ”¹å˜viewçš„frameã€‚ positioné‚£ä¹ˆï¼Œä½œä¸ºCALayerçš„å¦ä¸€é‡è¦å±æ€§çš„positionæŒ‡çš„åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿpositionçš„åæ ‡ç³»æ˜¯ç›¸å¯¹äºçˆ¶å›¾å±‚çš„ï¼Œé»˜è®¤ç‚¹æ˜¯layerçš„ä¸­å¿ƒç‚¹ã€‚åœ¨ç†è§£äº†anchorPointçš„å«ä¹‰ä¹‹åï¼Œä¸ºäº†åšæµ‹è¯•ï¼Œåˆ†åˆ«å°†anchorPointçš„è®¾ç½®æˆä¸åŒçš„ç‚¹ï¼Œè€Œä¿æŒpositionä¸å˜ï¼Œç»“æœå‘ç°anchorPointæ€»æ˜¯ä¸positioné‡åˆï¼Œæ•ˆæœå¦‚ä¸‹ï¼š ç”±æ­¤ï¼Œå¾—å‡ºç»“è®ºï¼špositionæ‰€æŒ‡çš„ä½ç½®ï¼Œæ˜¯anchorPointåœ¨çˆ¶å›¾å±‚æ‰€åœ¨çš„ä½ç½®ï¼Œå³äºŒè€…ä¼šä¸€ç›´ä¿æŒé‡åˆã€‚ å¹¶ä¸”ç»è¿‡æœç´¢ï¼Œå¾—åˆ°å¦‚ä¸‹è®¡ç®—å…¬å¼ï¼š 12frame.origin.x = position.x - anchorPoint.x * bounds.size.widthï¼›frame.origin.y = position.y - anchorPoint.y * bounds.size.heightï¼› é€šè¿‡å…¬å¼ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼šæ”¹å˜anchorPointæˆ–è€…positionï¼Œéƒ½ä¼šå¯¹viewçš„frameäº§ç”Ÿå½±å“ã€‚é€šè¿‡è¿™ä¸ªå…¬å¼ä¹Ÿå¯ä»¥éªŒè¯å¼•è¨€ä¸­æåˆ°çš„æ”¹å˜çº¢è‰²viewçš„anchorPointä¹‹åï¼ŒåŠ¨ç”»å‘ä¸Šåç§»çš„åŸå› äº†ã€‚çº¢è‰²viewçš„åæ ‡æ˜¯ç¡®å®šçš„ï¼Œæ‰€ä»¥åœ¨è®¾ç½®anchorPointçš„åŒæ—¶ï¼Œç›¸åº”çš„æ”¹å˜ä¸‹positionä½¿ä¹‹ä¹ŸæŒ‡å‘åº•éƒ¨ä¸­ç‚¹çš„ä½ç½®ï¼Œå°±èƒ½è®©viewä¸€ç›´å¤„åœ¨æŒ‡å®šçš„ä½ç½®ï¼Œä»è€Œå®Œç¾å®ç°ä»åº•éƒ¨å‘ä¸Šå±•å¼€çš„åŠ¨ç”»ï¼š 123456789CGPoint center = self.redView.center;CGFloat height = self.redView.frame.size.height;self.redView.layer.anchorPoint = CGPointMake(0.5, 1.0);self.redView.layer.position = CGPointMake(center.x, center.y+height/2);self.redView.transform = CGAffineTransformMakeScale(1, 0);[UIView animateWithDuration:2 animations:^&#123; self.redView.transform = CGAffineTransformIdentity;&#125; completion:^(BOOL finished) &#123;&#125;];","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"Main Thread Checker","slug":"2017/09/12-main-thread-checker","date":"2017-09-12T09:36:14.000Z","updated":"2018-03-27T14:45:15.699Z","comments":true,"path":"2017/09/12/2017/09/12-main-thread-checker.html","link":"","permalink":"http://debugly.cn/2017/09/12/2017/09/12-main-thread-checker.html","excerpt":"","text":"æˆ‘çš„æµ‹è¯•æœºå‡çº§åˆ° iOS11 beta10 ä¹‹åï¼Œå‘ç°äº†ä¸¥é‡çš„é—®é¢˜ï¼Œæˆ‘çš„æ‰‹æœºç›´æ¥å¡æ­»äº†ï¼Œåªæœ‰å¼ºåˆ¶å…³æœºï¼è¿™æ˜¯æˆ‘ä½¿ç”¨ Xcode è°ƒè¯•æŠ“åˆ°çš„æ—¥å¿—: 123456789101112131415161718192021222324252627282930313233343536373839404142Main Thread Checker: UI API called on a background thread: -[UIApplication applicationState]PID: 2015, TID: 196235, Thread name: (none), Queue name: com.apple.avfoundation.videodataoutput.bufferqueue, QoS: 0Backtrace:4 LittleVideoDemo 0x0000000104ca9630 -[TECaptureViewController didOutputVideoSampleBuffer:] + 925 LittleVideoDemo 0x0000000104c77fcc -[FUCamera captureOutput:didOutputSampleBuffer:fromConnection:] + 4166 AVFoundation 0x000000018bf57f0c &lt;redacted&gt; + 3447 AVFoundation 0x000000018bf57d24 &lt;redacted&gt; + 1008 CoreMedia 0x000000018983d598 &lt;redacted&gt; + 2609 CoreMedia 0x0000000189859b70 &lt;redacted&gt; + 22410 libdispatch.dylib 0x000000010750d45c _dispatch_client_callout + 1611 libdispatch.dylib 0x000000010751a800 _dispatch_continuation_pop + 59212 libdispatch.dylib 0x000000010750f24c _dispatch_source_invoke + 159213 libdispatch.dylib 0x000000010751bf30 _dispatch_queue_serial_drain + 21214 libdispatch.dylib 0x00000001075109a4 _dispatch_queue_invoke + 33215 libdispatch.dylib 0x000000010751bf30 _dispatch_queue_serial_drain + 21216 libdispatch.dylib 0x00000001075109a4 _dispatch_queue_invoke + 33217 libdispatch.dylib 0x000000010751d104 _dispatch_root_queue_drain_deferred_wlh + 42418 libdispatch.dylib 0x0000000107524100 _dispatch_workloop_worker_thread + 65219 libsystem_pthread.dylib 0x000000018631efe0 _pthread_wqthread + 93220 libsystem_pthread.dylib 0x000000018631ec30 start_wqthread + 42017-09-12 10:43:02.790898+0800 LittleVideoDemo[2015:196235] [reports] Main Thread Checker: UI API called on a background thread: -[UIApplication applicationState]PID: 2015, TID: 196235, Thread name: (none), Queue name: com.apple.avfoundation.videodataoutput.bufferqueue, QoS: 0Backtrace:4 LittleVideoDemo 0x0000000104ca9630 -[TECaptureViewController didOutputVideoSampleBuffer:] + 925 LittleVideoDemo 0x0000000104c77fcc -[FUCamera captureOutput:didOutputSampleBuffer:fromConnection:] + 4166 AVFoundation 0x000000018bf57f0c &lt;redacted&gt; + 3447 AVFoundation 0x000000018bf57d24 &lt;redacted&gt; + 1008 CoreMedia 0x000000018983d598 &lt;redacted&gt; + 2609 CoreMedia 0x0000000189859b70 &lt;redacted&gt; + 22410 libdispatch.dylib 0x000000010750d45c _dispatch_client_callout + 1611 libdispatch.dylib 0x000000010751a800 _dispatch_continuation_pop + 59212 libdispatch.dylib 0x000000010750f24c _dispatch_source_invoke + 159213 libdispatch.dylib 0x000000010751bf30 _dispatch_queue_serial_drain + 21214 libdispatch.dylib 0x00000001075109a4 _dispatch_queue_invoke + 33215 libdispatch.dylib 0x000000010751bf30 _dispatch_queue_serial_drain + 21216 libdispatch.dylib 0x00000001075109a4 _dispatch_queue_invoke + 33217 libdispatch.dylib 0x000000010751d104 _dispatch_root_queue_drain_deferred_wlh + 42418 libdispatch.dylib 0x0000000107524100 _dispatch_workloop_worker_thread + 65219 libsystem_pthread.dylib 0x000000018631efe0 _pthread_wqthread + 93220 libsystem_pthread.dylib 0x000000018631ec30 start_wqthread + 42017-09-12 10:43:03.145023+0800 LittleVideoDemo[2015:196235] current bundle is nil2017-09-12 10:43:05.278417+0800 LittleVideoDemo[2015:195860] key = 109004 attach = å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°ï¼Œé—®é¢˜æ˜¯åœ¨å­çº¿ç¨‹æ›´æ–°äº†UIå¯¼è‡´çš„ï¼Œä¿®æ”¹å¾ˆç®€å•ï¼Œæ‰¾åˆ°å¯¹åº”çš„ä»£ç ï¼Œåœ¨ä¸»çº¿ç¨‹é‡Œè°ƒç”¨å³å¯ã€‚æŸ¥äº†ä¸‹ä¹‹åæ‰çŸ¥é“ï¼Œä»–æ˜¯ç»§ Thread Sanitizer ä¹‹åæ–°å‡ºçš„ä¸€ç§æ–°çš„ä»£ç è¯Šæ–­ï¼Œç”¨æ¥å‘ç°åœ¨å­çº¿ç¨‹æ›´æ–°UIçš„é—®é¢˜ã€‚ å·¥ä½œåŸç†åœ¨ App å¯åŠ¨åï¼Œè¿™ä¸ª Checker å°±åˆ©ç”¨ runtime å°†åªèƒ½åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œçš„æ–¹æ³•ç»™æ›¿æ¢æ‰ï¼ˆè¿™ä¸æ­£æ˜¯é‚£äº›å¹´è¢«æˆ‘ä»¬ç©åäº†çš„AOPå˜›ï¼‰ç„¶åå¸®ä½ æ£€æŸ¥è°ƒç”¨æ˜¯å¦åˆæ³•ï¼Œå¯¹äºæœ¬èº«å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„æ–¹æ³•ï¼Œåˆ™ä¸ä¼šæ›¿æ¢ï¼Œä¸ä¼šå¸®ä½ å†æ¬¡å®¡æŸ¥ã€‚å› ä¸ºæ˜¯AOPæ‰€ä»¥ä¸ç”¨é‡æ–°ç¼–è¯‘ä»£ç ï¼ŒæŒç»­é›†æˆå·¥å…·æ³¨å…¥è¿™ä¸ªåŠ¨æ€åº“ /Applications/Xcode.app/Contents/Developer/usr/lib/libMainThreadChecker.dylib å°±èƒ½å¸®ä½ æ£€æŸ¥äº†[^Note]ã€‚ æ€§èƒ½ä¼šé¢å¤–å¢åŠ å¤§çº¦ 0.1s çš„å¯åŠ¨æ—¶å€™ï¼Œå’Œ 1â€“2% çš„ CPU å¼€é”€ã€‚è¿™ 0.1s è‚¯å®šæ˜¯åˆ©ç”¨ runtime æ˜¯ swizzle æ–¹æ³•äº†å‘—ã€‚[^footnote]å› ä¸ºè¿™ä¸ªå¼€é”€æ¯”è¾ƒå°ï¼Œæ‰€ä»¥å½“è¿ç€çº¿ï¼Œç›´æ¥ä½¿ç”¨ xcode è°ƒè¯•æ—¶ï¼Œè¿™è´§ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå¸®ä½ æ£€æŸ¥ï¼Œå¬èµ·æ¥æŒºçœå¿ƒçš„[^debugger]ã€‚ å‚è€ƒæ–‡ç« ï¼šhttps://developer.apple.com/documentation/code_diagnostics/main_thread_checker [^Note]: &gt; Unlike other code diagnostic tools, the Main Thread Checker doesnâ€™t require recompilation, and can be used with existing binaries. You can run it on a macOS app without the Xcode debugger, such as on a continuous integration system, by injecting the dynamic library file located at /Applications/Xcode.app/Contents/Developer/usr/lib/libMainThreadChecker.dylib. [^debugger]: &gt; The Main Thread Checker is automatically enabled when youâ€™re running your app with the Xcode debugger.","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"SDK-issues ç®€ä»‹","slug":"2017/09/11-sdk-issues","date":"2017-09-11T14:50:11.000Z","updated":"2018-03-27T14:45:15.698Z","comments":true,"path":"2017/09/11/2017/09/11-sdk-issues.html","link":"","permalink":"http://debugly.cn/2017/09/11/2017/09/11-sdk-issues.html","excerpt":"","text":"è¯¥åˆ†ç±»ç”±åƒå¸† SDK å›¢é˜Ÿå…±åŒç»´æŠ¤ï¼Œä¸»è¦ç”¨æ¥è®°å½• SDK å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„å„ç§é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆã€‚å†™æˆåšå®¢è®°å½•æ˜¯ä¸ºäº†ä¾›ç»„å†…å…¶ä»–æˆå‘˜å­¦ä¹ å‚è€ƒï¼Œè¿™æ ·çŸ¥è¯†æ‰èƒ½åƒè¡€æ¶²ä¸€æ ·åœ¨æ•´ä¸ªå›¢é˜Ÿé‡Œä¸åœå¾ªç¯ï¼Œä¸ºæˆ‘ä»¬æ³¨å…¥æ›´å¤šçš„æ–°é²œè¡€æ¶²ï¼ æå‡å›¢é˜Ÿæ•´ä½“æˆ˜æ–—åŠ›ï¼Œæ‹‰ä½æŠ€æœ¯å·®è·ã€‚æˆ‘ä¸ºäººäººï¼Œäººäººä¸ºæˆ‘ã€‚Hello,SDK issues","categories":[],"tags":[{"name":"issues","slug":"issues","permalink":"http://debugly.cn/tags/issues/"}]},{"title":"å®‰è£… iOS 11","slug":"2017/09/08-install-iOS11-beta10","date":"2017-09-08T00:46:43.000Z","updated":"2018-03-27T14:45:15.698Z","comments":true,"path":"2017/09/08/2017/09/08-install-iOS11-beta10.html","link":"","permalink":"http://debugly.cn/2017/09/08/2017/09/08-install-iOS11-beta10.html","excerpt":"","text":"9æœˆ12å·è‹¹æœä¼šå‘å¸ƒæ–°ä¸€ä»£è®¾å¤‡ â€” iPhone8ï¼Œæ­è½½ iOS 11 æ˜¯è‚¯å®šçš„ï¼Œç°åœ¨æµ‹è¯•å·²ç»æäº†ä¸€äº› iOS11ä¸Šçš„é—®é¢˜äº†ï¼Œå› æ­¤æˆ‘å†³å®šæŠŠæˆ‘çš„è®¾å¤‡ä¹Ÿå‡çº§åˆ° iOS 11ï¼Œç”¨æ¥è§£ bugï¼Œé€‚é…ç­‰å·¥ä½œã€‚ å®‰è£…é€”å¾„ä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½å¯è¡Œï¼Œå„æœ‰ä¼˜ç¼ºï¼Œè‡ªè¡Œé€‰æ‹©å§ï¼š OTAå‡çº§ åˆ°å¼€å‘è€…ä¸­å¿ƒï¼Œå»ä¸‹è½½ OTA å‡çº§çš„ä¸€ä¸ªæè¿°æ–‡ä»¶ï¼š è¿™ä¸ªæè¿°æ–‡ä»¶éœ€è¦è£…åˆ°æ‰‹æœºé‡Œï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯ç»™è‡ªå·±å‘é€ä¸€å°é‚®ä»¶ï¼ŒæŠŠæè¿°æ–‡ä»¶ä½œä¸ºé™„ä»¶å‘ç»™è‡ªå·±ï¼Œç„¶ååœ¨é‚®ä»¶Appé‡Œç‚¹å‡»é™„ä»¶å°±ä¼šå®‰è£…äº†: å®‰è£…ä¹‹åï¼Œå»è®¾ç½®é‡Œå°±å¯ä»¥çœ‹åˆ°æœ‰æ–°çš„æ›´æ–°äº†: ç‚¹å‡»ä¸‹è½½å¹¶å®‰è£…: ä¸‹è½½å®Œæ¯•åï¼Œå®‰è£…: æ‰‹æœºä¼šé‡å¯ï¼Œå¼€æœºåä¼šæ’­æ”¾ä¸€æ®µéŸ³ä¹ã€‚ ä¸‹è½½é•œåƒï¼Œä½¿ç”¨ itunes åˆ·å›ºä»¶ åˆ°å¼€å‘è€…ä¸­å¿ƒï¼Œå»ä¸‹è½½å¯¹åº”æœºå‹çš„é•œåƒæ–‡ä»¶ï¼š ä¸‹è½½å®Œæ¯•åï¼Œæ‰‹æœºå…ˆè¦å…³é—­æŸ¥æ‰¾æˆ‘çš„ iPhone åŠŸèƒ½ï¼Œç„¶åè¿ä¸Šç”µè„‘ï¼Œæ‰“å¼€ itunesï¼Œæ‰¾åˆ° æ¢å¤ iPhone...é€‰é¡¹ï¼š æŒ‰ä¸‹ option é”® + ç‚¹å‡» æ¢å¤ iPhone... å°±ä¼šå¼¹å‡ºæ–‡ä»¶é€‰æ‹©æ¡†ï¼Œé€‰æ‹©ä½ ä¸‹è½½çš„é•œåƒå³å¯ã€‚ iOS 11 å˜åŒ–å¤§æ ‡é¢˜ ğŸ“¶å¥½å±±å¯¨ï¼Œæˆ‘ä¹‹å‰ä¿¡å·æ²¡è¿™ä¹ˆå·®çš„ï¼æ¡Œé¢è¿™äº›å›¾æ ‡æœ‰æ‰€å˜åŒ– æ§åˆ¶é¡¹æ›´å¤šäº†ï¼Œäº®åº¦å’ŒéŸ³é‡è¿™é‡Œå¯ä»¥ä¸Šä¸‹æ»‘åŠ¨çš„ ä¸‹æ‹‰é€šçŸ¥æ ï¼ŒçŒ›åœ°ä¸€çœ‹å¥½åƒé”å±é¡µé¢ æ–°å¢æ–‡ä»¶Appï¼Œæ„Ÿè§‰å°±æ˜¯ä¹‹å‰çš„ iCloud Drive App Storeæ”¹ç‰ˆæŒºå¤§çš„ è°ƒè¯•å®‰è£…äº† iOS 11ä¹‹åï¼ŒXcode ä¹Ÿè¦å‡çº§åˆ° 9 æ‰èƒ½è°ƒè¯•äº†ï¼Œå®‰è£… Xcode9 å¿…é¡»å‡çº§ macOS ï¼Œè‡³å°‘æ˜¯ 10.12.6 ï¼Œä¸€ä¸ªä¸ªå‡çº§å§ã€‚éƒ½æå®šä¹‹åå°±è¦å»åšé€‚é…å·¥ä½œäº†ã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"macOS ä¹‹ Unix å®šæ—¶ä»»åŠ¡","slug":"2017/09/05-unix-crontab","date":"2017-09-05T05:10:32.000Z","updated":"2018-03-27T14:45:15.698Z","comments":true,"path":"2017/09/05/2017/09/05-unix-crontab.html","link":"","permalink":"http://debugly.cn/2017/09/05/2017/09/05-unix-crontab.html","excerpt":"","text":"æˆªæ­¢ç›®å‰ï¼ŒSDKçš„æ‰“åŒ…ï¼Œå·²ç»ä»£ç å®¡æŸ¥éƒ½æ˜¯é€šè¿‡è„šæœ¬å®Œæˆçš„ï¼Œåˆ©ç”¨è„šæœ¬å¯ä»¥è½»æ¾çš„å¸®æˆ‘ä»¬æå®šé‚£äº›é‡å¤çš„æ¯ç‡¥å·¥ä½œï¼Œå¯ä»¥èŠ‚çœå®è´µçš„æ—¶é—´åˆèƒ½é¿å…ä¿®æ”¹é…ç½®ç¯å¢ƒå¼•å‘çš„é”™è¯¯ã€‚è™½ç„¶æœ‰äº†è¿™äº›è¿™äº›è„šæœ¬äº†ï¼Œä¸è¿‡è¿˜æ˜¯å¾—äººå·¥å»æ‰§è¡Œï¼Œä¸å¤Ÿçœå¿ƒå•Šï¼Œä½œä¸ºä¸€ä¸ªè¿½æ±‚æè‡´åˆå¾ˆæ‡’çš„äººï¼Œæ˜¯ä¸èƒ½å¿çš„ï¼Œäºæ˜¯å°±æäº†ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©ä¸‹ç­åæˆ‘ä»¬åªéœ€è¦æäº¤ä¸‹ä»£ç ï¼Œåˆ°è§„å®šçš„æ—¶é—´åï¼Œæ‰“åŒ…æœºå™¨ï¼ˆä¸å…³æœºï¼‰å°±è‡ªåŠ¨å»æ‰§è¡Œæ‰“åŒ…è„šæœ¬ï¼Œä¸ºæˆ‘ä»¬æ‰“åŒ…ï¼Œä»£ç å®¡æŸ¥ï¼ ç®€ä»‹åœ¨ Linuxã€Unixã€MacOS(ç±»Unix)ç³»ç»Ÿä¸‹ï¼Œcrontab å‘½ä»¤å¯ä»¥ç”¨æ¥è®¾ç½®å‘¨æœŸæ€§æ‰§è¡Œçš„ä»»åŠ¡ã€‚ç³»ç»Ÿä¸ºæ¯ä¸ªç”¨æˆ·åˆ†é…ä¸€ä¸ª â€œtableâ€ å­˜å‚¨è¿™äº›ä»»åŠ¡ï¼Œè¿™äº›ä»»åŠ¡é€šå¸¸ç§°ä¸º â€œcron jobâ€ã€‚è¿™äº›ä»»åŠ¡æ˜¯åœ¨ cron å®ˆæŠ¤è¿›ç¨‹é‡Œæ‰§è¡Œçš„ï¼Œå› æ­¤æ‰§è¡Œæ—¶çš„ç¯å¢ƒè·Ÿç”¨æˆ·ç™»å½•çš„ç¯å¢ƒæ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å¾ˆå¤šæ–°æ‰‹éƒ½ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼šç›´æ¥æ‰§è¡Œè„šæœ¬æ²¡ä¸€ç‚¹é—®é¢˜ï¼ŒåŠ å…¥åˆ° crontab ä¹‹åï¼Œå°±ä¸èƒ½æ­£å¸¸æ‰§è¡Œã€‚ crontab ä½¿ç”¨1ã€æŸ¥çœ‹å½“å‰ç”¨æˆ·ä¸‹çš„å®šæ—¶ä»»åŠ¡ 123456crontab -l///æ²¡æœ‰å®šæ—¶ä»»åŠ¡crontab: no crontab for qianlongxu///æœ‰å®šæ—¶ä»»åŠ¡# æ¯åˆ†é’Ÿæ‰“å°ä¸€æ¬¡å½“å‰æ—¶é—´1 * * * * /Users/qianlongxu/Desktop/logdate.sh 2ã€åˆ é™¤å½“å‰ç”¨æˆ·è®¾å®šçš„å…¨éƒ¨ä»»åŠ¡ 1crontab -r 3ã€æ·»åŠ å®šæ—¶ä»»åŠ¡ å…ˆå‡†å¤‡ä¸€ä¸ªä»»åŠ¡è„šæœ¬ â€˜logdate.shâ€™ï¼Œæœ€ç»ˆç”± cron å®ˆæŠ¤è¿›ç¨‹æ‰§è¡Œï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12# æ‰“å°å½“å‰æ—¥æœŸåˆ°æ–‡ä»¶echo $(date) &gt;&gt; /Users/qianlongxu/Desktop/log.txt ä»»åŠ¡å†™å¥½äº†ï¼Œç„¶åæ·»åŠ åˆ° crontab ä¸­ï¼Œå®ç°å‘¨æœŸæ€§çš„æ‰§è¡Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š ç›´æ¥ç¼–è¾‘ 1crontab -e æ­¤æ—¶åº”è¯¥ä¼šæ‰“å¼€ vim ç¼–è¾‘å™¨ï¼Œç›´æ¥åœ¨é‡Œé¢å†™ä»»åŠ¡é…ç½®å°±å¥½äº†ï¼›æ¯”å¦‚æ¯åˆ†é’Ÿéƒ½æ‰§è¡Œå¯ä»¥è¿™ä¹ˆå†™ï¼š 12# æ¯åˆ†é’Ÿæ‰“å°ä¸€æ¬¡å½“å‰æ—¶é—´* * * * * /Users/qianlongxu/Desktop/logdate.sh - ç¼–å†™ä¸€ä¸ªåä¸º `job.cron` çš„shellè„šæœ¬ä½œä¸º crontab çš„è¾“å…¥ï¼Œå†…å®¹å¦‚ä¸‹ï¼š 12# æ¯åˆ†é’Ÿæ‰“å°ä¸€æ¬¡å½“å‰æ—¶é—´* * * * * /Users/qianlongxu/Desktop/logdate.sh ç„¶åæ‰§è¡Œï¼š 1crontab /Users/qianlongxu/Desktop/job.cron è¿™ä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥æ·»åŠ ä»»åŠ¡ã€‚ ä»»åŠ¡æ ¼å¼ç¼–å†™ä»»åŠ¡æ˜¯æœ‰æ ¼å¼çš„ï¼Œä¸€å…±6åˆ—ï¼Œå‰äº”åˆ—æ˜¯è®¾å®šå‘¨æœŸçš„ï¼Œæœ€åä¸€åˆ—æ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤æˆ–è€…è„šæœ¬: 12åˆ† æ—¶ æ—¥ æœˆ å‘¨ å‘½ä»¤/è„šæœ¬* * * * * cmd ç¬¬1åˆ—è¡¨ç¤ºåˆ†é’Ÿ1ï½59 æ¯åˆ†é’Ÿç”¨æˆ–è€… /1è¡¨ç¤º ç¬¬2åˆ—è¡¨ç¤ºå°æ—¶1ï½23ï¼ˆ0è¡¨ç¤º0ç‚¹ï¼‰ ç¬¬3åˆ—è¡¨ç¤ºæ—¥æœŸ1ï½31 ç¬¬4åˆ—è¡¨ç¤ºæœˆä»½1ï½12 ç¬¬5åˆ—æ ‡è¯†å·æ˜ŸæœŸ0ï½6ï¼ˆ0è¡¨ç¤ºæ˜ŸæœŸå¤©ï¼‰ ç¬¬6åˆ—è¦è¿è¡Œçš„å‘½ä»¤ ä»»åŠ¡ä¸æ‰§è¡Œæ·»åŠ äº†ä»»åŠ¡åå¯èƒ½æ²¡æœ‰æŒ‰ç…§é¢„æœŸçš„å‘¨æœŸå»æ‰§è¡Œï¼Œå¯èƒ½æ˜¯ä»¥ä¸‹åŸå› : ä»»åŠ¡è„šæœ¬æ²¡æœ‰æ‰§è¡Œæƒé™ï¼Œç»™ä»–ä¸€ä¸ªå¯æ‰§è¡Œçš„æƒé™ï¼š sudo chmod 755 /Users/qianlongxu/Desktop/logdate.sh æ·»åŠ ä»»åŠ¡æ˜¯æ—¶é—´è®¾ç½®çš„æœ‰é—®é¢˜ï¼Œæˆ‘æ›¾ç»æƒ³å½“ç„¶çš„æŠŠæ¯å°æ—¶çš„ç¬¬ä¸€åˆ†é’Ÿæ‰§è¡Œç†è§£ä¸ºäº†æ¯åˆ†é’Ÿéƒ½æ‰§è¡Œï¼Œæˆ‘æ‰¾äº†åŠä¸ªå°æ—¶ä¹Ÿæ²¡æ‰¾åˆ°é—®é¢˜ï¼ ç½‘ä¸Šæœ‰äººè¯´åˆ° cron æœåŠ¡ï¼Œè¿™ä¸ªåœ¨ Macä¸‹æ¯”è¾ƒç‰¹æ®Šï¼Œä¸åƒ Linuxï¼Œcron æœåŠ¡æˆ‘ä»¬è²Œä¼¼å¹²é¢„ä¸äº†ï¼Œæ˜¯ launchctl æ§åˆ¶çš„ï¼Œæ¯”å¦‚: 12345678///åœ¨ launchctl é‡Œæ‰¾ä¸‹ cron æœåŠ¡sudo launchctl list | grep cronPassword:225 0 com.vix.cron /// å°è¯•åœæ­¢ cron æœåŠ¡ï¼Œç»“æœå¤±è´¥äº†sudo /usr/sbin/cron stopPassword:cron: cron already running, pid: 225 ä½ å°±æ²¡æ³•åœæ­¢è¿™ä¸ªæœåŠ¡ï¼Œæ‰§è¡Œ restart ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼ŒæœåŠ¡ä¹Ÿä¸ä¼šé‡æ–°å¼€å§‹ï¼› ä»»åŠ¡è„šæœ¬é‡Œçš„è·¯å¾„ä¸å¯¹ï¼Œç”±äºä»»åŠ¡å¼€å§‹æ‰§è¡Œçš„è¿›ç¨‹æ²¡æœ‰åŠ è½½ç¯å¢ƒå˜é‡ï¼Œæ‰€ä»¥åœ¨è„šæœ¬é‡Œä½¿ç”¨çš„å‘½åéœ€è¦å¸¦ä¸Šè·¯å¾„ï¼Œä½¿ç”¨çš„ç›®å½•ä¹Ÿéœ€è¦æ˜¯ç»å¯¹è·¯å¾„ã€‚ ä¸­æ–‡ä¹±ç ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ç¯å¢ƒé—®é¢˜ï¼Œå¯ä»¥åœ¨è„šæœ¬çš„æœ€ä¸Šé¢å£°æ˜ä¸‹è¯­è¨€ï¼šexport LANG=&quot;zh_CN.UTF-8&quot;","categories":[],"tags":[{"name":"Script","slug":"Script","permalink":"http://debugly.cn/tags/Script/"},{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"iOS è·å–è®¾å¤‡ã€åº”ç”¨ç›¸å…³ä¿¡æ¯","slug":"2017/08/31-iPhone-types","date":"2017-08-31T01:13:18.000Z","updated":"2018-03-27T14:45:15.697Z","comments":true,"path":"2017/08/31/2017/08/31-iPhone-types.html","link":"","permalink":"http://debugly.cn/2017/08/31/2017/08/31-iPhone-types.html","excerpt":"","text":"æœ‰çš„æ—¶å€™æˆ‘ä»¬éœ€è¦é’ˆå¯¹ç‰¹å®šçš„æœºå‹æˆ–è€…ç³»ç»Ÿç‰ˆæœ¬åšä¸€äº›ç‰¹æ®Šçš„å¤„ç†ï¼Œä½¿å¾—æˆ‘ä»¬çš„ç¨‹åºèƒ½å¤Ÿæ­£å¸¸çš„è¿è¡Œï¼Œè¿™æ—¶å°±è¦å»åˆ¤æ–­è®¾å¤‡å‹å·ã€ç³»ç»Ÿç‰ˆæœ¬äº†ï¼Œè·å–è¿™äº›ä¿¡æ¯æœ¬èº«å¹¶æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼Œåªæ˜¯æ¯”è¾ƒé›¶ç¢ï¼Œå› æ­¤ä¸ºäº†æŸ¥é˜…æ–¹ä¾¿ï¼Œæ•´ç†äº†ä¸€ä»½ä»£ç å‡ºæ¥ï¼Œç”¨çš„æ—¶å€™ç›´æ¥copyå³å¯ã€‚ è®¾å¤‡ä¿¡æ¯ä½¿ç”¨ uname æ–¹æ³•å¯ä»¥è·å–è®¾å¤‡çš„ç¡¬ä»¶ä¿¡æ¯ï¼Œå…¶ä¸­å°±åŒ…æ‹¬å‹å·ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å‹å·å…·ä½“çš„åˆ¤æ–­ä¸€ä¸ªè®¾å¤‡ï¼Œæ¯”å¦‚ iPhone5s çš„å‹å·æ˜¯ â€˜iPhone6,2â€™; ä½¿ç”¨çš„æ—¶å€™éœ€è¦å¯¼å…¥å¤´æ–‡ä»¶ï¼š #import \\&lt;sys/utsname.h&gt; 12345struct utsname systemInfo;uname(&amp;systemInfo);NSString *platform = [NSString stringWithCString:systemInfo.machine encoding:NSASCIIStringEncoding]; è¿™æ ·è·å–çš„å‹å·ï¼Œä¸æ˜¯æˆ‘ä»¬å¹³æ—¶å«çš„è®¾å¤‡åç§°ï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªå¯¹åº”å…³ç³»ï¼Œå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104- (NSString *)deviceType &#123; struct utsname systemInfo; uname(&amp;systemInfo); NSString *platform = [NSString stringWithCString:systemInfo.machine encoding:NSASCIIStringEncoding]; if ([platform isEqualToString:@&quot;iPhone1,1&quot;]) return @&quot;iPhone 2G&quot;; if ([platform isEqualToString:@&quot;iPhone1,2&quot;]) return @&quot;iPhone 3G&quot;; if ([platform isEqualToString:@&quot;iPhone2,1&quot;]) return @&quot;iPhone 3GS&quot;; if ([platform isEqualToString:@&quot;iPhone3,1&quot;]) return @&quot;iPhone 4&quot;; if ([platform isEqualToString:@&quot;iPhone3,2&quot;]) return @&quot;iPhone 4&quot;; if ([platform isEqualToString:@&quot;iPhone3,3&quot;]) return @&quot;iPhone 4&quot;; if ([platform isEqualToString:@&quot;iPhone4,1&quot;]) return @&quot;iPhone 4S&quot;; if ([platform isEqualToString:@&quot;iPhone5,1&quot;]) return @&quot;iPhone 5&quot;; if ([platform isEqualToString:@&quot;iPhone5,2&quot;]) return @&quot;iPhone 5&quot;; if ([platform isEqualToString:@&quot;iPhone5,3&quot;]) return @&quot;iPhone 5c&quot;; if ([platform isEqualToString:@&quot;iPhone5,4&quot;]) return @&quot;iPhone 5c&quot;; if ([platform isEqualToString:@&quot;iPhone6,1&quot;]) return @&quot;iPhone 5s&quot;; if ([platform isEqualToString:@&quot;iPhone6,2&quot;]) return @&quot;iPhone 5s&quot;; if ([platform isEqualToString:@&quot;iPhone7,1&quot;]) return @&quot;iPhone 6 Plus&quot;; if ([platform isEqualToString:@&quot;iPhone7,2&quot;]) return @&quot;iPhone 6&quot;; if ([platform isEqualToString:@&quot;iPhone8,1&quot;]) return @&quot;iPhone 6s&quot;; if ([platform isEqualToString:@&quot;iPhone8,2&quot;]) return @&quot;iPhone 6s Plus&quot;; if ([platform isEqualToString:@&quot;iPhone8,4&quot;]) return @&quot;iPhone SE&quot;; if ([platform isEqualToString:@&quot;iPhone9,1&quot;]) return @&quot;iPhone 7&quot;; if ([platform isEqualToString:@&quot;iPhone9,2&quot;]) return @&quot;iPhone 7 Plus&quot;; if ([platform isEqualToString:@&quot;iPod1,1&quot;]) return @&quot;iPod Touch 1G&quot;; if ([platform isEqualToString:@&quot;iPod2,1&quot;]) return @&quot;iPod Touch 2G&quot;; if ([platform isEqualToString:@&quot;iPod3,1&quot;]) return @&quot;iPod Touch 3G&quot;; if ([platform isEqualToString:@&quot;iPod4,1&quot;]) return @&quot;iPod Touch 4G&quot;; if ([platform isEqualToString:@&quot;iPod5,1&quot;]) return @&quot;iPod Touch 5G&quot;; if ([platform isEqualToString:@&quot;iPad1,1&quot;]) return @&quot;iPad 1G&quot;; if ([platform isEqualToString:@&quot;iPad2,1&quot;]) return @&quot;iPad 2&quot;; if ([platform isEqualToString:@&quot;iPad2,2&quot;]) return @&quot;iPad 2&quot;; if ([platform isEqualToString:@&quot;iPad2,3&quot;]) return @&quot;iPad 2&quot;; if ([platform isEqualToString:@&quot;iPad2,4&quot;]) return @&quot;iPad 2&quot;; if ([platform isEqualToString:@&quot;iPad2,5&quot;]) return @&quot;iPad Mini 1G&quot;; if ([platform isEqualToString:@&quot;iPad2,6&quot;]) return @&quot;iPad Mini 1G&quot;; if ([platform isEqualToString:@&quot;iPad2,7&quot;]) return @&quot;iPad Mini 1G&quot;; if ([platform isEqualToString:@&quot;iPad3,1&quot;]) return @&quot;iPad 3&quot;; if ([platform isEqualToString:@&quot;iPad3,2&quot;]) return @&quot;iPad 3&quot;; if ([platform isEqualToString:@&quot;iPad3,3&quot;]) return @&quot;iPad 3&quot;; if ([platform isEqualToString:@&quot;iPad3,4&quot;]) return @&quot;iPad 4&quot;; if ([platform isEqualToString:@&quot;iPad3,5&quot;]) return @&quot;iPad 4&quot;; if ([platform isEqualToString:@&quot;iPad3,6&quot;]) return @&quot;iPad 4&quot;; if ([platform isEqualToString:@&quot;iPad4,1&quot;]) return @&quot;iPad Air&quot;; if ([platform isEqualToString:@&quot;iPad4,2&quot;]) return @&quot;iPad Air&quot;; if ([platform isEqualToString:@&quot;iPad4,3&quot;]) return @&quot;iPad Air&quot;; if ([platform isEqualToString:@&quot;iPad4,4&quot;]) return @&quot;iPad Mini 2G&quot;; if ([platform isEqualToString:@&quot;iPad4,5&quot;]) return @&quot;iPad Mini 2G&quot;; if ([platform isEqualToString:@&quot;iPad4,6&quot;]) return @&quot;iPad Mini 2G&quot;; if ([platform isEqualToString:@&quot;i386&quot;]) return @&quot;iPhone Simulator&quot;; if ([platform isEqualToString:@&quot;x86_64&quot;]) return @&quot;iPhone Simulator&quot;; return @&quot;unKnown&quot;;&#125; UIDevice è·å–è®¾å¤‡ç›¸å…³ä¿¡æ¯ ç³»ç»Ÿç‰ˆæœ¬å· 12// 10.3.2[[UIDevice currentDevice]systemVersion] ç³»ç»Ÿåç§° 12// iOS[[UIDevice currentDevice] systemName] ç”µæ± ç”µé‡ 12//æ¨¡æ‹Ÿå™¨å¾—åˆ°çš„æ˜¯ -1[[UIDevicecurrentDevice]batteryLevel] å‚å•†å”¯ä¸€ä¸²å· 123//226072EA-5C4C-43F9-9E66-6E8ACE31DE49[[[UIDevice currentDevice] identifierForVendor]UUIDString] ç”¨æˆ·å 12///Matt Reach&apos;s iPhone[[UIDevice currentDevice] name] infoDictionaryApp çš„ç‰ˆæœ¬ï¼Œåº”ç”¨åç§°ç­‰éƒ½è®°å½•åœ¨ info.plist é‡Œï¼Œå¯ä»¥è¿™æ ·è·å–ï¼š 12345678910NSDictionary *infoDictionary = [[NSBundle mainBundle] infoDictionary];// åº”ç”¨è£…åˆ°è®¾å¤‡ä¸Šä¹‹åï¼Œæ˜¾ç¤ºçš„åç§° [infoDictionary objectForKey:@&quot;CFBundleDisplayName&quot;]// åº”ç”¨çš„ç‰ˆæœ¬å· æ¯”å¦‚ï¼š6.8.3[infoDictionary objectForKey:@&quot;CFBundleShortVersionString&quot;];// åº”ç”¨çš„buildå· æ¯”å¦‚ï¼š2778NSString *appCurVersionNum = [infoDictionary objectForKey:kCFBundleVersionKey]; å…¶å®è¿™ä¸ªé‡Œé¢ä¿¡æ¯è›®å¤šçš„ï¼Œå…¶ä»–çš„ä¸å†ä¸€ä¸€åˆ—ä¸¾äº†ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495&#123; BuildMachineOSBuild = 16A323; CFBundleDevelopmentRegion = \"zh_CN\"; CFBundleDisplayName = \"\\U5343\\U5e06-SDK\"; CFBundleExecutable = SohuLiveDemo; CFBundleIcons = &#123; CFBundlePrimaryIcon = &#123; CFBundleIconFiles = ( AppIcon29x29, AppIcon40x40, AppIcon57x57, AppIcon60x60 ); &#125;; &#125;; CFBundleIdentifier = \"com.sohu.live.demo\"; CFBundleInfoDictionaryVersion = \"6.0\"; CFBundleName = SohuLiveDemo; CFBundleNumericVersion = 0; CFBundlePackageType = APPL; CFBundleShortVersionString = \"6.8.3\"; CFBundleSignature = \"????\"; CFBundleSupportedPlatforms = ( iPhoneSimulator ); CFBundleVersion = 1598; DTCompiler = \"com.apple.compilers.llvm.clang.1_0\"; DTPlatformBuild = \"\"; DTPlatformName = iphonesimulator; DTPlatformVersion = \"10.2\"; DTSDKBuild = 14C89; DTSDKName = \"iphonesimulator10.2\"; DTXcode = 0821; DTXcodeBuild = 8C1002; LSApplicationCategoryType = \"\"; LSApplicationQueriesSchemes = ( wechat, weixin, alipay, qianfan56, qfA31D406E33689950, mqq ); LSRequiresIPhoneOS = 1; MinimumOSVersion = \"7.0\"; NSAppTransportSecurity = &#123; NSAllowsArbitraryLoads = 1; &#125;; NSCameraUsageDescription = \"\\U7231\\U4e0a\\U76f4\\U64ad\"; NSMicrophoneUsageDescription = \"\\U8bf7\\U5141\\U8bb8\\U6211\\U4f7f\\U7528\\U9ea6\\U514b\\U98ce\"; NSPhotoLibraryUsageDescription = \"\\U5343\\U5e06SDK\\U60f3\\U4f7f\\U7528\\U60a8\\U7684\\U76f8\\U518c\"; UIAppFonts = ( \"MFLiHei-Regular.ttf\" ); UIDeviceFamily = ( 1 ); UILaunchImages = ( &#123; UILaunchImageMinimumOSVersion = \"8.0\"; UILaunchImageName = \"Brand Assets-800-Portrait-736h\"; UILaunchImageOrientation = Portrait; UILaunchImageSize = \"&#123;414, 736&#125;\"; &#125;, &#123; UILaunchImageMinimumOSVersion = \"8.0\"; UILaunchImageName = \"Brand Assets-800-667h\"; UILaunchImageOrientation = Portrait; UILaunchImageSize = \"&#123;375, 667&#125;\"; &#125;, &#123; UILaunchImageMinimumOSVersion = \"7.0\"; UILaunchImageName = \"Brand Assets-700\"; UILaunchImageOrientation = Portrait; UILaunchImageSize = \"&#123;320, 480&#125;\"; &#125;, &#123; UILaunchImageMinimumOSVersion = \"7.0\"; UILaunchImageName = \"Brand Assets-700-568h\"; UILaunchImageOrientation = Portrait; UILaunchImageSize = \"&#123;320, 568&#125;\"; &#125; ); UILaunchStoryboardName = \"Launch Screen\"; UIRequiredDeviceCapabilities = ( armv7 ); UIStatusBarStyle = UIStatusBarStyleDefault; UISupportedInterfaceOrientations = ( UIInterfaceOrientationPortrait, UIInterfaceOrientationLandscapeLeft, UIInterfaceOrientationLandscapeRight ); UIViewControllerBasedStatusBarAppearance = 0;&#125;","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"å…¥èŒæœç‹ä¸¤å‘¨å¹´","slug":"2017/08/19-join-sohu-2year","date":"2017-08-19T01:37:04.000Z","updated":"2018-03-27T14:45:15.697Z","comments":true,"path":"2017/08/19/2017/08/19-join-sohu-2year.html","link":"","permalink":"http://debugly.cn/2017/08/19/2017/08/19-join-sohu-2year.html","excerpt":"","text":"æ—¶å…‰èè‹’ï¼Œæ¥æœç‹å·²ç» 2 å¹´æ•´äº†ï¼Œæœ€è¿‘æŒºå¿™çš„ï¼Œä»¥è‡³äºä»Šå¤©æ¥å…¬å¸åŠ ç­ï¼ŒæŸ¥çœ‹é‚®ä»¶åæ‰å‘ç°ï¼Œä»Šå¤©æ˜¯å…¥èŒä¸¤å‘¨å¹´çš„çºªå¿µæ—¥ã€‚ 2 å¹´ 2 ä¸ªåŸå¸‚ 2 ä¸ªå›¢é˜Ÿã€‚ã€‚ã€‚ ä¸å¿˜åˆå¿ƒï¼Œå‹‡å¾€ç›´å‰ï¼","categories":[],"tags":[{"name":"Other","slug":"Other","permalink":"http://debugly.cn/tags/Other/"}]},{"title":"ç³Ÿç³•çš„2017æ¬¾ MacBook Pro","slug":"2017/08/18-bye-2017mbp","date":"2017-08-18T13:43:29.000Z","updated":"2018-03-27T14:45:15.697Z","comments":true,"path":"2017/08/18/2017/08/18-bye-2017mbp.html","link":"","permalink":"http://debugly.cn/2017/08/18/2017/08/18-bye-2017mbp.html","excerpt":"","text":"ä¸¤ä¸ªæœˆå‰ï¼Œæˆ‘å¸ç¬¬äºŒå­£åº¦ç”³è¯·çš„ç”µè„‘åˆ°äº†ï¼Œæˆ‘ç»„æœ‰å‡ å° 2017 æ¬¾çš„ MacBook Proï¼Œå¸¦ Multi-Touch Bar çš„ï¼Œè·Ÿç°åœ¨ä½¿ç”¨çš„ 2015 æ¬¾æ¯”èµ·æ¥çº¤è–„äº†è®¸å¤šï¼Œä¹Ÿæ›´åŠ è½»ç›ˆï¼Œæ€§èƒ½ä¸ç”¨è¯´ï¼Œæ›´åŠ å¼ºå¤§ã€‚äºæ˜¯å¿ƒé‡Œç—’ç—’ï¼Œå¿ä¸ä½æ¢äº†ä¸‹ã€‚ æ‹¿åˆ°æ‰‹ä¹‹åï¼Œæ„Ÿè§‰æŒºåˆ«æ‰­çš„ï¼Œå› ä¸ºæˆ‘æ— æ³•è¿æ¥æ‰‹æœºè°ƒè¯•ï¼Œå……ç”µï¼›åªå¥½å…ˆä¹°äº†ä¸€ä¸ª type-c è½¬ USB çš„è½¬æ¥å¤´ï¼› æˆ‘ä¹ æƒ¯äº†ä½¿ç”¨åŒæ˜¾ç¤ºå™¨å·¥ä½œï¼Œæ‰€ä»¥åˆä¹°äº†ä¸€ä¸ª type-c è½¬ HDMI çš„è½¬æ¥å¤´ï¼Œè¿™ç©æ„å¯ä¸ä¾¿å®œï¼ŒèŠ±äº†ï¿¥99å—å¤§æ´‹ã€‚ â€œé”®ç›˜é‡‡ç”¨ç¬¬äºŒä»£è¶å¼ç»“æ„ï¼ŒæŒ‰é”®ç¨³å®šæ€§æ˜¯ä¼ ç»Ÿå‰ªåˆ€å¼ç»“æ„çš„ 4 å€ï¼Œå¹¶ä¸”æ‰‹æ„Ÿæ›´èˆ’é€‚ï¼Œå“åº”æ›´çµæ•ã€‚â€ è¿™æ®µè¯æ¥è‡ªäºå®˜ç½‘ï¼Œä¸è¿‡æˆ‘å¹¶æ²¡æœ‰æ„Ÿè§‰åˆ°æ›´èˆ’é€‚ï¼Œåè€Œè§‰å¾—é”®ç›˜å¤ªéš¾å—äº†ï¼ï¼ï¼é”®ç¨‹å¤ªçŸ­äº†ï¼ŒæŒ‰ä¸‹æ²¡ä¸€ç‚¹æ„Ÿè§‰ï¼Œå›å¼¹ä¹Ÿå¾ˆæ— åŠ›ï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯æ¯«æ— æ‰‹æ„Ÿã€‚ã€‚ã€‚ä¸ºäº†æ‰¾åˆ°æ‰‹æ„Ÿå°±ä¹°äº†ä¸€ä¸ªæœºæ¢°é”®ç›˜+é¼ æ ‡ï¼Œå…¶å®æˆ‘ä¹‹å‰ä¸€ç›´æ²¡æœ‰é¼ æ ‡çš„ï¼Œæ„Ÿè§‰é¼ æ ‡ä¼šæ‹–æ…¢æˆ‘çš„æ•ˆç‡ï¼Œè§¦æ§æ¿æŒºå¥½ç”¨çš„ï¼Œå› ä¸ºç”¨äº†å¤–æ¥é”®ç›˜ï¼Œæ‰‹å¤Ÿä¸ç€è§¦æ§æ¿äº†ï¼Œåªå¥½ç”¨è¿å°±ä½¿ç”¨é¼ æ ‡äº†ã€‚ â€œå®½å¤§çš„ Force Touch è§¦æ§æ¿ï¼Œè®©ä½ çš„æ‰‹æŒ‡æœ‰å……åˆ†çš„ç©ºé—´æ–½å±•è§¦æ§æ‰‹åŠ¿å’Œè¿›è¡Œç‚¹æŒ‰æ“ä½œã€‚â€ æ–°çš„ MBP é…å¤‡äº†æ›´åŠ å¤§çš„è§¦æ§æ¿ï¼Œä½†ç”±äºæˆ‘ä½¿ç”¨äº†å¤–æ¥é”®ç›˜ï¼Œå¯¼è‡´è¿™ä¹ˆå¤§ä¸€å—æ¿å­ç»™ç™½ç™½æµªè´¹äº†ï¼å¹¶æ²¡æœ‰æ´¾ä¸Šç”¨åœºã€‚ â€œå®ƒæ›´é…å¤‡äº† Multi-Touch Barï¼Œä¸€ä¸ªå†…ç½®äºé”®ç›˜çš„ç»ç’ƒé¢å¤šç‚¹è§¦æ§æ¡ï¼Œè®©ä½ èƒ½åœ¨éœ€è¦æ—¶å¿«é€Ÿå–ç”¨å„ç§å·¥å…·ã€‚â€ è‡³äºè¿™ä¸ª Bar çš„è¯ï¼Œå‡ ä¹æ²¡ç¢°è¿‡ï¼Œå°±æ˜¯åˆšåˆ°æ‰‹çš„æ—¶å€™ï¼Œå°å°é²œç©ç©è€Œå·²ï¼Œåæ¥é…äº†å¤–æ¥é”®ç›˜åï¼Œç¦»æˆ‘å°±æ›´åŠ è¿œäº†ï¼Œæˆ‘è¿è§¦æ§æ¿éƒ½å‡ ä¹ä¸å»ç¢°äº†ï¼Œå°±æ›´åˆ«è¯´è¿™ä¸ªBaräº†ï¼Œå½“åˆæƒ³å°è¯•è¿™ä¸ªæ–°æ¬¾ï¼Œå½“ç„¶ä¹Ÿæœ‰è¿™ä¸ª Bar çš„åŸå› ï¼Œå› ä¸ºè¿™ä¸ª Bar æ˜¯å¯ç¼–ç¨‹çš„ï¼Œæƒ³ç€å¯ä»¥æ²¡äº‹äº†æä¸ªç¨‹åºç©ä¸‹ã€‚ è·Ÿå·¥ä½œæ€§è´¨ä¹Ÿæœ‰å…³ç³»ï¼Œå‡ ä¹æ¯å¤©éƒ½è¦å¼€ä¼šï¼Œå¼€ä¼šæ—¶ä¸€èˆ¬ä¼šæ‹¿ä¸Šç”µè„‘ï¼Œè¿™æ—¶å¦‚æœæƒ³ç»§ç»­è°ƒè¯•å°±è¿˜æœ‰å¸¦ä¸Šè½¬æ¥å¤´ï¼Œæˆ–è€…æ‰‹æœºæ²¡ç”µäº†ï¼Œè¦å……ç”µä¹Ÿæ˜¯å¦‚æ­¤ï¼Œè¿™æ ·å°±æ„Ÿè§‰å¾ˆä¸æ–¹ä¾¿ã€‚ ç›´åˆ°å‰ä¸¤å¤©ï¼Œå…¬å¸æ›´æ–°äº†PCï¼Œæˆ‘çš„è€DELLæœºå™¨ä¹Ÿä¸€èµ·æ›´æ–°äº†ï¼Œå¹¶ä¸”æˆ‘è¿˜é€‰æ‹©äº†é…å¤‡æ˜¾ç¤ºå™¨ï¼ˆä¹‹å‰ç”¨çš„æ˜¯åŒäº‹çš„ï¼‰ï¼Œé¢†å–æ–°çš„æœºå™¨å’Œæ˜¾ç¤ºå™¨åå°±æŠŠåŒäº‹çš„æ˜¾ç¤ºå™¨å½’è¿˜äº†ï¼Œæ²¡æƒ³åˆ°çš„æ˜¯è¿™ä¸ªæ˜¾ç¤ºå™¨ä¹Ÿæ˜¯ä¸ªå¥‡è‘©ï¼Œå¯ä»¥æ’ä¼ ç»Ÿçš„ VGAï¼Œè¿˜å¯ä»¥æ’ä¸€ä¸ªæˆ‘ä¹‹å‰æ²¡è§è¿‡çš„ DELL DPï¼Œå°¼ç›å•Šï¼Œæˆ‘å“ªæœ‰è¿™ä¸ªæ¥å£å•Šï¼Œå…¬å¸é…å¤‡çš„è½¬æ¥å¤´æ˜¯ HDMI è½¬ VGA çš„ï¼Œæ‰€ä»¥æˆ‘å°±åªèƒ½çœ‹ï¼Œä¸èƒ½ç”¨äº†ï¼Œç½‘ä¸ŠæŸ¥äº†ä¸‹ Type C è½¬ DELL DP çš„è½¬æ¥å¤´éœ€è¦ ï¿¥210 ä¸ªå¤§æ´‹ã€‚æˆ‘åªæƒ³è¯´çœŸå°¼ç›æŠ˜è…¾å•Šï¼Œå„å¤§å…¬å¸çš„æ¥å£ä¸ç»Ÿä¸€ï¼Œæ‰ä¼šæœ‰è¿™ä¹ˆå¤šçš„è½¬æ¥å¤´å‡ºç°ã€‚ æˆ‘è§‰å¾—è‹¹æœå°±æ˜¯ä¸ºäº†è¿½æ±‚æ–°ä¸€ä»£ MBP çš„çº¤è–„ï¼Œæ‰ç‹ ä¸‹å¿ƒå»æ‰äº†è‡ªå®¶çš„ DP æ¥å£å’Œ USB æ¥å£ï¼Œé€‰æ‹©æ‹¥æŠ±äº† type-cï¼Œå¹¶ä¸”é˜‰å‰²äº†ä¸€åŠé”®ç¨‹çš„é”®ç›˜ï¼ è‡³äºæ›´åŠ æƒŠäººçš„æ€§èƒ½ï¼Œæ›´å¥½çš„æ˜¾ç¤ºæ•ˆæœï¼Œæ›´å¿«çš„å­˜å‚¨é€Ÿåº¦ï¼Œç»­èˆªèƒ½åŠ›ç­‰ï¼Œè¿™äº›éƒ½æ²¡æœ‰é‚£ä¹ˆçš„æ˜æ˜¾ï¼Œå› ä¸ºç›®å‰ 2015 æ¬¾çš„é…ç½®å·²ç»å®Œå…¨å¤Ÿç”¨äº†ï¼å°±æˆ‘ä»¬ç¼–ç¨‹è€Œè¨€ï¼Œä½ ä½“ä¼šä¸åˆ°è¿™äº›å˜åŒ–ã€‚ æ–°äºç»„é‡Œè¿˜æœ‰å° 2015 æ¬¾çš„ MBPï¼Œç»è¿‡å‘¨è½¬ï¼Œæˆ‘åˆæ¢äº†å›å»ï¼›å…œå…œè½¬è½¬ï¼Œä¸€é˜µæ–°é²œæ„Ÿè¿‡åï¼Œè¿˜æ˜¯æˆ‘å»å¹´ç”³è¯·çš„ MBP ç”¨ç€æœ€é¡ºæ‰‹ï¼æ–°æ¬¾çš„ MBPï¼Œè‡³äºæ²¡æœ‰ç»™æˆ‘å¸¦æ¥æ›´å¤šçš„æ¬¢ä¹ï¼Œåè€Œæ˜¯æ›´å¤šçš„ä¸ä¾¿åˆ©ï¼Œå› æ­¤æˆ‘è§‰å¾—ä¸€å‘³çš„æœ€æ±‚è½»è–„ï¼Œç‰ºç‰²å®é™…ä½¿ç”¨ä½“éªŒï¼Œåè€Œä¸å¥½ï¼Œè‡³å°‘ç”¨åœ¨å†™ä»£ç çš„ä½“éªŒå¾ˆæ˜¯ç³Ÿç³•ã€‚ Bye 2017 MacBook Pro My loved 2015 MacBook Pro","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"iOS æ²™ç›’ä¸æ–‡ä»¶ç®¡ç†ç±»","slug":"2017/08/12-sandbox-filemanager","date":"2017-08-12T01:24:47.000Z","updated":"2018-03-27T14:45:15.697Z","comments":true,"path":"2017/08/12/2017/08/12-sandbox-filemanager.html","link":"","permalink":"http://debugly.cn/2017/08/12/2017/08/12-sandbox-filemanager.html","excerpt":"","text":"æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„æ–‡æ¡£åªèƒ½å­˜å‚¨åˆ°æ²™ç›’é‡Œï¼Œåœ¨å†™ä¸šåŠ¡é€»è¾‘æ—¶ç»å¸¸éœ€è¦åˆ¤æ–­æ²™ç›’é‡ŒæŸä¸ªæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæˆ–è€…æ–‡ä»¶å¤¹ä¸å­˜åœ¨åˆ›å»ºæ–‡ä»¶å¤¹ç­‰æ“ä½œï¼Œå› æ­¤å†™ç¯‡æ–‡ç« è®°å½•ä¸‹å¦‚ä½•è·å–æ²™ç›’è·¯å¾„ï¼Œå¦‚ä½•ä½¿ç”¨æ–‡ä»¶ç®¡ç†ç±»åˆ›å»ºç›®å½•ç­‰å¸¸ç”¨æ“ä½œã€‚ æ²™ç›’è·¯å¾„ä»€ä¹ˆæ˜¯æ²™ç›’ï¼Ÿä¸ºäº†ä¿è¯Appçš„æ­£å¸¸è¿è¡Œï¼Œä¸å—åˆ°å…¶ä»–Appçš„å¹²æ‰°ï¼Œæˆ–è€…ç—…æ¯’çš„ä¾µå®³ï¼Œè‹¹æœä¸ºæ¯ä¸ªAppè®¾å®šäº†è‡ªå·±ç‹¬ç«‹çš„ç›®å½•ï¼Œå¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œä½ åªèƒ½è®¿é—®è¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶æˆ–è€…å­ç›®å½•ï¼Œè¿™ä¸ªç›®å½•æ˜¯ä½ Appçš„æ ¹ç›®å½•ï¼Œè¿™å°±æ˜¯æ²™ç›’æœºåˆ¶ï¼Œå¤§å¤§å‡å°‘äº†æµæ°“è½¯ä»¶å’Œç—…æ¯’ã€‚ å…³äºæ²™ç›’è®¾è®¡å¯çœ‹å®˜æ–¹ä»‹ç» App Sandbox Design Guide æ²™ç›’å†…é‡è¦ç›®å½•è·å–æ²™ç›’æ ¹ç›®å½•ï¼Œç›´æ¥ä½¿ç”¨è¿™ä¸ª C æ–¹æ³•å°±OKäº†: NSHomeDirectory() æ²™ç›’é‡Œé¢æœ‰å‡ ä¸ªæ–‡ä»¶å¤¹è¿˜è®°å¾—å—ï¼Ÿæœ‰ 3 ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š Documents : ä¸€èˆ¬é‡è¦çš„æ–‡ä»¶ä¼šæ”¾è¿™é‡Œï¼Œä¸è¿‡é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤‡ä»½Appæ—¶ä¼šå¤‡ä»½è¿™é‡Œé¢çš„æ•°æ®ï¼›è¿™ä¸ªç›®å½•ä¹Ÿå¯ä»¥è®¾ç½®å…±äº«ï¼Œå°±å¯ä»¥åœ¨itunesé‡Œå‘Appå¯¼å…¥æ•°æ®äº† NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES) æ³¨æ„ï¼šNSSearchPathForDirectoriesInDomains å‡½æ•°è¿”å›çš„æ˜¯ä¸ªæ•°ç»„ï¼Œå–ä¸€ä¸ªå°±è¡Œäº†ã€‚ Library/Caches : ä¸€èˆ¬ä¼šå°†å›¾ç‰‡è¿™ç§æ²¡é‚£ä¹ˆé‡è¦çš„èµ„æºç¼“å­˜åˆ°è¿™é‡Œ NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) tmp : å°±æ˜¯ä¸ªä¸´æ—¶ç›®å½•ï¼Œä¸­é—´ä¸´æ—¶æ–‡ä»¶ï¼Œå­˜è¿™é‡Œé¢ï¼Œç³»ç»Ÿå¯èƒ½ä¼šåˆ è¿™é‡Œçš„æ–‡ä»¶ï¼Œæœ€å¥½æˆ‘ä»¬è‡ªå·±æ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼Œå‡å°‘æ²™ç›’çš„ä½“ç§¯ NSTemporaryDirectory() è¿™ä¸‰ä¸ªéƒ½åœ¨Appæ²™ç›’æ ¹ç›®å½•é‡Œï¼Œå› æ­¤ä¹Ÿå¯ä»¥é€šè¿‡ NSHomeDirectory() æ‹¼æ¥å‡ºæ¥ã€‚ ç®¡ç†æ–‡ä»¶å’Œç›®å½•iOS é‡Œä½¿ç”¨ NSFileManager ç±»ç®¡ç†æ–‡ä»¶ï¼ˆå¤¹ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªå•åˆ©ç±»ï¼Œä½†ä½ ä»æ—§å¯ä»¥åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œè‡ªå·±ä½¿ç”¨ã€‚ä¸‹é¢æ€»ç»“ä¸‹ NSFileManager çš„å¸¸ç”¨æ–¹æ³•ï¼š åˆ›å»ºæ–‡ä»¶ 12345678NSFileManager *fileManager = [NSFileManager defaultManager];///æ–‡ä»¶è·¯å¾„ï¼Œæ–‡ä»¶å†…å®¹ï¼Œç›¸å…³å±æ€§BOOL succ = [fileManager createFileAtPath:path contents:nil attributes:nil];if (succ) &#123; NSLog(@&quot;åˆ›å»ºæˆåŠŸ&quot;);&#125; else &#123; NSLog(@&quot;åˆ›å»ºå¤±è´¥&quot;);&#125; ç›´æ¥å†™å…¥æ–‡ä»¶ NSString,NSData,NSArray,NSDictionaryç­‰å¸¸ç”¨ç±»å‡æä¾›äº†ç›´æ¥å†™å…¥æ–‡ä»¶çš„æ–¹æ³•ï¼›è¿™é‡Œä»¥ NSString ä¸¾ä¾‹è¯´æ˜ï¼›ç”±äºè¿™ä¸ªæ–¹æ³•çš„å­˜åœ¨ï¼Œæ‰€ä»¥ä¸Šé¢çš„åˆ›å»ºæ–‡ä»¶æ–¹æ³•ç”¨çš„ä¸æ˜¯å¾ˆå¤šï¼› 12345678NSString *iOSPath = [documentsPath stringByAppendingPathComponent:@&quot;iOS.txt&quot;];NSString *text = @&quot;æµ‹è¯•ç›´æ¥å†™å…¥&quot;;BOOL succ = [text writeToFile:path atomically:YES encoding:NSUTF8StringEncoding error:nil];if (succ) &#123; NSLog(@&quot;å†™å…¥æˆåŠŸ&quot;);&#125; else &#123; succ(@&quot;å†™å…¥å¤±è´¥&quot;);&#125; ä»æ–‡ä»¶è¯»å– 1234- (void)readFileContent&#123; NSString *text = [NSString stringWithContentsOfFile:path encoding:NSUTF8StringEncoding error:nil]; NSLog(@&quot;text: %@&quot;, text);&#125; åˆ›å»ºæ–‡ä»¶å¤¹ 12345678NSFileManager *fileManager = [NSFileManager defaultManager];///ç¬¬äºŒä¸ªå‚æ•°ï¼Œä¸€èˆ¬ä¼ YESï¼Œæ„æ€æ˜¯åˆ›å»ºä¸­é—´ç›®å½•ï¼›BOOL succ = [fileManager createDirectoryAtPath:@&quot;/a/b/c&quot; withIntermediateDirectories:YES attributes:nil error:nil];if (succ) &#123; NSLog(@&quot;åˆ›å»ºæˆåŠŸ&quot;);&#125; else &#123; NSLog(@&quot;åˆ›å»ºå¤±è´¥&quot;);&#125; åˆ é™¤æ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹ æœ€å¥½åœ¨å¼‚æ­¥çº¿ç¨‹é‡Œåˆ é™¤æ–‡ä»¶ 1234567NSFileManager *fileManager = [NSFileManager defaultManager];BOOL succ = [fileManager removeItemAtPath:path error:nil];if (succ) &#123; NSLog(@&quot;åˆ é™¤æˆåŠŸ&quot;);&#125;else&#123; NSLog(@&quot;åˆ é™¤å¤±è´¥&quot;);&#125; æ–‡ä»¶æ˜¯å¦å­˜åœ¨ 123456BOOL succ = [[NSFileManager defaultManager]fileExistsAtPath:savePath];if (succ) &#123; NSLog(@&quot;æ–‡ä»¶å­˜åœ¨&quot;);&#125;else&#123; NSLog(@&quot;æ–‡ä»¶ä¸å­˜åœ¨&quot;);&#125; æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ 12345678910111213141516NSString *cachePath = [NSSearchPathForDirectoriesInDomains(NSCachesDirectory, NSUserDomainMask, YES) firstObject];NSString *basePath = [cachePath stringByAppendingPathComponent:@&quot;telittleVideo&quot;]; BOOL directory = NO;///æ³¨æ„ï¼Œæ–‡ä»¶å¤¹å­˜åœ¨æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯YESå“¦ï¼Œæ‰€ä»¥è¦ç»§ç»­åˆ¤æ–­ directory ï¼if ([[NSFileManager defaultManager]fileExistsAtPath:basePath isDirectory:&amp;directory] &amp;&amp; !directory) &#123; ///å¦‚æœä¸æ˜¯æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆè¯´æ˜å­˜åœ¨äº†åŒåæ–‡ä»¶äº†ï¼Œåˆ æ‰å§ [[NSFileManager defaultManager]removeItemAtPath:basePath error:nil];&#125; ///æ–‡ä»¶å¤¹ä¸å­˜åœ¨ï¼Œè¦åˆ›å»ºif(!directory)&#123; NSError *err = nil; [[NSFileManager defaultManager] createDirectoryAtPath:basePath withIntermediateDirectories:YES attributes:nil error:&amp;err]; NSLog(@&quot;%@&quot;,err);&#125;","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"ä½¿ç”¨ CocoaPods ç®¡ç† frameworks","slug":"2017/07/21-use-cocoapods-manager-frameworks","date":"2017-07-21T07:09:56.000Z","updated":"2018-03-27T14:45:15.696Z","comments":true,"path":"2017/07/21/2017/07/21-use-cocoapods-manager-frameworks.html","link":"","permalink":"http://debugly.cn/2017/07/21/2017/07/21-use-cocoapods-manager-frameworks.html","excerpt":"","text":"ä¸Šç¯‡åšå®¢ä»‹ç»äº†å¦‚ä½•åˆ›å»º pods åº“ï¼Œè®© pods åº“å¸®æˆ‘ä»¬ç®¡ç†æºç ã€ä¾èµ–ã€ç¼–è¯‘æˆåº“ã€é…ç½®search pathç­‰å·¥ä½œï¼›ä½†æœ‰æ—¶å€™ä½ å¯èƒ½ä¸æƒ³æˆ–è€…ä¸èƒ½æŠŠæºç æä¾›å‡ºå»ï¼Œè¿˜æƒ³è¦ä½¿ç”¨ pods ç®¡ç†ç‰ˆæœ¬çš„è¯ï¼Œå°±å¯ä»¥è®© pods ç›´æ¥ç®¡ç† frameworks è€Œä¸æ˜¯æºç ï¼ æˆ‘å·²ç»å®è·µäº†è¿‡äº†ï¼Œç¡®å®å¯ä»¥ç®¡ç† framework çš„ï¼Œè¿™æ˜¯åˆ›å»ºå¥½çš„åŒ…å« demo çš„ pods åº“åœ°å€ ï¼šhttps://github.com/debugly/TestSCFPodsã€‚ åˆ›å»ºæ­¥éª¤å’Œåˆ›å»ºç®¡ç†æºç çš„ pods åº“æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡ podspec é‡Œçš„é…ç½®ä¸å¤ªä¸€æ ·è€Œå·²ï¼å¦‚æœä½ æ²¡æœ‰åˆ›å»ºè¿‡ pods åº“çš„è¯ï¼Œæœ€å¥½å…ˆå»çœ‹ä¸‹ä¸Šç¯‡åšå®¢ : åˆ›å»º CocoaPods åº“ã€‚ åˆ›å»º git ä»“åº“åŒæ ·çš„ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ª git ä»“åº“ï¼Œç”¨äºç®¡ç† frameworks çš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”æ‰“ tagã€‚ç„¶åå…‹éš†åˆ°æœ¬åœ°ï¼Œè¿›å…¥ä»“åº“ç›®å½• : 1cd ~/GitWorkspace/TestSCFPods åˆ›å»º podspec æ–‡ä»¶è¿›å…¥ä»“åº“ç›®å½•åï¼Œå¼€å§‹åˆ›å»º podspec æ–‡ä»¶ 123pod spec create TestSCFPodsSpecification created at TestSCFPods.podspec æˆ‘æŠŠå’Œåˆ›å»ºæ™®é€šæºç  pods åº“ä¸ä¸€æ ·çš„åœ°æ–¹æ‹¿å‡ºæ¥è¯´ä¸‹ï¼š 123456//ä¸Šç¯‡åšå®¢é‡Œæ²¡ç”¨åˆ°ï¼Œå› æ­¤æ²¡æï¼›è¿™ä¸ªæ˜¯èµ„æºè·¯å¾„ï¼Œæˆ‘çš„ SohuGameSDK.framework é‡ŒåŒ…å«çš„æœ‰ SohuGame.xcassets è¿™ä¸ªå›¾ç‰‡åº“ï¼›s.resources = &quot;SohuGameSDK.framework/SohuGame.xcassets&quot;///è¿™ä¸ªå¾ˆé‡è¦ï¼ŒæŠŠéœ€è¦ç®¡ç†çš„ frameworks éƒ½å†™å‡ºæ¥ï¼Œå¦‚æœæœ‰ä¾èµ–å…³ç³»ï¼Œæœ€å¥½è¢«ä¾èµ–çš„å†™åœ¨å‰é¢s.vendored_frameworks = &quot;SohuCoreFoundation.framework&quot;,&quot;SohuGameSDK.framework&quot;///ä¸éœ€è¦é¢å¤–æš´éœ²å¤´æ–‡ä»¶# s.source_files = &quot;**/*.&#123;h&#125;&quot; éªŒè¯ podspec æ–‡ä»¶åŒæ ·çš„ï¼Œä½¿ç”¨ pod spec lint --allow-warnings éªŒè¯ä¸‹ï¼Œé€šè¿‡å¦‚ä¸‹ï¼š 12345-&gt; TestSCFPods (1.0.0)Analyzed 1 podspec.TestSCFPods.podspec passed validation. æœ‰é”™è¯¯çš„è¯ï¼Œå°±ä½¿ç”¨ pod spec lint --allow-warnings --verbose å†æ¬¡éªŒè¯ï¼Œä¸è¿‡ä¼šæ‰“å°è¯¦ç»†çš„æ—¥å¿—ï¼Œé€šè¿‡æ—¥å¿—å»æ‰¾é—®é¢˜ï¼ æäº¤ podspec æ–‡ä»¶å¦‚æœæ²¡æœ‰è´¦æˆ·çš„è¯ï¼Œé‚£å°±æ³¨å†Œä¸€ä¸ªï¼›æ³¨å†Œè¿‡äº†å°± push å§ï¼š pod trunk push TestSCFPods.podspec --allow-warnings 12345678910111213141516171819202122232425262728Updating spec repo `master`CocoaPods 1.3.0.beta.3 is available.To update use: `sudo gem install cocoapods --pre`[!] This is a test version we&apos;d love you to try.For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.0.beta.3Validating podspec -&gt; TestSCFPods (1.0.0)Updating spec repo `master`CocoaPods 1.3.0.beta.3 is available.To update use: `sudo gem install cocoapods --pre`[!] This is a test version we&apos;d love you to try.For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.0.beta.3-------------------------------------------------------------------------------- ğŸ‰ Congrats ğŸš€ TestSCFPods (1.0.0) successfully published ğŸ“… July 20th, 07:25 ğŸŒ https://cocoapods.org/pods/TestSCFPods ğŸ‘ Tell your friends!-------------------------------------------------------------------------------- æ­å–œä½ ï¼ŒæˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥åˆ›å»ºä¸ª demo è¯•ä¸‹äº†ï¼ ä¸ä»…èƒ½ç®¡ç† frameworks ï¼Œè¿˜å¯ä»¥ç®¡ç† .a é™æ€åº“ï¼ŒåŒºåˆ«æ˜¯ s.vendored_frameworks æ”¹ä¸º s.vendored_libraries ! æˆ‘è§‰å¾—å¾ˆèµçš„æ˜¯ï¼Œä¸ç”¨å°†èµ„æºæ‰‹åŠ¨æ·»åŠ åˆ°ä¸»å·¥ç¨‹é‡Œå»ï¼Œpodsä¼šè‡ªåŠ¨é€šè¿‡è„šæœ¬å¸®ä½ å®Œæˆè¿™ä»¶äº‹ï¼Œè¿™ä¸ªæ˜¯æ–°ç‰ˆ pods æ‰æœ‰çš„åŠŸèƒ½ï¼Œæœ€åˆæ˜¯ä¸æ”¯æŒçš„ï¼Œå¤§æ¦‚æ˜¯ä» 1.0 å¼€å§‹æ”¯æŒçš„ï¼ï¼ å®é™…æ•ˆæœä½¿ç”¨ pods çš„æœ€åˆåŸå› æ˜¯ä¸ºäº†ï¼Œé›†æˆæˆ‘ SDK çš„å¼€å‘äººå‘˜èƒ½å¤Ÿç®€å•é«˜æ•ˆçš„æ¢åŒ…ï¼Œä»å®é™…ä½¿ç”¨çš„æ•ˆç‡ä¸Šæ¥çœ‹ï¼Œå…¶å®æ²¡æœ‰é‚£ä¹ˆç†æƒ³ï¼Œæˆ‘ä¸¾ä¸ªæ —å­ï¼Œæ¯”å¦‚æˆ‘ SDK è¦æ›´æ–°å‘åŒ…äº†ï¼š æˆ‘çš„å·¥ä½œæ˜¯: å°† SDKï¼ˆä¹Ÿå°±æ˜¯ç›¸å…³çš„ frameworksï¼‰ä¸Šä¼ åˆ° github å‡çº§ä¸€ä¸ª tag å· å‡çº§ podspec ç‰ˆæœ¬å· å°† podspec æ¨é€åˆ° cocospods é›†æˆè€…çš„å·¥ä½œæ˜¯: å‡çº§ Podfile çš„ç‰ˆæœ¬å· ä½¿ç”¨ pod update æŠŠåº“æ›´æ–°ä¸‹æ¥ æäº¤æ›´æ–°åçš„ä»£ç  æ€»ä½“çœ‹æ¥ï¼ŒSDKæ›´æ–°ä¸€ä¸ªç‰ˆæœ¬ä¸€å…±éœ€è¦ 7 ä¸ªæ­¥éª¤ï¼Œæˆ‘æ„Ÿè§‰æ˜¯ç•¥ç¹çäº†äº›ï¼Œæ‰€ä»¥æˆ‘å¹¶æ²¡æœ‰é‡‡ç”¨ pods ç®¡ç† frameworks æ¥è‡ªåŠ¨æ¢åŒ…è¿™ä¸ªæ–¹æ¡ˆï¼ è¿˜æœ‰ä¸ªå¼Šç«¯æ˜¯ï¼Œå¦‚æœ Podfile é‡Œæ²¡æœ‰æŒ‡å®šå°ç‰ˆæœ¬å·ï¼Œé‚£ä¹ˆå¯èƒ½é›†æˆAppä¾èµ–çš„å…¶ä»–åº“ä¹Ÿè¢«æ›´æ–°äº†ï¼Œæˆ–è®¸Appå¼€å‘å¹¶ä¸æƒ³æ›´æ–°å…¶ä»–ä¾èµ–åº“ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"CocoaPods","slug":"CocoaPods","permalink":"http://debugly.cn/tags/CocoaPods/"}]},{"title":"åˆ›å»ºè‡ªå·±çš„ CocoaPods åº“","slug":"2017/07/20-create-pod-library","date":"2017-07-20T09:23:12.000Z","updated":"2018-03-27T14:45:15.696Z","comments":true,"path":"2017/07/20/2017/07/20-create-pod-library.html","link":"","permalink":"http://debugly.cn/2017/07/20/2017/07/20-create-pod-library.html","excerpt":"","text":"ä½¿ç”¨ CocoaPods ç®¡ç† iOS åº“å·²ç»ä¸æ˜¯ä»€ä¹ˆæ–°é²œäº‹äº†ï¼Œæˆ‘æœ€è¿‘åˆšå¼€æºäº†ä¸€ä¸ªç½‘ç»œåº“ï¼Œä¸ºäº†æ–¹ä¾¿é›†æˆä½¿ç”¨ï¼Œå› æ­¤å†³å®šæ”¯æŒä¸‹ CocoaPodsï¼ŒæœŸé—´ä¹Ÿé‡åˆ°äº†å‡ ä¸ªé—®é¢˜ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚ å‡†å¤‡å·¥ä½œåˆ›å»º Pods åº“ï¼Œå…¶å®æ„æ€æ˜¯è®©ä½ çš„å¼€æºåº“æ”¯æŒ CocoaPods ç®¡ç†ï¼Œå› æ­¤å‰ææ˜¯ä½ åº”å½“æœ‰ä¸€ä¸ªå¼€æºåº“ï¼Œå…ˆå‘å¸ƒåˆ° github ä¸Šï¼Œè®°å¾—åˆ›å»ºç©ºä»“åº“çš„æ—¶å€™è®© github ç»™ä½ ç”Ÿæˆä¸€ä¸ª licenseï¼Œæ–¹é¢ç­‰ä¼šå¡«å†™ Spec Licenseã€‚ åœ¨åˆ›å»º Pods åº“ä¹‹å‰ï¼Œæˆ‘å·²ç»æŠŠ demo å’Œ SCNetworkKit åº“å‘å¸ƒåˆ° github ä¸Šäº†ï¼Œè¿™æ˜¯ç›®å½•ç»“æ„ï¼š æ³¨æ„ï¼šå…¶å®åªéœ€è¦æŠŠåº“çš„æºç æ”¾è¿›æ¥å°±å¥½äº†ï¼Œç­‰åˆ›å»ºå®Œæ¯• pods åº“ä¹‹åï¼Œå†åˆ›å»º demo ï¼›ç”±äºæ”¯æŒ pods ä¹‹å‰æˆ‘å·²ç»æœ‰äº† demo äº†æ‰€ä»¥å°±æš‚æ—¶æ²¡åˆ é™¤ã€‚ è®°å¾—åœ¨æœ€åä¸€æ¬¡æäº¤è®°å½•é‚£é‡Œæ·»åŠ ä¸€ä¸ª tagï¼Œå¹¶ push åˆ° github ä¸Šï¼Œè®°ä½è¿™ä¸ª tag å€¼ï¼Œä¸€ä¼šè¦ç”¨åˆ°ï¼ åˆ›å»º podspecé¦–å…ˆè¿›å…¥åˆ°ä»“åº“è·Ÿç›®å½•ï¼š cd /Users/crown/gitworkspace/SCNetworkKit æˆ‘ä»¬å°†åœ¨è¿™ä¸ªç›®å½•é‡Œåˆ›å»ºä¸€ä¸ª SCNetworkKit.podspec æ–‡ä»¶ï¼Œæ–‡ä»¶é‡Œé¢æ˜¯ä¸€äº›é…ç½®å’Œæè¿°ä¿¡æ¯ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤åˆ›å»ºï¼š pod spec create SCNetworkKit çœ‹åˆ°æç¤º Specification created at SCNetworkKit.podspec å°±è¡¨æ˜åˆ›å»ºå¥½äº†ï¼æ¥ä¸‹æ¥æˆ‘ä»¬ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ï¼Œå¿…è¦çš„é…ç½®æ”¹ä¸‹å°±å¥½äº†ï¼š s.name : é»˜è®¤å·²ç»å¸®ä½ å†™å¥½äº†ï¼Œä¸ç”¨æ”¹äº†ï¼Œè¿™ä¸ªåå­—å°±æ˜¯åˆ«äºº pod ä½ çš„åº“çš„åå­—ï¼› s.version : è¿™ä¸ª version å’Œä½  github ä»“åº“çš„tagæ˜¯å¯¹åº”çš„ï¼Œæ¯”å¦‚æˆ‘çš„tag æ˜¯ 1.0.0ï¼› s.summary : å¯¹è¿™ä¸ªåº“çš„ä¸€ä¸ªç®€å•æè¿°ï¼Œä¸å†™çš„è¯ç­‰ä¼šéªŒè¯çš„æ—¶å€™ä¼šæœ‰è­¦å‘Šï¼Œåˆ«äººæœç´¢è¿™ä¸ªåº“çš„æ—¶å€™ä¹Ÿä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥æœ€å¥½å†™ä¸‹ï¼› s.description : è¿™ä¸ªæ˜¯ä¸ªè¯¦ç»†çš„æè¿°ï¼Œæ–‡å­—ä¸ªæ•°è¦æ¯” summary å†™å¾—è¦å¤šï¼Œå¦åˆ™ä¹Ÿæœ‰è­¦å‘Šï¼›æ³¨æ„å†™åˆ°ä¸¤ä¸ª DESC ä¹‹é—´å°±å¥½äº†ï¼› s.homepage : å¦‚æœè¿™ä¸ªåº“æœ‰ä¸»é¡µçš„è¯ï¼Œå¯ä»¥å¡«ä¸Šï¼Œæœç´¢è¿™ä¸ªåº“çš„æ—¶å€™ä¹Ÿä¼šæ˜¾ç¤ºå‡ºæ¥çš„ï¼› s.license : æ”¹ä¸ºä½ å®é™…ä½¿ç”¨çš„ license å³å¯ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œé‚£å°±åˆ›å»ºä¸€ä¸ªè¡¥ä¸Šï¼› s.author : ä½œè€…ï¼Œä¼šå¸®ä½ å¡«å†™ä¸º git çš„å…¨å±€è´¦æˆ·ï¼› s.platform : æ ¹æ®å®é™…æƒ…å†µå†™ iOS æˆ–è€… OS Xï¼› s.source : å¡«ä¸Šä»“åº“åœ°å€ï¼Œéœ€è¦httpså“¦ï¼Œæˆ–è€…å†™ ssh çš„ä¹Ÿè¡Œï¼› s.source_files : åº“æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œå¯ä»¥é€’å½’ï¼› s.framework : ä¾èµ–çš„ç³»ç»Ÿåº“ï¼› s.library : ä¾èµ–çš„ç³»ç»Ÿåº“ï¼› s.requires_arc : æ˜¯å¦å¿…é¡»æ˜¯ arcï¼› s.dependency : ä½ è¿™ä¸ªåº“ä¾èµ–äº†å“ªäº›å…¶ä»– pods åº“ï¼› ç¬¬ä¸€æ¬¡å¯èƒ½å†™ä¸å¥½ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä¸‹è½½ä¸€ä¸ªï¼Œçœ‹ç€æ”¹ã€‚ å†™å¥½äº†ï¼Œå°±éªŒè¯ä¸‹æ–‡ä»¶æ˜¯å¦æœ‰è¯¯ï¼Œå¯èƒ½éœ€è¦å¤šæ¬¡ä¿®æ”¹ï¼Œå¤šæ¬¡éªŒè¯ï¼š pod spec lint --allow-warnings æˆ‘é‡åˆ°çš„é”™è¯¯ï¼š 123456-&gt; SCNetworkKit (1.0.0) - ERROR | [iOS] xcodebuild: Returned an unsuccessful exit code. You can use `--verbose` for more information. - NOTE | xcodebuild: Headers/Public/SCNetworkKit/SCNetworkKit.h:11:9: fatal error: &apos;NSDictionary+SCAddtions.h&apos; file not found - NOTE | xcodebuild: clang: error: linker command failed with exit code 1 (use -v to see invocation) - NOTE | [iOS] xcodebuild: fatal error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/lipo: can&apos;t open input file: /var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/CocoaPods/Lint/DerivedData/App/Build/Intermediates/App.build/Release-iphonesimulator/App.build/Objects-normal/i386/App (No such file or directory) - NOTE | [iOS] xcodebuild: error: cannot parse the debug map for &quot;/var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/CocoaPods/Lint/DerivedData/App/Build/Products/Release-iphonesimulator/App.app/App&quot;: No such file or directory è¿™ä¸ªåŸå› æ˜¯æˆ‘æœ€åˆè·¯å¾„æˆ‘å†™é”™äº†ï¼Œå†™æˆäº† s.source_files = &quot;SCNetworkKit/*.{h,m}&quot;ï¼Œæ²¡æœ‰é€’å½’æŸ¥æ‰¾å­æ–‡ä»¶å¤¹é‡Œçš„ç±»ï¼Œæ‰€ä»¥è¯´è¿™ä¸ªç±»åˆ«æ–‡ä»¶æ‰¾ä¸åˆ°ï¼æˆ‘æ˜¯é€šè¿‡åŠ ä¸Š --verbose ä¹‹åï¼ŒæŸ¥çœ‹æ‰§è¡Œè¿‡ç¨‹å‘ç°çš„ï¼ŒéªŒè¯çš„æ—¶å€™ä¼šä¸‹è½½æ–‡ä»¶ï¼Œç„¶å copy åˆ°åˆ«çš„ç›®å½•å»ç¼–è¯‘ï¼Œæˆ‘å‘ç°æ²¡æœ‰ä¸‹è½½å­æ–‡ä»¶é‡Œçš„æ–‡ä»¶ï¼ 123456-&gt; Installing SCNetworkKit (1.0.0) &gt; Copying SCNetworkKit from `/Users/crown/Library/Caches/CocoaPods/Pods/External/SCNetworkKit/d91c7ff7dcd08eaf54117a932c0d41d7-b0517` to `../../../../private/var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/CocoaPods/Lint/Pods/SCNetworkKit` - Running pre install hooks è¿˜é‡åˆ°äº†è¿™ä¸ªé”™è¯¯ï¼š 123456-&gt; SCNetworkKit (1.0.0) - ERROR | [iOS] xcodebuild: Returned an unsuccessful exit code. You can use `--verbose` for more information. - NOTE | xcodebuild: /var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/CocoaPods/Lint/DerivedData/App/Build/Products/Release-iphonesimulator/SCNetworkKit/SCNetworkKit.framework/Headers/SCNetworkKit.h:14:9: fatal error: &apos;SCJSONUtil.h&apos; file not found - NOTE | xcodebuild: /var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/CocoaPods/Lint/App/main.m:3:9: fatal error: could not build module &apos;SCNetworkKit&apos; - NOTE | xcodebuild: clang: error: linker command failed with exit code 1 (use -v to see invocation) - NOTE | [iOS] xcodebuild: fatal error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/lipo: can&apos;t open input file: /var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/CocoaPods/Lint/DerivedData/App/Build/Intermediates/App.build/Release-iphonesimulator/App.build/Objects-normal/i386/App (No such file or directory) åŸå› æ˜¯ demo é‡Œæœ‰ä¸ª SCJSONUtil.h æ–‡ä»¶ï¼Œæˆ‘ä¸å°å¿ƒæŠŠä»–å¯¼å…¥åˆ° SCNetworkKit.h é‡Œäº†ï¼Œä½†æ˜¯ pods æ£€æŸ¥æ˜¯ä¸ä¼šå»ä¸‹è½½ demoï¼Œæ‰€ä»¥æ ¹æœ¬æ‰¾ä¸åˆ°è¿™ä¸ª SCJSONUtil.h è¿™ä¸ªå¤´æ–‡ä»¶ï¼ï¼ï¼äºæ˜¯æˆ‘åˆ äº†è¿™ä¸ªå¤´æ–‡ä»¶ï¼Œæ¥ç€ push åˆ°äº† githubï¼Œå¹¶ä¸”ä¿®æ”¹äº† tag å·ï¼ å†æ¬¡æ£€æŸ¥åå‘ç°è¿˜æ˜¯è¿™ä¸ªé”™è¯¯ï¼Œè¯•äº†å‡ æ¬¡éƒ½æ˜¯ï¼Œæˆ‘è§‰å¾—ä¸å¯¹åŠ²ï¼Œæ˜¯ä¸æ˜¯èµ°äº†ç¼“å­˜äº†ï¼Ÿæ²¿ç€è¿™ä¸ªæ€è·¯å»æ£€æŸ¥ï¼Œå‘ç°æœçœŸä¸æ˜¯æ¯æ¬¡æ£€æŸ¥éƒ½ä¼šé‡æ–°ä¸‹è½½ä»£ç çš„ï¼Œè€Œæ˜¯è¯»äº†ç¼“å­˜äº†ï¼ï¼ï¼å› æ­¤æˆ‘åˆ æ‰äº†ç¼“å­˜çš„ä»£ç ï¼Œå†æ¬¡éªŒè¯å°±é€šè¿‡äº†ï¼ åˆ é™¤ä¹‹åï¼Œå‘ç°åœ¨ Copy ä¹‹å‰ä¼šé‡æ–°ä¸‹è½½ï¼ 123456789101112131415161718192021222324Downloading dependencies-&gt; Installing SCNetworkKit (1.0.0) &gt; Git download &gt; Git download $ /usr/bin/git clone https://github.com/debugly/SCNetworkKit.git /var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/d20170720-43460-137oplc --template= --single-branch --depth 1 --branch 1.0.0 Cloning into &apos;/var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/d20170720-43460-137oplc&apos;... Note: checking out &apos;733b52034ca83c8ced0fb709e40bec8e3ccde344&apos;. You are in &apos;detached HEAD&apos; state. You can look around, make experimental changes and commit them, and you can discard any commits you make in this state without impacting any branches by performing another checkout. If you want to create a new branch to retain commits you create, you may do so (now or later) by using -b with the checkout command again. Example: git checkout -b &lt;new-branch-name&gt;&gt; Copying SCNetworkKit from `/Users/crown/Library/Caches/CocoaPods/Pods/External/SCNetworkKit/d91c7ff7dcd08eaf54117a932c0d41d7-2e598` to `../../../../private/var/folders/2z/l7ftfgd54lv0_nvq7pnr_zbw0000gn/T/CocoaPods/Lint/Pods/SCNetworkKit` - Running pre install hooks è¿™ä¸ªè¿‡ç¨‹å¯èƒ½ä¼šé‡åˆ°å„ç§é”™è¯¯ï¼Œåªè¦è€å¿ƒçœ‹æ‰“å°çš„æ—¥å¿—ï¼Œä¸€èˆ¬éƒ½èƒ½è§£å†³çš„ï¼Œå¯èƒ½éœ€è¦åå¤éªŒè¯ï¼Œéœ€è¦æœ‰äº›è€å¿ƒï¼ é€šè¿‡åä¼šæ‰“å°: 1234567** BUILD SUCCEEDED ** -&gt; SCNetworkKit (1.0.0)Analyzed 1 podspec.SCNetworkKit.podspec passed validation. åˆ›å»ºè´¦æˆ·å‘å¸ƒä¹‹å‰éœ€è¦åˆ›å»ºä¸€ä¸ª CocoaPods çš„è´¦æˆ·ï¼Œå¦‚æœä½ æœ‰å¤šä¸ªç”µè„‘ï¼Œé‚£ä¹ˆä½ å¯ä»¥æ³¨å†Œå¤šæ¬¡ï¼Œä»¥é‚®ç®±åœ°å€ä¸ºå”¯ä¸€æ ‡è¯†ï¼Œä¸€ä¸ªé‚®ç®±åœ°å€å¯ä»¥åœ¨å¤šå°ç”µè„‘ä¸Šæ³¨å†Œï¼ pod trunk register youar@email.com &#39;nickNameâ€™ é€šè¿‡è¿™ä¸ªå‘½ä»¤æ³¨å†Œåï¼Œä½ çš„é‚®ç®±å¾ˆå¿«å°±ä¼šæ”¶åˆ° CocoaPods å‘æ¥çš„éªŒè¯é“¾æ¥ï¼Œç‚¹å‡»å³å¯æ¿€æ´»ï¼Œåç§°æ— æ³•ä¿®æ”¹å“¦ï¼æ¿€æ´»ä¹‹åï¼Œæˆ‘ä»¬è¿”å›åˆ°ç»ˆç«¯ç»§ç»­å¾€ä¸‹æ“ä½œå³å¯ï¼Œä½¿ç”¨ pod trunk me æŸ¥çœ‹ä¸ªäººä¿¡æ¯ï¼š 12345678pod trunk me - Name: Matt Reach - Email: qianlongxu@gmail.com - Since: July 20th, 02:05 - Pods: - SCNetworkKit - Sessions: - July 20th, 02:05 - November 25th, 04:34. IP: 125.35.217.43 å‘å¸ƒ podspecå°†åˆšæ‰å·²ç»éªŒè¯é€šè¿‡çš„ podspec push åˆ° cocoapods çš„ä»“åº“é‡Œï¼Œè¿™æ ·åˆ«äººå°±èƒ½é€šè¿‡ pods æœç´¢åˆ°ä½ çš„åº“äº†ï¼Œä»è€Œä½¿ç”¨ä½ çš„åº“äº†ï¼› 1234567891011121314151617181920212223242526272829pod trunk push SCNetworkKit.podspec Updating spec repo `master`CocoaPods 1.3.0.beta.2 is available.To update use: `sudo gem install cocoapods --pre`[!] This is a test version we&apos;d love you to try.For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.0.beta.2Validating podspec -&gt; SCNetworkKit (1.0.0)Updating spec repo `master`CocoaPods 1.3.0.beta.2 is available.To update use: `sudo gem install cocoapods --pre`[!] This is a test version we&apos;d love you to try.For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.0.beta.2-------------------------------------------------------------------------------- ğŸ‰ Congrats ğŸš€ SCNetworkKit (1.0.0) successfully published ğŸ“… July 20th, 02:58 ğŸŒ https://cocoapods.org/pods/SCNetworkKit ğŸ‘ Tell your friends!-------------------------------------------------------------------------------- çœ‹åˆ°è¿™ä¸ªå°±è¡¨æ˜å·²ç» push æˆåŠŸäº†ï¼ï¼ ğŸ”æœç´¢æ˜¯ä¸æ˜¯å¾ˆé«˜å…´å‘¢ï¼ŒPods åº“åˆ›å»ºå¥½äº†ï¼Œæˆ‘ä»¬è¯•ç€æœä¸‹å§ï¼š pod search SCNetworkKit ç»“æœæ˜¯ï¼š 1[!] Unable to find a pod with name, author, summary, or description matching `SCNetworkKit` å¥½éƒé—·å‘¢ï¼Œæ˜æ˜å·²ç»æˆåŠŸå‘å¸ƒäº†ï¼Œä¸ºä½•å°±æ˜¯æœç´¢ä¸åˆ°å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºå†æ¬¡ä¹‹å‰æˆ‘æœè¿‡åˆ«çš„åº“ï¼ŒCocoaPods åšäº†ç¼“å­˜äº†ï¼Œå› æ­¤æˆ‘ä»¬æ‰¾åˆ°ä»–çš„æœç´¢ç´¢å¼•ç¼“å­˜ï¼Œå°†å®ƒåˆ é™¤å³å¯ï¼š rm -rf ~/Library/Caches/CocoaPods å†æ¬¡æœç´¢ï¼Œä¼šé‡æ–°å»ºç«‹ç´¢å¼•ï¼Œè¿™ä¸ªè¿‡ç¨‹å¤§æ¦‚éœ€è¦ç‰‡åˆ»ï¼Œè€å¿ƒç­‰å¾…å³å¯: 1234567891011pod search SCNetworkKitCreating search index for spec repo &apos;macdownapp&apos;.. Done!Creating search index for spec repo &apos;master&apos;.. Done!-&gt; SCNetworkKit (1.0.0) SCNetworkKit is a simple but powerful iOS network framework. pod &apos;SCNetworkKit&apos;, &apos;~&gt; 1.0.0&apos; - Homepage: http://debugly.cn/SCNetworkKit/ - Source: https://github.com/debugly/SCNetworkKit.git - Versions: 1.0.0 [master repo](END) åˆ›å»º demoä¸ºäº†æ–¹ä¾¿åˆ«äººä½¿ç”¨ï¼Œå¿«é€Ÿä¸Šæ‰‹ï¼Œæœ€å¥½åˆ›å»ºä¸€ä¸ª demoï¼Œå’Œåº“æ”¾åœ¨åŒä¸€ä¸ªä»“åº“å°±å¯ä»¥äº†. é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¹²å‡€çš„å·¥ç¨‹ï¼Œç„¶åä¸ºä¹‹ç¼–å†™ Podfile : 123456platform :ios, &apos;7.0&apos;target &apos;SCNDemo&apos; do pod &quot;SCNetworkKit&quot;, &apos;~&gt;1.0.3&apos; pod &apos;SCJSONUtil&apos;, &apos;~&gt;2.4.1&apos;end æ¥ä¸‹æ¥ä½¿ç”¨ pod update å®‰è£…podsåº“ï¼Œï¼ˆç”±äºæ˜¯æ–°åº“ï¼Œå¯èƒ½ä½¿ç”¨ pod install ä¼šå¤±è´¥ï¼‰ï¼› æœ€ååœ¨ demo é‡Œå†™å‡ ä¸ªè°ƒç”¨åº“çš„èŒƒä¾‹å°± OK äº†ï¼ å½“åˆ«äººä½¿ç”¨ pod try çš„æ—¶å€™ï¼Œå°±ä¼šæŠŠä½ è¿™ä¸ª demo ä¸‹è½½åˆ°ä¸€ä¸ªä¸´æ—¶ç›®å½•é‡Œï¼Œå¦‚æœä¸æä¾› demoï¼Œåˆ«äººå°±æ— æ³•ä½¿ç”¨ pod try å°è¯•ä½ çš„åº“ï¼ æ›´æ–° pods åº“ç‰ˆæœ¬ä½ çš„å¼€æºåº“ä¼šè¶Šæ¥è¶Šç¨³å®šï¼ŒåŠŸèƒ½ä¹Ÿæ›´åŠ çš„å¼ºå¤§ï¼Œè¿™æ—¶å°±åº”è¯¥è€ƒè™‘å‡çº§ä¸‹ pods åº“çš„ç‰ˆæœ¬äº†ï¼Œåšæ³•å¾ˆç®€å•ï¼š é¦–å…ˆç»™ä»“åº“æ‰“ä¸ªæ–°çš„æ ‡ç­¾ï¼Œæ ‡ç­¾åå°±æ˜¯ pods åº“çš„ç‰ˆæœ¬å·ï¼Œæ¯”å¦‚æˆ‘çš„ç½‘ç»œåº“å‡çº§åˆ°äº† 1.0.1 äº†ï¼Œå°±æ‰“ä¸ª 1.0.1 çš„ tagï¼Œç„¶å push åˆ° github ; æŠŠ podspec æ–‡ä»¶é‡Œçš„ç‰ˆæœ¬å·ä¹Ÿæ›´æ–°ä¸º 1.0.1ï¼Œç„¶åæ¨é€åˆ° cocoapods ä»“åº“ : 1234567891011121314151617181920212223242526272829pod trunk push SCNetworkKit.podspec Updating spec repo `master`CocoaPods 1.3.0.beta.3 is available.To update use: `sudo gem install cocoapods --pre`[!] This is a test version we&apos;d love you to try.For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.0.beta.3Validating podspec -&gt; SCNetworkKit (1.0.1)Updating spec repo `master`CocoaPods 1.3.0.beta.3 is available.To update use: `sudo gem install cocoapods --pre`[!] This is a test version we&apos;d love you to try.For more information, see https://blog.cocoapods.org and the CHANGELOG for this version at https://github.com/CocoaPods/CocoaPods/releases/tag/1.3.0.beta.3-------------------------------------------------------------------------------- ğŸ‰ Congrats ğŸš€ SCNetworkKit (1.0.1) successfully published ğŸ“… July 21st, 00:16 ğŸŒ https://cocoapods.org/pods/SCNetworkKit ğŸ‘ Tell your friends!-------------------------------------------------------------------------------- æœ€åæŠŠ podspec æ–‡ä»¶çš„æ›´æ”¹æäº¤åˆ° github ä»“åº“ï¼Œä¸æä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿ä¸‹æ¬¡ä¿®æ”¹è€Œå·²ï¼Œå› ä¸ºå·²ç» push åˆ° cocoapods ä»“åº“é‡Œäº†ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"CocoaPods","slug":"CocoaPods","permalink":"http://debugly.cn/tags/CocoaPods/"}]},{"title":"macOS ä¸Šå®‰è£… CocoaPods","slug":"2017/07/19-install-cocoapods","date":"2017-07-19T02:32:12.000Z","updated":"2018-03-27T14:45:15.696Z","comments":true,"path":"2017/07/19/2017/07/19-install-cocoapods.html","link":"","permalink":"http://debugly.cn/2017/07/19/2017/07/19-install-cocoapods.html","excerpt":"","text":"å‰é¢çš„åšå®¢é‡Œç®€å•çš„ä»‹ç»è¿‡ Rubyï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“äº†å¦‚ä½•å®‰è£… Ruby å†™çš„ç¨‹åºåº“ï¼Œä»Šå¤©è¦å®‰è£…çš„æ˜¯å¤§åé¼é¼çš„ CocoaPods ï¼Œä»–ä¹Ÿæ˜¯ä½¿ç”¨ Ruby å†™çš„ï¼ Installå¦‚æœæ²¡æ¥è§¦è¿‡ ruby çš„è¯ï¼Œæœ€å¥½æ˜¯å…ˆæ¥çœ‹ä¸‹è¿™ç¯‡åšå®¢é‡Œçš„åè¯è§£é‡Š : ä½¿ç”¨ Rake é‡å†™æ‰“åŒ…è„šæœ¬ ä½¿ç”¨ gem å‘½ä»¤å®‰è£…å³å¯ ï¼š sudo gem install cocoapods ï¼›å®‰è£…è¿‡ç¨‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107Password:Fetching: i18n-0.8.6.gem (100%)Successfully installed i18n-0.8.6Fetching: thread_safe-0.3.6.gem (100%)Successfully installed thread_safe-0.3.6Fetching: tzinfo-1.2.3.gem (100%)Successfully installed tzinfo-1.2.3Fetching: activesupport-4.2.9.gem (100%)Successfully installed activesupport-4.2.9Fetching: nap-1.1.0.gem (100%)Successfully installed nap-1.1.0Fetching: fuzzy_match-2.0.4.gem (100%)Successfully installed fuzzy_match-2.0.4Fetching: cocoapods-core-1.2.1.gem (100%)Successfully installed cocoapods-core-1.2.1Fetching: claide-1.0.2.gem (100%)Successfully installed claide-1.0.2Fetching: cocoapods-deintegrate-1.0.1.gem (100%)Successfully installed cocoapods-deintegrate-1.0.1Fetching: cocoapods-downloader-1.1.3.gem (100%)Successfully installed cocoapods-downloader-1.1.3Fetching: cocoapods-plugins-1.0.0.gem (100%)Successfully installed cocoapods-plugins-1.0.0Fetching: cocoapods-search-1.0.0.gem (100%)Successfully installed cocoapods-search-1.0.0Fetching: cocoapods-stats-1.0.0.gem (100%)Successfully installed cocoapods-stats-1.0.0Fetching: netrc-0.7.8.gem (100%)Successfully installed netrc-0.7.8Fetching: cocoapods-trunk-1.2.0.gem (100%)Successfully installed cocoapods-trunk-1.2.0Fetching: cocoapods-try-1.1.0.gem (100%)Successfully installed cocoapods-try-1.1.0Fetching: molinillo-0.5.7.gem (100%)Successfully installed molinillo-0.5.7Fetching: CFPropertyList-2.3.5.gem (100%)Successfully installed CFPropertyList-2.3.5Fetching: colored2-3.1.2.gem (100%)Successfully installed colored2-3.1.2Fetching: nanaimo-0.2.3.gem (100%)Successfully installed nanaimo-0.2.3Fetching: xcodeproj-1.5.1.gem (100%)Successfully installed xcodeproj-1.5.1Fetching: escape-0.0.4.gem (100%)Successfully installed escape-0.0.4Fetching: fourflusher-2.0.1.gem (100%)Successfully installed fourflusher-2.0.1Fetching: gh_inspector-1.0.3.gem (100%)Successfully installed gh_inspector-1.0.3Fetching: ruby-macho-1.1.0.gem (100%)Successfully installed ruby-macho-1.1.0Fetching: cocoapods-1.2.1.gem (100%)Successfully installed cocoapods-1.2.1Parsing documentation for i18n-0.8.6Installing ri documentation for i18n-0.8.6Parsing documentation for thread_safe-0.3.6Installing ri documentation for thread_safe-0.3.6Parsing documentation for tzinfo-1.2.3Installing ri documentation for tzinfo-1.2.3Parsing documentation for activesupport-4.2.9Installing ri documentation for activesupport-4.2.9Parsing documentation for nap-1.1.0Installing ri documentation for nap-1.1.0Parsing documentation for fuzzy_match-2.0.4Installing ri documentation for fuzzy_match-2.0.4Parsing documentation for cocoapods-core-1.2.1Installing ri documentation for cocoapods-core-1.2.1Parsing documentation for claide-1.0.2Installing ri documentation for claide-1.0.2Parsing documentation for cocoapods-deintegrate-1.0.1Installing ri documentation for cocoapods-deintegrate-1.0.1Parsing documentation for cocoapods-downloader-1.1.3Installing ri documentation for cocoapods-downloader-1.1.3Parsing documentation for cocoapods-plugins-1.0.0Installing ri documentation for cocoapods-plugins-1.0.0Parsing documentation for cocoapods-search-1.0.0Installing ri documentation for cocoapods-search-1.0.0Parsing documentation for cocoapods-stats-1.0.0Installing ri documentation for cocoapods-stats-1.0.0Parsing documentation for netrc-0.7.8Installing ri documentation for netrc-0.7.8Parsing documentation for cocoapods-trunk-1.2.0Installing ri documentation for cocoapods-trunk-1.2.0Parsing documentation for cocoapods-try-1.1.0Installing ri documentation for cocoapods-try-1.1.0Parsing documentation for molinillo-0.5.7Installing ri documentation for molinillo-0.5.7Parsing documentation for CFPropertyList-2.3.5Installing ri documentation for CFPropertyList-2.3.5Parsing documentation for colored2-3.1.2Installing ri documentation for colored2-3.1.2Parsing documentation for nanaimo-0.2.3Installing ri documentation for nanaimo-0.2.3Parsing documentation for xcodeproj-1.5.1Installing ri documentation for xcodeproj-1.5.1Parsing documentation for escape-0.0.4Installing ri documentation for escape-0.0.4Parsing documentation for fourflusher-2.0.1Installing ri documentation for fourflusher-2.0.1Parsing documentation for gh_inspector-1.0.3Installing ri documentation for gh_inspector-1.0.3Parsing documentation for ruby-macho-1.1.0Installing ri documentation for ruby-macho-1.1.0Parsing documentation for cocoapods-1.2.1Installing ri documentation for cocoapods-1.2.1Done installing documentation for i18n, thread_safe, tzinfo, activesupport, nap, fuzzy_match, cocoapods-core, claide, cocoapods-deintegrate, cocoapods-downloader, cocoapods-plugins, cocoapods-search, cocoapods-stats, netrc, cocoapods-trunk, cocoapods-try, molinillo, CFPropertyList, colored2, nanaimo, xcodeproj, escape, fourflusher, gh_inspector, ruby-macho, cocoapods after 16 seconds26 gems installed å¦‚é‡åˆ°é—®é¢˜ï¼Œå¾ˆèƒ½æ˜¯æºçš„é—®é¢˜ï¼Œå¯ä»¥å¼€å¯ VPN ï¼Œæˆ–è€…æ›¿æ¢ä¸ºä¸‹é¢çš„æºåœ°å€ï¼š Ruby ç¤¾åŒºçš„ Gem æ‰˜ç®¡æœåŠ¡: RubyGems.org RubyGems é•œåƒ gems.ruby-china.org RubyGems é•œåƒ ruby.taobao.org æŸ¥çœ‹å½“å‰æº ï¼š 123gem sources -l*** CURRENT SOURCES ***https://rubygems.org/ å°†å®˜æ–¹ rubygems.org ä¿®æ”¹ä¸ºå›½å†…çš„ gems.ruby-china.org æºåœ°å€ ï¼š 1gem sources --add https://gems.ruby-china.org/ --remove https://rubygems.org/ å®‰è£…å®Œæ¯•åæœ€å¥½æ˜¯ pod setup ä¸‹ï¼Œä½œç”¨æ˜¯æŠŠ CocoaPods ä»“åº“ clone åˆ°æœ¬åœ°ã€‚ Tryå¯ä»¥å°è¯•ç©ä¸‹ï¼š ç‰ˆæœ¬ ï¼š pod â€“version æœç´¢ ï¼š pod search SCNetworkKit å°è¯•demo ï¼š pod try SCNetworkKit æ›´å¤šå‘½ä»¤ ï¼š 12345678910111213141516171819+ cache Manipulate the CocoaPods cache+ deintegrate Deintegrate CocoaPods from your project+ env Display pod environment+ init Generate a Podfile for the current directory+ install Install project dependencies according to versions from a Podfile.lock+ ipc Inter-process communication+ lib Develop pods+ list List pods+ outdated Show outdated project dependencies+ plugins Show available CocoaPods plugins+ repo Manage spec-repositories+ search Search for pods+ setup Setup the CocoaPods environment+ spec Manage pod specs+ trunk Interact with the CocoaPods API (e.g. publishing new specs)+ try Try a Pod!+ update Update outdated project dependencies and create new Podfile.lock å¯é€‰å‚æ•° ï¼š 12345--silent Show nothing--version Show the version of the tool--verbose Show more debugging information--no-ansi Show output without ANSI codes--help Show help banner of specified command","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"},{"name":"CocoaPods","slug":"CocoaPods","permalink":"http://debugly.cn/tags/CocoaPods/"}]},{"title":"æºç åˆ†æ weak å¯¹è±¡è‡ªåŠ¨ç½®ç©ºåŸç†","slug":"2017/07/17-objc-weak-obj-imp","date":"2017-07-17T23:40:28.000Z","updated":"2018-03-27T14:45:15.695Z","comments":true,"path":"2017/07/18/2017/07/17-objc-weak-obj-imp.html","link":"","permalink":"http://debugly.cn/2017/07/18/2017/07/17-objc-weak-obj-imp.html","excerpt":"","text":"æˆ‘ä»¬éƒ½çŸ¥é“ weak ä¿®é¥°çš„å˜é‡ï¼Œåœ¨å¯¹è±¡é‡Šæ”¾åï¼Œä¼šè‡ªåŠ¨ç½®ä¸º nilï¼Œè¿™ä¸€æœºåˆ¶å‡å°‘äº†å¤§é‡çš„é‡æŒ‡é’ˆå´©æºƒï¼›æˆ‘ä»¬è¿˜çŸ¥é“åœ¨ dealloc é‡Œä¸è¦ weak ä¿®é¥° self å¯¹è±¡ï¼Œå¦åˆ™å½“å¯¹è±¡ dealloc æ—¶å°±ä¼šå´©æºƒæ‰ï¼›ä¸€èµ·çœ‹ä¸‹æºç å®ç°å§! ä¸‹è½½æºç è™½ç„¶ iOS ä¸æ˜¯å¼€æºçš„ï¼Œä½†æ˜¯ OBJC è¿™éƒ¨åˆ†ä»£ç æ˜¯ Opençš„ï¼Œä¸‹è½½åœ°å€ : objc4-709.tar.gz ã€‚è¿™æ˜¯ç¬¬äºŒæ¬¡é˜…è¯» objc æºç ï¼Œç¬¬ä¸€æ¬¡æ˜¯åˆ†æå…³è”å¼•ç”¨å®ç°åŸç†æ—¶é˜…è¯»çš„ : æ·±å…¥ç†è§£å…³è”å¼•ç”¨;æˆ‘çŒœæµ‹ weak çš„å®ç°å’Œå…³è”å¯¹è±¡åº”è¯¥æ˜¯å¤§åŒå°å¼‚çš„ï¼Œæ€è·¯ä¸Šåº”è¯¥æ˜¯ç›¸åŒçš„ï¼Œåº”è¯¥ä¹Ÿæ˜¯åœ¨åˆ›å»ºåå­˜è¡¨ï¼Œdealloc æ—¶ç½®ç©ºï¼Œç„¶åä»è¡¨é‡Œç§»é™¤æ‰ã€‚ æ³¨å†Œ weak å˜é‡åˆå§‹åŒ–ä¸€ä¸ª weak æŒ‡é’ˆæ—¶ä¼šèµ° objc_initWeak å‡½æ•°: 123456789101112131415161718192021222324252627/** * Initialize a fresh weak pointer to some object location. * It would be used for code like: * * (The nil case) * __weak id weakPtr; * (The non-nil case) * NSObject *o = ...; * __weak id weakPtr = o; * * This function IS NOT thread-safe with respect to concurrent * modifications to the weak variable. (Concurrent weak clear is safe.) * * @param location Address of __weak ptr. * @param newObj Object ptr. */ id objc_initWeak(id *location, id newObj)&#123; if (!newObj) &#123; *location = nil; return nil; &#125; return storeWeak&lt;DontHaveOld, DoHaveNew, DoCrashIfDeallocating&gt; (location, (objc_object*)newObj);&#125; å†…éƒ¨ä¼šèµ° objc_storeWeak æ–¹æ³•æ¥å­˜å‚¨ä½ å£°æ˜çš„ weak å˜é‡ : 123456789101112131415/** * This function stores a new value into a __weak variable. It would * be used anywhere a __weak variable is the target of an assignment. * * @param location The address of the weak pointer itself * @param newObj The new object this weak ptr should now point to * * @return newObj */id objc_storeWeak(id *location, id newObj)&#123; return storeWeak&lt;DoHaveOld, DoHaveNew, DoCrashIfDeallocating&gt; (location, (objc_object *)newObj);&#125; å†…éƒ¨åˆ™è°ƒç”¨äº† storeWeak è¿™ä¸ªå‡½æ•°ï¼Œå…¶å®è¿™ä¸ªæ³¨é‡Šå·²ç»è¯´çš„å¾ˆæ˜ç™½äº†ï¼Œå¦‚æœ CrashIfDeallocating æ˜¯ true çš„è¯ï¼Œå½“ newObj æ­£åœ¨ dealloc æˆ–è€… newObj ä¸æ”¯æŒ weak å°±ä¼šå´©æºƒï¼è°ƒç”¨çš„æ—¶å€™ä¼ çš„æ˜¯æšä¸¾å€¼ DoCrashIfDeallocatingï¼Œæ­£æ˜¯ true ï¼æ‰€ä»¥ä¸Šä¸€ç¯‡åšå®¢é‡Œæåˆ°çš„åœ¨ dealloc é‡Œä½¿ç”¨ weak self ä¼šå´©æºƒï¼Œç«‹å³ ä¼ é€ ï¼ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798// Update a weak variable.// If HaveOld is true, the variable has an existing value // that needs to be cleaned up. This value might be nil.// If HaveNew is true, there is a new value that needs to be // assigned into the variable. This value might be nil.// If CrashIfDeallocating is true, the process is halted if newObj is // deallocating or newObj's class does not support weak references. // If CrashIfDeallocating is false, nil is stored instead.enum CrashIfDeallocating &#123; DontCrashIfDeallocating = false, DoCrashIfDeallocating = true&#125;;template &lt;HaveOld haveOld, HaveNew haveNew, CrashIfDeallocating crashIfDeallocating&gt; static id storeWeak(id *location, objc_object *newObj)&#123; assert(haveOld || haveNew); if (!haveNew) assert(newObj == nil); Class previouslyInitializedClass = nil; id oldObj; SideTable *oldTable; SideTable *newTable; // Acquire locks for old and new values. // Order by lock address to prevent lock ordering problems. // Retry if the old value changes underneath us. retry: if (haveOld) &#123; oldObj = *location; oldTable = &amp;SideTables()[oldObj]; &#125; else &#123; oldTable = nil; &#125; if (haveNew) &#123; newTable = &amp;SideTables()[newObj]; &#125; else &#123; newTable = nil; &#125; SideTable::lockTwo&lt;haveOld, haveNew&gt;(oldTable, newTable); if (haveOld &amp;&amp; *location != oldObj) &#123; SideTable::unlockTwo&lt;haveOld, haveNew&gt;(oldTable, newTable); goto retry; &#125; // Prevent a deadlock between the weak reference machinery // and the +initialize machinery by ensuring that no // weakly-referenced object has an un-+initialized isa. if (haveNew &amp;&amp; newObj) &#123; Class cls = newObj-&gt;getIsa(); if (cls != previouslyInitializedClass &amp;&amp; !((objc_class *)cls)-&gt;isInitialized()) &#123; SideTable::unlockTwo&lt;haveOld, haveNew&gt;(oldTable, newTable); _class_initialize(_class_getNonMetaClass(cls, (id)newObj)); // If this class is finished with +initialize then we're good. // If this class is still running +initialize on this thread // (i.e. +initialize called storeWeak on an instance of itself) // then we may proceed but it will appear initializing and // not yet initialized to the check above. // Instead set previouslyInitializedClass to recognize it on retry. previouslyInitializedClass = cls; goto retry; &#125; &#125; // Clean up old value, if any. if (haveOld) &#123; weak_unregister_no_lock(&amp;oldTable-&gt;weak_table, oldObj, location); &#125; // Assign new value, if any. if (haveNew) &#123; newObj = (objc_object *) weak_register_no_lock(&amp;newTable-&gt;weak_table, (id)newObj, location, crashIfDeallocating); // weak_register_no_lock returns nil if weak store should be rejected // Set is-weakly-referenced bit in refcount table. if (newObj &amp;&amp; !newObj-&gt;isTaggedPointer()) &#123; newObj-&gt;setWeaklyReferenced_nolock(); &#125; // Do not set *location anywhere else. That would introduce a race. *location = (id)newObj; &#125; else &#123; // No new value. The storage is not changed. &#125; SideTable::unlockTwo&lt;haveOld, haveNew&gt;(oldTable, newTable); return (id)newObj;&#125; å†…éƒ¨è°ƒç”¨ weak_register_no_lock æ³¨å†Œä¸€ä¸ª weakæŒ‡é’ˆå’Œå¯¹è±¡çš„é”®å€¼å¯¹ï¼Œç„¶åè¿”å›ï¼›å¦‚æœæ³¨å†Œçš„æ—¶å€™å‘ç°è¯¥å¯¹è±¡æ­£åœ¨ dealloc åˆ™ä¼šå´©æºƒï¼Œå¹¶ä¸”é€šè¿‡ _objc_fatal æ–¹æ³•ç•™äº†é—è¨€ï¼ï¼ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061/** * Registers a new (object, weak pointer) pair. Creates a new weak * object entry if it does not exist. * * @param weak_table The global weak table. * @param referent The object pointed to by the weak reference. * @param referrer The weak pointer address. */id weak_register_no_lock(weak_table_t *weak_table, id referent_id, id *referrer_id, bool crashIfDeallocating)&#123; objc_object *referent = (objc_object *)referent_id; objc_object **referrer = (objc_object **)referrer_id; if (!referent || referent-&gt;isTaggedPointer()) return referent_id; // ensure that the referenced object is viable bool deallocating; if (!referent-&gt;ISA()-&gt;hasCustomRR()) &#123; deallocating = referent-&gt;rootIsDeallocating(); &#125; else &#123; BOOL (*allowsWeakReference)(objc_object *, SEL) = (BOOL(*)(objc_object *, SEL)) object_getMethodImplementation((id)referent, SEL_allowsWeakReference); if ((IMP)allowsWeakReference == _objc_msgForward) &#123; return nil; &#125; deallocating = ! (*allowsWeakReference)(referent, SEL_allowsWeakReference); &#125; if (deallocating) &#123; if (crashIfDeallocating) &#123; _objc_fatal(\"Cannot form weak reference to instance (%p) of \" \"class %s. It is possible that this object was \" \"over-released, or is in the process of deallocation.\", (void*)referent, object_getClassName((id)referent)); &#125; else &#123; return nil; &#125; &#125; // now remember it and where it is being stored weak_entry_t *entry; if ((entry = weak_entry_for_referent(weak_table, referent))) &#123; append_referrer(entry, referrer); &#125; else &#123; weak_entry_t new_entry(referent, referrer); weak_grow_maybe(weak_table); weak_entry_insert(weak_table, &amp;new_entry); &#125; // Do not set *referrer. objc_storeWeak() requires that the // value not change. return referent_id;&#125; è¿™é‡Œåªèƒ½çŒœæµ‹ runtime æ˜¯é€šè¿‡å¼•ç”¨è®¡æ•°æ˜¯å¦ä¸º 0 æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¤„äº deallocing çŠ¶æ€çš„ï¼Œå› ä¸º SEL_allowsWeakReference è¿™ä¸ªå‡½æ•°çš„å®šä¹‰æ˜¯æ‰¾ä¸åˆ°çš„ï¼ä½†æ˜¯æˆ‘ä»¬ä»æºç ä¸Šå¯ä»¥ç¡®åˆ‡çš„äº†è§£åˆ°ï¼Œå¦‚æœå¯¹è±¡æ­£åœ¨ deallocing ä¸èƒ½è®©ä»–ä½¿ç”¨ weak ä¿®é¥°ï¼å¦è€…å°±å´©æºƒæ‰äº†ï¼ï¼ 12345678910if (deallocating) &#123; if (crashIfDeallocating) &#123; _objc_fatal(&quot;Cannot form weak reference to instance (%p) of &quot; &quot;class %s. It is possible that this object was &quot; &quot;over-released, or is in the process of deallocation.&quot;, (void*)referent, object_getClassName((id)referent)); &#125; else &#123; return nil; &#125;&#125; objc é‡Œå°è£…äº† _objc_fatal è¿™ä¸ªå‡½æ•°ç”¨äºåœæ­¢ç¨‹åºï¼Œå¹¶ä¸”æä¸ªé—è¨€ï¼Œå†…éƒ¨åˆ™æ˜¯è°ƒç”¨äº† _objc_fatalv 12345678void _objc_fatal(const char *fmt, ...)&#123; va_list ap; va_start(ap,fmt); _objc_fatalv(OBJC_EXIT_REASON_UNSPECIFIED, OS_REASON_FLAG_ONE_TIME_FAILURE, fmt, ap);&#125; _objc_fatalv å±äºå†…éƒ¨ç§æœ‰æ–¹æ³•ï¼Œå¯ä»¥æ­£å¸¸ exitï¼Œä¹Ÿå¯ä»¥ abortï¼Œå–å†³äº DebugDontCrash 12345678910111213141516171819void _objc_fatalv(uint64_t reason, uint64_t flags, const char *fmt, va_list ap)&#123; char *buf1; vasprintf(&amp;buf1, fmt, ap); char *buf2; asprintf(&amp;buf2, \"objc[%d]: %s\\n\", getpid(), buf1); _objc_syslog(buf2); if (DebugDontCrash) &#123; char *buf3; asprintf(&amp;buf3, \"objc[%d]: HALTED\\n\", getpid()); _objc_syslog(buf3); _Exit(1); &#125; else &#123; abort_with_reason(OS_REASON_OBJC, reason, buf1, flags); &#125;&#125; ä¸Šé¢çš„æµç¨‹å¤§è‡´æ˜¯å°† weak æè¿°çš„å˜é‡å­˜èµ·æ¥çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å†æŒ–æ˜ä¸‹å¯¹è±¡é‡Šæ”¾åï¼Œweak å˜é‡è‡ªåŠ¨ç½®ç©ºçš„é€»è¾‘: dealloc æ—¶æ¸…ç†æ‰ weak å˜é‡æ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†ç»“è®ºï¼Œé‚£ä¹ˆå°±ç›´æ¥ä» dealloc å¼€å§‹çœ‹æ–¹æ³•è°ƒç”¨å§: 123456789101112131415161718192021222324252627282930313233343536- (void)dealloc &#123; _objc_rootDealloc(self);&#125;void _objc_rootDealloc(id obj)&#123; assert(obj); obj-&gt;rootDealloc();&#125;inline void objc_object::rootDealloc()&#123; if (isTaggedPointer()) return; object_dispose((id)this);&#125;id object_dispose(id obj) &#123; return (*_dealloc)(obj); &#125;///æ³¨æ„ _dealloc å…¶å®å°±æ˜¯ _object_disposeid (*_dealloc)(id) = _object_dispose;static id _object_dispose(id anObject) &#123; if (anObject==nil) return nil; objc_destructInstance(anObject); anObject-&gt;initIsa(_objc_getFreedObjectClass ()); free(anObject); return nil;&#125; çœ‹æ³¨é‡Šå¯ä»¥çŸ¥é“ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯å¹²æ¸…ç†çš„å·¥ä½œçš„ï¼Œä¸é‡Šæ”¾å¯¹è±¡çš„å†…å­˜ï¼›å…·ä½“æ˜¯æ¸…ç†å…³è”åº”ç”¨çš„å¯¹è±¡å’Œå­˜å‚¨çš„ weak æŒ‡é’ˆ : 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111/************************************************************************ objc_destructInstance* Destroys an instance without freeing memory. * Calls C++ destructors.* Removes associative references.* Returns `obj`. Does nothing if `obj` is nil.* CoreFoundation and other clients do call this under GC.**********************************************************************/void *objc_destructInstance(id obj) &#123; if (obj) &#123; Class isa = obj-&gt;getIsa(); if (isa-&gt;hasCxxDtor()) &#123; object_cxxDestruct(obj); &#125; ///ä¹‹å‰çœ‹å…³è”å¼•ç”¨çš„æ—¶å€™ï¼Œå·²ç»çœ‹è¿‡è¿™ä¸ªæ–¹æ³• if (isa-&gt;instancesHaveAssociatedObjects()) &#123; _object_remove_assocations(obj); &#125; ///ä»Šå¤©æ¥çœ‹ä¸‹æ¸…ç† weak æŒ‡é’ˆçš„æ–¹æ³•å§ objc_clear_deallocating(obj); &#125; return obj;&#125;void objc_clear_deallocating(id obj) &#123; assert(obj); if (obj-&gt;isTaggedPointer()) return; obj-&gt;clearDeallocating();&#125;inline void objc_object::clearDeallocating()&#123; sidetable_clearDeallocating();&#125;void objc_object::sidetable_clearDeallocating()&#123; SideTable&amp; table = SideTables()[this]; // clear any weak table items // clear extra retain count and deallocating bit // (fixme warn or abort if extra retain count == 0 ?) table.lock(); RefcountMap::iterator it = table.refcnts.find(this); if (it != table.refcnts.end()) &#123; if (it-&gt;second &amp; SIDE_TABLE_WEAKLY_REFERENCED) &#123; weak_clear_no_lock(&amp;table.weak_table, (id)this); &#125; table.refcnts.erase(it); &#125; table.unlock();&#125;/** * Called by dealloc; nils out all weak pointers that point to the * provided object so that they can no longer be used. * * @param weak_table * @param referent The object being deallocated. */void weak_clear_no_lock(weak_table_t *weak_table, id referent_id) &#123; objc_object *referent = (objc_object *)referent_id; weak_entry_t *entry = weak_entry_for_referent(weak_table, referent); if (entry == nil) &#123; /// XXX shouldn&apos;t happen, but does with mismatched CF/objc //printf(&quot;XXX no entry for clear deallocating %p\\n&quot;, referent); return; &#125; // zero out references weak_referrer_t *referrers; size_t count; if (entry-&gt;out_of_line()) &#123; referrers = entry-&gt;referrers; count = TABLE_SIZE(entry); &#125; else &#123; referrers = entry-&gt;inline_referrers; count = WEAK_INLINE_COUNT; &#125; for (size_t i = 0; i &lt; count; ++i) &#123; objc_object **referrer = referrers[i]; if (referrer) &#123; if (*referrer == referent) &#123; *referrer = nil; &#125; else if (*referrer) &#123; _objc_inform(&quot;__weak variable at %p holds %p instead of %p. &quot; &quot;This is probably incorrect use of &quot; &quot;objc_storeWeak() and objc_loadWeak(). &quot; &quot;Break on objc_weak_error to debug.\\n&quot;, referrer, (void*)*referrer, (void*)referent); objc_weak_error(); &#125; &#125; &#125; weak_entry_remove(weak_table, entry);&#125; æ‰¾äº†åŠå¤©ï¼Œæˆ‘ä»¬æƒ³çœ‹åˆ°çš„ä»£ç æ— éæ˜¯åœ¨deallocé‡Œæ‰§è¡Œç½®ç©ºå’Œä»tableé‡Œç§»é™¤ï¼š 1234if (*referrer == referent) &#123; *referrer = nil;&#125;weak_entry_remove(weak_table, entry); æˆªæ­¢åˆ°ä»Šæ—¥ï¼Œäº†è§£äº†å¯¹è±¡ dealloc æ—¶ç³»ç»Ÿæ¡†æ¶åˆ°åº•åšäº†ä»€ä¹ˆï¼Œæ¸…æ¥šçš„çŸ¥é“äº†å…³è”å¼•ç”¨å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå’Œ weak å˜é‡ç½®ç©ºçš„åŸç†ï¼Œå¯¹äºæ—¥åä¿®æ”¹ä¸€äº›é—®é¢˜ï¼Œå®ç°æŸäº›ç‰¹æ€§çš„é€»è¾‘(ç½‘ç»œåº“é‡Œçš„è‡ªåŠ¨å–æ¶ˆå°±æ˜¯é€šè¿‡å…³è”å¼•ç”¨åšçš„ï¼Œåˆ©ç”¨äº†å¯¹è±¡é‡Šæ”¾æ—¶ï¼Œè‡ªåŠ¨é‡Šæ”¾å…³è”å¯¹è±¡è¿™ä¸€ç‰¹æ€§)ï¼Œå°±æ›´åŠ æœ‰æŠŠæ¡äº†ï¼ æ³¨ï¼šobjc çš„æºç æ˜¯ä¸€ç›´åœ¨æ›´æ–°çš„ï¼Œå¦‚æœä½ çœ‹çš„ä¸æ˜¯ objc4-709.tar.gz è¿™ä¸ªåŒ…çš„è¯ï¼Œå¯èƒ½æºç ä¸æˆ‘è´´çš„æœ‰å·®å¼‚ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"åœ¨ dealloc é‡Œä½¿ç”¨ weak self å¼•èµ·å´©æºƒï¼Ÿ","slug":"2017/07/17-weakself-in-dealloc-cause-crash","date":"2017-07-17T06:43:15.000Z","updated":"2018-03-27T14:45:15.695Z","comments":true,"path":"2017/07/17/2017/07/17-weakself-in-dealloc-cause-crash.html","link":"","permalink":"http://debugly.cn/2017/07/17/2017/07/17-weakself-in-dealloc-cause-crash.html","excerpt":"","text":"æˆ‘ä»¬éƒ½çŸ¥é“ weak ä¿®é¥°çš„å˜é‡ï¼Œåœ¨å¯¹è±¡é‡Šæ”¾åï¼Œä¼šè‡ªåŠ¨ç½®ä¸º nilï¼Œè¿™ä¸€æœºåˆ¶å‡å°‘äº†å¤§é‡çš„é‡æŒ‡é’ˆå´©æºƒï¼›å¯æ˜¯å¦‚æœä½ åœ¨å¯¹è±¡çš„ dealloc é‡Œä½¿ç”¨ weak ä¿®é¥° self ä¼šå¦‚ä½•å‘¢ ï¼Ÿç­”æ¡ˆæ˜¯å´©æºƒ ~_~ æœ€è¿‘æˆ‘ä»¬ SDK åœ¨é›†æˆåˆ°æŸä¸ª App ä¹‹åï¼Œå°±é‡åˆ°äº†è¿™æ ·çš„é—®é¢˜ï¼Œä¸€èµ·çœ‹ä¸‹å§ï¼ å…ˆçœ‹ä¸‹è§£æåçš„å´©æºƒæ—¥å¿—å§ï¼š 12345678910111213141516Thread 0 Crashed:0 libsystem_kernel.dylib 0x0000000182c1987c __terminate_with_payload + 81 libsystem_kernel.dylib 0x0000000182c144f0 abort_with_payload + 02 libsystem_kernel.dylib 0x0000000182c1446c abort_with_payload_wrapper_internal + 03 libobjc.A.dylib 0x000000018267fea4 _objc_fatalv(unsigned long long, unsigned long long, char const*, char*) + 1124 libobjc.A.dylib 0x000000018267fdfc __objc_error + 05 libobjc.A.dylib 0x0000000182693edc weak_entry_insert(weak_table_t*, weak_entry_t*) + 06 libobjc.A.dylib 0x000000018269c3ac objc_storeWeak + 3327 SOHUVideo 0x00000001004b5ba0 -[SharePopView setDelegate:] (SharePopView.h:31)8 SOHUVideo 0x00000001003ce7c8 -[ShareViewController shareView] (ShareViewController.m:70)9 SOHUVideo 0x00000001003ce2a0 -[ShareViewController dealloc] (ShareViewController.m:43)10 UIKit 0x000000018a0a5960 -[UIPresentationController .cxx_destruct] + 31211 libobjc.A.dylib 0x000000018267ef00 object_cxxDestructFromClass(objc_object*, objc_class*) + 14812 libobjc.A.dylib 0x000000018268c334 objc_destructInstance + 9213 libobjc.A.dylib 0x000000018268c398 object_dispose + 2814 UIKit 0x000000018a0a1348 -[UIPresentationController dealloc] + 64 å¦‚æœè¿ç€çº¿ç›´æ¥ debug çš„è¯ï¼Œå¯èƒ½æ§åˆ¶å°åªè¾“å‡ºäº†è¿™æ ·ä¸€å¥è¯ï¼Œå¹¶ä¸”ä»£ç å®šä½åˆ°ä½¿ç”¨ weak self é‚£ä¸€è¡Œï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ bt æ‰“å°å †æ ˆä¿¡æ¯ï¼Œæ‰“å‡ºæ¥è·Ÿä¸Šé¢æ˜¯ä¸€æ ·: 1objc[78013]: Cannot form weak reference to instance (0x7fbc9287e840) of class ShareViewController. It is possible that this object was over-released, or is in the process of deallocation. æ¥ä¸‹æ¥æˆ‘ä»¬ä¸€è¡Œä¸€è¡Œçš„åˆ†æå´©æºƒæ—¥å¿—ï¼Œç„¶åç¡®å®šé—®é¢˜ï¼Œè¿™æ˜¯å‡½æ•°è°ƒç”¨æ ˆï¼Œå› æ­¤å…ˆèµ°çš„æ–¹æ³•åœ¨ä¸‹é¢ï¼Œæœ€ä¸Šé¢çš„æ˜¯æœ€åèµ°çš„æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬å€’ç€æ¥çœ‹ï¼Œä»ç¬¬ 9 è¡Œçœ‹å°±å¥½äº†ï¼š 1234567899 : ShareViewController çš„ dealloc èµ°äº†8 : è®¿é—®äº† ShareViewController å¯¹è±¡çš„å±æ€§ shareView7 : ç»™ shareView è®¾ç½®äº†ä»£ç†å¯¹è±¡6 : çœ‹åº“åçŸ¥é“è¿™æ˜¯èµ°åˆ°äº† objc åº•å±‚äº†ï¼Œçœ‹æ–¹æ³•åçŸ¥é“è¿™ä¸ªæ“ä½œåº”è¯¥æ˜¯è¦å­˜å‚¨ä¸€ä¸ª weak ä¿®é¥°çš„å¯¹è±¡5 : å°† weak entry æ’å…¥åˆ° table é‡Œ4 : é‡åˆ°äº†é”™è¯¯3 : å¤„ç†è‡´å‘½é”™è¯¯2 : ä»£ç ç»§ç»­å¾€ä¸‹èµ°ï¼Œobjc äº¤ç»™äº† system å¤„ç†1 : ç³»ç»Ÿç»ˆç»“äº†ä½ çš„ç¨‹åº åº•å±‚çš„é”™è¯¯è‚¯å®šæ˜¯ä¸Šå±‚è°ƒç”¨é”™è¯¯å¼•èµ·çš„ï¼Œå› æ­¤æˆ‘ä»¬åªçœ‹ App å±‚æœ€åä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œé‚£å°±æ˜¯ [SharePopView setDelegate:]ï¼Œæºç æ˜¯è¿™æ ·å†™çš„: 1234567891011121314151617181920- (void)dealloc &#123; self.shareView.delegate = nil; self.shareView = nil;&#125;- (SharePopView *)shareView &#123; if (!_shareView) &#123; CGFloat height = titleHeight + ShareIconViewHeightForSL * 2 + bottomTitleHeight + cancelButtonHeight; _shareView = [[SharePopView alloc] initWithFrame:CGRectMake(0, DeviceHeight - height, DeviceWidth, height)]; _shareView.delegate = self;///è¿ç€çº¿è°ƒè¯•æ—¶ï¼Œå´©æºƒåå®šä½åˆ°äº†è¿™ä¸€è¡Œï¼ï¼ï¼ &#125; return _shareView;&#125;@interface SharePopView : UIView////è¿™é‡Œä½¿ç”¨çš„æ˜¯ weak ä¿®é¥°çš„@property (nonatomic, weak) id&lt;SharePopupViewDelegate&gt; delegate;@end æˆ‘çœ‹åˆ°è¿™ä¸ªä»£ç çš„ç¬¬ä¸€ååº”æ˜¯ï¼Œdealloc ä¸åº”è¯¥ä½¿ç”¨ self æ‰“ç‚¹è®¿é—®æ‡’åŠ è½½çš„å±æ€§ï¼Œæˆ‘ä¹Ÿç»å¸¸é‡å†™ get æ–¹æ³•æ¥æ‡’åŠ è½½ï¼Œå› æ­¤æˆ‘å¯¹äºè¿™ä¸ªå¾ˆæ•æ„Ÿï¼Œå› ä¸ºå¯¹è±¡æ­£åœ¨é‡Šæ”¾ï¼Œæ²¡æœ‰åˆ›å»ºç›¸å…³å±æ€§çš„å¿…è¦äº†ï¼Œè¿™é‡Œä¹‹æ‰€ä»¥å´©æºƒï¼Œæ˜¯å› ä¸ºåˆ›å»ºå¯¹è±¡ä¹‹åï¼Œç«‹é©¬æŒ‡å®šäº† self ä¸ºä»£ç†ï¼Œå¹¶ä¸”æ˜¯ weak çš„ï¼Œä»å´©æºƒå †æ ˆä¿¡æ¯ä¹Ÿèƒ½çœ‹å‡ºï¼Œè®¾ç½®äº†weakä¿®é¥°çš„ä»£ç†åï¼Œobjc åº•å±‚å¯¹ self è¿›è¡Œäº†å¤„ç†ï¼Œåœ¨å¤„ç†çš„æ—¶å€™ï¼Œå‘ç°ä¸å¯¹åŠ²ï¼Œç„¶åå°± abort äº†ï¼ï¼ ps : ä¸ç®¡æ˜¯ä½¿ç”¨ weak ä¿®é¥°çš„å±æ€§ï¼Œè¿˜æ˜¯ä½¿ç”¨ __weak ä¿®é¥°çš„å˜é‡ï¼Œobjc éƒ½ä¼šå¯¹è¿™ä¸ªå˜é‡å¤„ç†ï¼Œä¹Ÿåªæœ‰è¿™æ ·æ‰èƒ½è®©ä¿®é¥°å¯¹è±¡åœ¨é‡Šæ”¾ä¹‹åï¼Œè‡ªåŠ¨ç½®ç©ºï¼ çœ‹åˆ°æºç é—®é¢˜å°±å¥½è§£å†³äº†ï¼ŒåŠ ä¸ªåˆ¤æ–­å°±è¡Œäº†ï¼Œä¸è¦æ‡’åŠ è½½å»åˆ›å»ºï¼Œè€Œæ˜¯åˆ¤æ–­ä¸‹ï¼Œå¦‚æœåˆ›å»ºè¿‡å°±å°†ä»£ç†ç½®ç©ºï¼Œè¿™æ ·å°±é¿å…äº†åœ¨ dealloc é‡Œä½¿ç”¨ weak ä¿®é¥° self å¯¹è±¡ï¼ 123456- (void)dealloc &#123; if(_shareView)&#123; _shareView.delegate = nil; _shareView = nil; &#125;&#125; é—®é¢˜æ˜¯è§£å†³äº†ï¼Œå¯æ˜¯è¿˜æ²¡ææ˜ç™½åº•å±‚ objc çš„å¤„ç†æµç¨‹å‘¢ï¼Œæœ‰å…´è¶£çš„è¯æ¥ç€å¾€ä¸‹çœ‹å§ï¼šæºç åˆ†æ weak å¯¹è±¡ç½®ç©ºåŸç†.","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"macOS ä¸Šå®‰è£… Jekyll","slug":"2017/06/21-install-jekyll-macos","date":"2017-06-21T13:31:49.000Z","updated":"2018-03-27T14:45:15.695Z","comments":true,"path":"2017/06/21/2017/06/21-install-jekyll-macos.html","link":"","permalink":"http://debugly.cn/2017/06/21/2017/06/21-install-jekyll-macos.html","excerpt":"","text":"æˆ‘çš„ MBP é‡è£…å› macOS Sierra ä¹‹åï¼Œåšå®¢ç³»ç»Ÿä¹Ÿå°±éœ€è¦é‡æ–°æ­å»ºäº†ï¼Œå› æ­¤è¶è¿™ä¸ªæœºä¼šï¼Œé¡ºä¾¿æ•´ç†ä¸‹åœ¨ macOS ä¸Šå®‰è£… Jekyll çš„è¯¦ç»†è¿‡ç¨‹ã€‚ æ£€æŸ¥ Ruby ç‰ˆæœ¬å› ä¸º Jekyll æ˜¯ä½¿ç”¨ Rake ç¼–å†™çš„ï¼Œæ‰€ä»¥æœ€ Ruby ç‰ˆæœ¬æ˜¯æœ‰è¦æ±‚çš„ï¼Œæœ€æ–° 3.5 åˆ™éœ€è¦ Ruby 2.1.0 ä»¥ä¸Šç‰ˆæœ¬æ‰è¡Œï¼ ruby -v 12///æˆ‘åˆšå‡çº§çš„2.2.6ruby 2.2.6p396 (2016-11-15 revision 56800) [x86_64-darwin16] å¦‚æœä½ çš„ç‰ˆæœ¬æ˜¯ 2.1.0 ä¹‹å‰çš„ï¼Œå¯å‚çœ‹æˆ‘çš„è¿™ç¯‡åšå®¢ã€Šä½¿ç”¨ RVM æ›´æ–° Ruby ç‰ˆæœ¬ã€‹ï¼Œå…ˆå‡çº§ä¸‹ Rubyï¼Œå†æ¥å¾€ä¸‹çœ‹ã€‚ æ£€æŸ¥ Command Line Toolså¯ä»¥è¯´è¦æƒ³åœ¨ Mac ä½¿ç”¨ç»ˆç«¯ï¼Œæå¼€å‘ç›¸å…³çš„ä¸œè¥¿ï¼Œä¸è£… Command Line Tools æ˜¯ä¸å¯èƒ½çš„ï¼Œä½¿ç”¨å‘½ä»¤ xcode-select -p æ£€æŸ¥ï¼š 123/Applications/Xcode.app/Contents/Developeræˆ–è€…/Library/Developer/CommandLineTools å¦‚æœçœ‹åˆ°è¿™ä¸¤ä¸ªå…¶ä¸­ä¸€ä¸ªå°±è¡¨ç¤ºå·²ç»å®‰è£…äº†ï¼Œæ— éœ€å†è£…ï¼›å¦‚æœä¸å®‰è£… Command Line Toolsï¼Œå°±ç›´æ¥è£… Jekyll çš„è¯ï¼Œä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š 123456789101112131415161718192021222324252627282930gem install jekyll bundlerPassword:Fetching: public_suffix-2.0.5.gem (100%)Successfully installed public_suffix-2.0.5Fetching: addressable-2.5.1.gem (100%)Successfully installed addressable-2.5.1Fetching: colorator-1.1.0.gem (100%)Successfully installed colorator-1.1.0Fetching: sass-3.4.24.gem (100%)Successfully installed sass-3.4.24Fetching: jekyll-sass-converter-1.5.0.gem (100%)Successfully installed jekyll-sass-converter-1.5.0Fetching: rb-fsevent-0.9.8.gem (100%)Successfully installed rb-fsevent-0.9.8Fetching: ffi-1.9.18.gem (100%)Building native extensions. This could take a while...ERROR: Error installing jekyll: ERROR: Failed to build gem native extension. /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby extconf.rbmkmf.rb can't find header files for ruby at /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/include/ruby.hGem files will remain installed in /Library/Ruby/Gems/2.0.0/gems/ffi-1.9.18 for inspection.Results logged to /Library/Ruby/Gems/2.0.0/gems/ffi-1.9.18/ext/ffi_c/gem_make.outFetching: bundler-1.15.1.gem (100%)Successfully installed bundler-1.15.1Parsing documentation for bundler-1.15.1Installing ri documentation for bundler-1.15.11 gem installed åœ¨ OS X 10.9 ä¹‹åæœ‰ä¸¤ç§æ–¹æ³•å¯é€‰ï¼Œä¸€ç§æ˜¯å®‰è£… Xcodeï¼Œä¸€ç§æ˜¯å•ç‹¬å®‰è£… Command Line Toolsï¼Œè¿™ä¸ªç©æ„ä¹‹å‰æ˜¯æ†ç»‘åœ¨ Xcode é‡Œçš„ï¼ç”±äºæˆ‘æ—¥åéœ€è¦ä½¿ç”¨ Xcode å¼€å‘ï¼Œå› æ­¤æˆ‘é€‰æ‹©å®‰è£… Xcodeï¼Œè®©æˆ‘çº³é—·çš„æ˜¯ï¼Œæˆ‘ç§»åŠ¨ç¡¬ç›˜é‡Œæœ‰ Xcode 7.3.1 çš„å®‰è£…æ–‡ä»¶ï¼Œç›´æ¥å®‰è£…åï¼Œä»æ—§æŠ¥é”™ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354Building native extensions. This could take a while...ERROR: Error installing jekyll: ERROR: Failed to build gem native extension. /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby extconf.rbchecking for ffi.h... *** extconf.rb failed ***Could not create Makefile due to some reason, probably lack of necessarylibraries and/or headers. Check the mkmf.log file for more details. You mayneed configuration options.Provided configuration options: --with-opt-dir --without-opt-dir --with-opt-include --without-opt-include=$&#123;opt-dir&#125;/include --with-opt-lib --without-opt-lib=$&#123;opt-dir&#125;/lib --with-make-prog --without-make-prog --srcdir=. --curdir --ruby=/System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby --with-ffi_c-dir --without-ffi_c-dir --with-ffi_c-include --without-ffi_c-include=$&#123;ffi_c-dir&#125;/include --with-ffi_c-lib --without-ffi_c-lib=$&#123;ffi_c-dir&#125;/ --with-libffi-config --without-libffi-config --with-pkg-config --without-pkg-config/System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:434:in `try_do': The compiler failed to generate an executable file. (RuntimeError)You have to install development tools first. from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:549:in `block in try_compile' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:502:in `with_werror' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:549:in `try_compile' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:1038:in `block in have_header' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:889:in `block in checking_for' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:340:in `block (2 levels) in postpone' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:310:in `open' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:340:in `block in postpone' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:310:in `open' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:336:in `postpone' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:888:in `checking_for' from /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/ruby/2.0.0/mkmf.rb:1037:in `have_header' from extconf.rb:16:in `&lt;main&gt;'Gem files will remain installed in /Library/Ruby/Gems/2.0.0/gems/ffi-1.9.18 for inspection.Results logged to /Library/Ruby/Gems/2.0.0/gems/ffi-1.9.18/ext/ffi_c/gem_make.outSuccessfully installed bundler-1.15.1Parsing documentation for bundler-1.15.11 gem installed ä¸è¿‡è¿™æ¬¡æŠ¥é”™ï¼Œå¯ä»¥æ˜ç¡®æ‰¾åˆ°åŸå› ï¼š(RuntimeError) You have to install development tools first. æ‰€ä»¥æ¥ä¸‹æ¥è€è€å®å®åœ°å»å®‰è£… Command Line Tools å§ï¼ å®‰è£… Command Line Toolsåœ¨ç»ˆç«¯æ‰§è¡Œ xcode-select --install åä¼šå¼¹å‡ºç•Œé¢ï¼š æˆ‘é€‰æ‹©äº†è·å– Xcodeï¼Œç„¶åå°±è‡ªåŠ¨æ‰“å¼€äº† AppStore ï¼Œç„¶åç‚¹å‡»ä¸‹è½½å®‰è£…å°±è¡Œäº†ï¼Œåªä¸è¿‡éœ€è¦ç­‰ä¸ŠäºŒååˆ†é’Ÿäº†å°± OK äº†ï¼ŒXcodeå®‰è£…æˆåŠŸåï¼Œè®°å¾—å¯åŠ¨ä¸‹ï¼Œå› ä¸ºå¯åŠ¨åè¿˜ä¼šåŠ è½½ä¸€äº›ä¸œè¥¿ï¼Œç¡®ä¿ä¸‡æ— ä¸€å¤±ï¼Œæœ€å¥½å¯åŠ¨ä¸‹ï¼Œç„¶ååˆ° Xcdoe -&gt; Perferences -&gt; Locations æŸ¥çœ‹ä¸‹ â€¦ æˆ‘æŸ¥äº†ä¸‹ç½‘ä¸Šä¹Ÿæœ‰äººé‡åˆ°è¿‡ç±»ä¼¼çš„é”™è¯¯ï¼š https://stackoverflow.com/questions/27768420/gem-installation-error-you-have-to-install-development-tools-first https://github.com/ffi/ffi/issues/286 https://kevinpotgieter.wordpress.com/2012/12/06/ruby-gem-install-mkmf-rb-cant-find-header-files-for-ruby-problem/ å®‰è£… Jekyllå¦‚æœä½ çš„ Ruby ç‰ˆæœ¬å°äº 2.1.0 çš„è¯ï¼Œå°±ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯äº†ï¼š 123456789101112131415161718bogon:~ xuqianlong$ sudo gem install jekyll bundlerPassword:Building native extensions. This could take a while...Successfully installed ffi-1.9.18Fetching: rb-inotify-0.9.10.gem (100%)Successfully installed rb-inotify-0.9.10Fetching: listen-3.0.8.gem (100%)Successfully installed listen-3.0.8Fetching: jekyll-watch-1.5.0.gem (100%)Successfully installed jekyll-watch-1.5.0Fetching: kramdown-1.13.2.gem (100%)Successfully installed kramdown-1.13.2Fetching: liquid-4.0.0.gem (100%)ERROR: Error installing jekyll: liquid requires Ruby version &gt;= 2.1.0.Successfully installed bundler-1.15.1Parsing documentation for bundler-1.15.11 gem installed å¦‚æœæ˜¯æŒ‰ç…§ä¸Šè¿°æ­¥éª¤æ¥çš„ï¼Œé‚£ä¹ˆä½ åº”è¯¥èƒ½å¤Ÿæ­£å¸¸çš„å®‰è£…ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182Last login: Tue Jun 20 22:21:06 on ttys000bogon:~ xuqianlong$ gem install jekyll bundlerFetching: public_suffix-2.0.5.gem (100%)Successfully installed public_suffix-2.0.5Fetching: addressable-2.5.1.gem (100%)Successfully installed addressable-2.5.1Fetching: colorator-1.1.0.gem (100%)Successfully installed colorator-1.1.0Fetching: sass-3.4.24.gem (100%)Successfully installed sass-3.4.24Fetching: jekyll-sass-converter-1.5.0.gem (100%)Successfully installed jekyll-sass-converter-1.5.0Fetching: rb-fsevent-0.9.8.gem (100%)Successfully installed rb-fsevent-0.9.8Fetching: ffi-1.9.18.gem (100%)Building native extensions. This could take a while...Successfully installed ffi-1.9.18Fetching: rb-inotify-0.9.10.gem (100%)Successfully installed rb-inotify-0.9.10Fetching: listen-3.0.8.gem (100%)Successfully installed listen-3.0.8Fetching: jekyll-watch-1.5.0.gem (100%)Successfully installed jekyll-watch-1.5.0Fetching: kramdown-1.13.2.gem (100%)Successfully installed kramdown-1.13.2Fetching: liquid-4.0.0.gem (100%)Successfully installed liquid-4.0.0Fetching: mercenary-0.3.6.gem (100%)Successfully installed mercenary-0.3.6Fetching: forwardable-extended-2.6.0.gem (100%)Successfully installed forwardable-extended-2.6.0Fetching: pathutil-0.14.0.gem (100%)Successfully installed pathutil-0.14.0Fetching: rouge-1.11.1.gem (100%)Successfully installed rouge-1.11.1Fetching: safe_yaml-1.0.4.gem (100%)Successfully installed safe_yaml-1.0.4Fetching: jekyll-3.5.0.gem (100%)Successfully installed jekyll-3.5.0Parsing documentation for public_suffix-2.0.5Installing ri documentation for public_suffix-2.0.5Parsing documentation for addressable-2.5.1Installing ri documentation for addressable-2.5.1Parsing documentation for colorator-1.1.0Installing ri documentation for colorator-1.1.0Parsing documentation for sass-3.4.24Installing ri documentation for sass-3.4.24Parsing documentation for jekyll-sass-converter-1.5.0Installing ri documentation for jekyll-sass-converter-1.5.0Parsing documentation for rb-fsevent-0.9.8Installing ri documentation for rb-fsevent-0.9.8Parsing documentation for ffi-1.9.18Installing ri documentation for ffi-1.9.18Parsing documentation for rb-inotify-0.9.10Installing ri documentation for rb-inotify-0.9.10Parsing documentation for listen-3.0.8Installing ri documentation for listen-3.0.8Parsing documentation for jekyll-watch-1.5.0Installing ri documentation for jekyll-watch-1.5.0Parsing documentation for kramdown-1.13.2Installing ri documentation for kramdown-1.13.2Parsing documentation for liquid-4.0.0Installing ri documentation for liquid-4.0.0Parsing documentation for mercenary-0.3.6Installing ri documentation for mercenary-0.3.6Parsing documentation for forwardable-extended-2.6.0Installing ri documentation for forwardable-extended-2.6.0Parsing documentation for pathutil-0.14.0Installing ri documentation for pathutil-0.14.0Parsing documentation for rouge-1.11.1Installing ri documentation for rouge-1.11.1Parsing documentation for safe_yaml-1.0.4Installing ri documentation for safe_yaml-1.0.4Parsing documentation for jekyll-3.5.0Installing ri documentation for jekyll-3.5.0Done installing documentation for public_suffix, addressable, colorator, sass, jekyll-sass-converter, rb-fsevent, ffi, rb-inotify, listen, jekyll-watch, kramdown, liquid, mercenary, forwardable-extended, pathutil, rouge, safe_yaml, jekyll after 30 secondsFetching: bundler-1.15.1.gem (100%)Successfully installed bundler-1.15.1Parsing documentation for bundler-1.15.1Installing ri documentation for bundler-1.15.1Done installing documentation for bundler after 5 seconds19 gems installed æ£€æŸ¥ Jekyll æ˜¯å¦å®‰è£…æˆåŠŸjekyll -v ç»ˆç«¯ä¼šè¾“å‡ºç‰ˆæœ¬å·ï¼šjekyll 3.5.0ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥åˆ›å»ºè‡ªå·±çš„åšå®¢ç«™ç‚¹äº†ï¼ 123jekyll new my-awesome-site~ $ cd my-awesome-site~/my-awesome-site $ bundle exec jekyll serve è¿™äº›æ“ä½œæˆ‘å¼€äº† VPNï¼Œå¦‚æœä¸å¼€çš„è¯ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸èƒ½å®‰è£…æŸäº›gemçš„é—®é¢˜ï¼Œè¿™ä¸ªéœ€è¦æ¢ä¸‹ RubyGems æºï¼Œå…·ä½“å¯æŸ¥çœ‹æ·˜å®çš„æº https://ruby.taobao.org/ Good Luck â€¦","categories":[],"tags":[{"name":"Script","slug":"Script","permalink":"http://debugly.cn/tags/Script/"},{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"ä½¿ç”¨ RVM æ›´æ–° Ruby ç‰ˆæœ¬","slug":"2017/06/20-update-ruby-use-rvm","date":"2017-06-20T14:31:19.000Z","updated":"2018-03-27T14:45:15.694Z","comments":true,"path":"2017/06/20/2017/06/20-update-ruby-use-rvm.html","link":"","permalink":"http://debugly.cn/2017/06/20/2017/06/20-update-ruby-use-rvm.html","excerpt":"","text":"æˆ‘çš„ MBP é‡è£…å› macOS Sierra ä¹‹åï¼Œç³»ç»Ÿè‡ªå¸¦çš„ Ruby ç¯å¢ƒä¸º ruby 2.0.0p648 (2015-12-16 revision 53162)ï¼Œæˆ‘è¦å®‰è£… Jekyllï¼Œå…¶ä¸­ä¸€ä¸ª gem å¯¹ Ruby ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œå¿…é¡»æ˜¯ 2.1.0 ä»¥åç‰ˆæœ¬æ‰è¡Œï¼ï¼ˆliquid requires Ruby version &gt;= 2.1.0.ï¼‰æˆ‘é€‰æ‹©äº† RVM ç®¡ç† Ruby ç‰ˆæœ¬ã€‚ å®‰è£… RVMç®€å•ç†è§£ä¸‹ï¼šRVM ç®¡ç† Ruby ç‰ˆæœ¬çš„å·¥å…·ï¼Œå…·ä½“ Ruby ç‰ˆæœ¬é€šè¿‡ homebrew å»ä¸‹è½½è·å–ã€‚æ¥ä¸‹æ¥å®‰è£… RVMï¼š \\curl -sSL https://get.rvm.io | bash -s stable å®‰è£…è¿‡ç¨‹ï¼š 123456789101112131415161718192021Downloading https://github.com/rvm/rvm/archive/1.29.1.tar.gzDownloading https://github.com/rvm/rvm/releases/download/1.29.1/1.29.1.tar.gz.ascFound PGP signature at: 'https://github.com/rvm/rvm/releases/download/1.29.1/1.29.1.tar.gz.asc',but no GPG software exists to validate it, skipping.Installing RVM to /Users/xuqianlong/.rvm/ Adding rvm PATH line to /Users/xuqianlong/.profile /Users/xuqianlong/.mkshrc /Users/xuqianlong/.bashrc /Users/xuqianlong/.zshrc. Adding rvm loading line to /Users/xuqianlong/.profile /Users/xuqianlong/.bash_profile /Users/xuqianlong/.zlogin.Installation of RVM in /Users/xuqianlong/.rvm/ is almost complete: * To start using RVM you need to run `source /Users/xuqianlong/.rvm/scripts/rvm` in all your open shell windows, in rare cases you need to reopen all shell windows.# xuqianlong,## Thank you for using RVM!# We sincerely hope that RVM helps to make your life easier and more enjoyable!!!## ~Wayne, Michal &amp; team.In case of problems: https://rvm.io/help and https://twitter.com/rvm_io æ›´æ–° Rubyå®‰è£…å¥½ RVM ä¹‹åï¼Œpath è¿˜æ²¡æœ‰ç”Ÿæ•ˆï¼Œå› æ­¤ç›´æ¥æ‰§è¡Œï¼š rvm list known å¯èƒ½ä¼šæŠ¥é”™ï¼š -bash: rvm: command not found è¿™æ—¶é‡æ–°å¼€ä¸ªæ–°çš„ç»ˆç«¯çª—å£å³å¯ï¼›è¿™æ¬¡æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960bogon:~ xuqianlong$ rvm list known# MRI Rubies[ruby-]1.8.6[-p420][ruby-]1.8.7[-head] # security released on head[ruby-]1.9.1[-p431][ruby-]1.9.2[-p330][ruby-]1.9.3[-p551][ruby-]2.0.0[-p648][ruby-]2.1[.10][ruby-]2.2[.6][ruby-]2.3[.3][ruby-]2.4[.0]ruby-head# for forks use: rvm install ruby-head-&lt;name&gt; --url https://github.com/github/ruby.git --branch 2.2# JRubyjruby-1.6[.8]jruby-1.7[.26]jruby[-9.1.7.0]jruby-head# Rubiniusrbx-1[.4.3]rbx-2.3[.0]rbx-2.4[.1]rbx-2[.5.8]rbx[-3.71]rbx-head# Opalopal# Minimalistic ruby implementation - ISO 30170:2012mruby-1.0.0mruby-1.1.0mruby-1[.2.0]mruby[-head]# Ruby Enterprise Editionree-1.8.6ree[-1.8.7][-2012.02]# Topaztopaz# MagLevmaglev[-head]maglev-1.0.0# Mac OS X Snow Leopard Or Newermacruby-0.10macruby-0.11macruby[-0.12]macruby-nightlymacruby-head# IronRubyironruby[-1.1.3]ironruby-head æˆ‘ä¸æƒ³å®‰è£…é‚£ä¹ˆæ–°çš„ç‰ˆæœ¬ï¼Œæ—¥åä¹Ÿè¦å®‰è£… CocoPodsï¼Œä»–çš„æœ€ä½è¦æ±‚ç‰ˆæœ¬æ˜¯ 2.2ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©å®‰è£… 2.2.6 ç‰ˆæœ¬: bogon:~ xuqianlong$ rvm install ruby-2.2.6 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161Searching for binary rubies, this might take some time.No binary rubies available for: osx/10.12/x86_64/ruby-2.2.6.Continuing with compilation. Please read 'rvm help mount' to get more information on binary rubies.Checking requirements for osx.About to install Homebrew, press `Enter` for default installation in `/usr/local`,type new path if you wish custom Homebrew installation (the path needs to be writable for user):==&gt; This script will install:/usr/local/bin/brew/usr/local/share/doc/homebrew/usr/local/share/man/man1/brew.1/usr/local/share/zsh/site-functions/_brew/usr/local/etc/bash_completion.d/brew/usr/local/Homebrew==&gt; The following existing directories will be made group writable:/usr/local/bin==&gt; The following existing directories will have their owner set to xuqianlong:/usr/local/bin==&gt; The following existing directories will have their group set to admin:/usr/local/bin==&gt; The following new directories will be created:/usr/local/Cellar/usr/local/Homebrew/usr/local/Frameworks/usr/local/etc/usr/local/include/usr/local/lib/usr/local/opt/usr/local/sbin/usr/local/share/usr/local/share/zsh/usr/local/share/zsh/site-functions/usr/local/varPress RETURN to continue or any other key to abort==&gt; /usr/bin/sudo /bin/chmod u+rwx /usr/local/binPassword:==&gt; /usr/bin/sudo /bin/chmod g+rwx /usr/local/bin==&gt; /usr/bin/sudo /usr/sbin/chown xuqianlong /usr/local/bin==&gt; /usr/bin/sudo /usr/bin/chgrp admin /usr/local/bin==&gt; /usr/bin/sudo /bin/mkdir -p /usr/local/Cellar /usr/local/Homebrew /usr/local/Frameworks /usr/local/etc /usr/local/include /usr/local/lib /usr/local/opt /usr/local/sbin /usr/local/share /usr/local/share/zsh /usr/local/share/zsh/site-functions /usr/local/var==&gt; /usr/bin/sudo /bin/chmod g+rwx /usr/local/Cellar /usr/local/Homebrew /usr/local/Frameworks /usr/local/etc /usr/local/include /usr/local/lib /usr/local/opt /usr/local/sbin /usr/local/share /usr/local/share/zsh /usr/local/share/zsh/site-functions /usr/local/var==&gt; /usr/bin/sudo /bin/chmod 755 /usr/local/share/zsh /usr/local/share/zsh/site-functions==&gt; /usr/bin/sudo /usr/sbin/chown xuqianlong /usr/local/Cellar /usr/local/Homebrew /usr/local/Frameworks /usr/local/etc /usr/local/include /usr/local/lib /usr/local/opt /usr/local/sbin /usr/local/share /usr/local/share/zsh /usr/local/share/zsh/site-functions /usr/local/var==&gt; /usr/bin/sudo /usr/bin/chgrp admin /usr/local/Cellar /usr/local/Homebrew /usr/local/Frameworks /usr/local/etc /usr/local/include /usr/local/lib /usr/local/opt /usr/local/sbin /usr/local/share /usr/local/share/zsh /usr/local/share/zsh/site-functions /usr/local/var==&gt; /usr/bin/sudo /bin/mkdir -p /Users/xuqianlong/Library/Caches/Homebrew==&gt; /usr/bin/sudo /bin/chmod g+rwx /Users/xuqianlong/Library/Caches/Homebrew==&gt; /usr/bin/sudo /usr/sbin/chown xuqianlong /Users/xuqianlong/Library/Caches/Homebrew==&gt; /usr/bin/sudo /bin/mkdir -p /Library/Caches/Homebrew==&gt; /usr/bin/sudo /bin/chmod g+rwx /Library/Caches/Homebrew==&gt; /usr/bin/sudo /usr/sbin/chown xuqianlong /Library/Caches/Homebrew==&gt; Downloading and installing Homebrew...remote: Counting objects: 6463, done.remote: Compressing objects: 100% (3911/3911), done.remote: Total 6463 (delta 3738), reused 4283 (delta 2347), pack-reused 0Receiving objects: 100% (6463/6463), 3.58 MiB | 231.00 KiB/s, done.Resolving deltas: 100% (3738/3738), done.From https://github.com/Homebrew/brew * [new branch] master -&gt; origin/master * [new tag] 0.1 -&gt; 0.1 * [new tag] 0.2 -&gt; 0.2 * [new tag] 0.3 -&gt; 0.3 * [new tag] 0.4 -&gt; 0.4 * [new tag] 0.5 -&gt; 0.5 * [new tag] 0.6 -&gt; 0.6 * [new tag] 0.7 -&gt; 0.7 * [new tag] 0.7.1 -&gt; 0.7.1 * [new tag] 0.8 -&gt; 0.8 * [new tag] 0.8.1 -&gt; 0.8.1 * [new tag] 0.9 -&gt; 0.9 * [new tag] 0.9.1 -&gt; 0.9.1 * [new tag] 0.9.2 -&gt; 0.9.2 * [new tag] 0.9.3 -&gt; 0.9.3 * [new tag] 0.9.4 -&gt; 0.9.4 * [new tag] 0.9.5 -&gt; 0.9.5 * [new tag] 0.9.8 -&gt; 0.9.8 * [new tag] 0.9.9 -&gt; 0.9.9 * [new tag] 1.0.0 -&gt; 1.0.0 * [new tag] 1.0.1 -&gt; 1.0.1 * [new tag] 1.0.2 -&gt; 1.0.2 * [new tag] 1.0.3 -&gt; 1.0.3 * [new tag] 1.0.4 -&gt; 1.0.4 * [new tag] 1.0.5 -&gt; 1.0.5 * [new tag] 1.0.6 -&gt; 1.0.6 * [new tag] 1.0.7 -&gt; 1.0.7 * [new tag] 1.0.8 -&gt; 1.0.8 * [new tag] 1.0.9 -&gt; 1.0.9 * [new tag] 1.1.0 -&gt; 1.1.0 * [new tag] 1.1.1 -&gt; 1.1.1 * [new tag] 1.1.10 -&gt; 1.1.10 * [new tag] 1.1.11 -&gt; 1.1.11 * [new tag] 1.1.12 -&gt; 1.1.12 * [new tag] 1.1.13 -&gt; 1.1.13 * [new tag] 1.1.2 -&gt; 1.1.2 * [new tag] 1.1.3 -&gt; 1.1.3 * [new tag] 1.1.4 -&gt; 1.1.4 * [new tag] 1.1.5 -&gt; 1.1.5 * [new tag] 1.1.6 -&gt; 1.1.6 * [new tag] 1.1.7 -&gt; 1.1.7 * [new tag] 1.1.8 -&gt; 1.1.8 * [new tag] 1.1.9 -&gt; 1.1.9 * [new tag] 1.2.0 -&gt; 1.2.0 * [new tag] 1.2.1 -&gt; 1.2.1 * [new tag] 1.2.2 -&gt; 1.2.2 * [new tag] 1.2.3 -&gt; 1.2.3HEAD is now at 80ce43d Merge pull request #2776 from GauthamGoli/audit_checksum_rubocop_fix==&gt; Tapping homebrew/coreCloning into '/usr/local/Homebrew/Library/Taps/homebrew/homebrew-core'...remote: Counting objects: 4444, done.remote: Compressing objects: 100% (4245/4245), done.remote: Total 4444 (delta 35), reused 463 (delta 13), pack-reused 0Receiving objects: 100% (4444/4444), 3.53 MiB | 93.00 KiB/s, done.Resolving deltas: 100% (35/35), done.Tapped 4243 formulae (4,487 files, 11MB)==&gt; Cleaning up /Library/Caches/Homebrew...==&gt; Migrating /Library/Caches/Homebrew to /Users/xuqianlong/Library/Caches/Homeb==&gt; Deleting /Library/Caches/Homebrew...Already up-to-date.==&gt; Installation successful!==&gt; Homebrew has enabled anonymous aggregate user behaviour analytics.Read the analytics documentation (and how to opt-out) here: http://docs.brew.sh/Analytics.html==&gt; Next steps:- Run `brew help` to get started- Further documentation: http://docs.brew.shInstalling requirements for osx.Updating system.........Installing required packages: autoconf, automake, libtool, pkg-config, coreutils, libyaml, readline, libksba, openssl..........Certificates in '/usr/local/etc/openssl/cert.pem' are already up to date.Requirements installation successful.Installing Ruby from source to: /Users/xuqianlong/.rvm/rubies/ruby-2.2.6, this may take a while depending on your cpu(s)...ruby-2.2.6 - #downloading ruby-2.2.6, this may take a while depending on your connection... % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 12.7M 100 12.7M 0 0 4958k 0 0:00:02 0:00:02 --:--:-- 4958kruby-2.2.6 - #extracting ruby-2.2.6 to /Users/xuqianlong/.rvm/src/ruby-2.2.6...-ruby-2.2.6 - #configuring......................................................-ruby-2.2.6 - #post-configuration.ruby-2.2.6 - #compiling........................................................-ruby-2.2.6 - #installing..........ruby-2.2.6 - #making binaries executable..ruby-2.2.6 - #downloading rubygems-2.6.12 % Total % Received % Xferd Average Speed Time Time Time Current Dload Upload Total Spent Left Speed100 749k 100 749k 0 0 858k 0 --:--:-- --:--:-- --:--:-- 858kNo checksum for downloaded archive, recording checksum in user configuration.ruby-2.2.6 - #extracting rubygems-2.6.12....ruby-2.2.6 - #removing old rubygems.........ruby-2.2.6 - #installing rubygems-2.6.12.........................ruby-2.2.6 - #gemset created /Users/xuqianlong/.rvm/gems/ruby-2.2.6@globalruby-2.2.6 - #importing gemset /Users/xuqianlong/.rvm/gemsets/global.gems......|ruby-2.2.6 - #generating global wrappers........ruby-2.2.6 - #gemset created /Users/xuqianlong/.rvm/gems/ruby-2.2.6ruby-2.2.6 - #importing gemsetfile /Users/xuqianlong/.rvm/gemsets/default.gems evaluated to empty gem listruby-2.2.6 - #generating default wrappers........ruby-2.2.6 - #adjusting #shebangs for (gem irb erb ri rdoc testrb rake).Install of ruby-2.2.6 - #completeRuby was built without documentation, to build it run: rvm docs generate-ri æŸ¥çœ‹ç‰ˆæœ¬ï¼š 12bogon:~ xuqianlong$ ruby -vruby 2.2.6p396 (2016-11-15 revision 56800) Ruby ç‰ˆæœ¬å·²ç»æˆåŠŸå‡çº§ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å®‰è£… Jekyll, CocoPods è¿™äº›åº“äº†ã€‚ å¯èƒ½å‡ºç°çš„é”™è¯¯1ã€åœ¨æ‰§è¡Œ rvm install ruby-2.2.6 çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‡ºé”™ï¼Œæ¯”å¦‚è¿™ä¸ª: 123456789101112131415161718192021222324Searching for binary rubies, this might take some time.No binary rubies available for: osx/10.12/x86_64/ruby-2.2.6.Continuing with compilation. Please read &apos;rvm help mount&apos; to get more information on binary rubies.Checking requirements for osx.Installing requirements for osx.Updating system...........Error running &apos;requirements_osx_brew_update_system ruby-2.2.6&apos;,showing last 15 lines of /Users/qianlongxu/.rvm/log/1503014778_ruby-2.2.6/update_system.log https://github.com/Homebrew/homebrew/wiki/Common-Issuesand make sure `brew update` works before continuing.&apos;++ rvm_pretty_print stderr++ case &quot;$&#123;rvm_pretty_print_flag:=auto&#125;&quot; in++ case &quot;$&#123;TERM:-dumb&#125;&quot; in++ case &quot;$1&quot; in++ [[ -t 2 ]]++ return 1++ printf %b &apos;Failed to update Homebrew, follow instructions here: https://github.com/Homebrew/homebrew/wiki/Common-Issuesand make sure `brew update` works before continuing.\\n&apos;Failed to update Homebrew, follow instructions here: https://github.com/Homebrew/homebrew/wiki/Common-Issuesand make sure `brew update` works before continuing.++ return 1Requirements installation failed with status: 1. å‘ç”Ÿè¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯: Failed to update Homebrew !äºæ˜¯æˆ‘å°±å°è¯•æ‰§è¡Œ: brew update 123Error: /usr/local is not writable. You should change the ownershipand permissions of /usr/local back to your user account: sudo chown -R $(whoami) /usr/local è¿™ä¸ªé—®é¢˜æ˜¯è€ç‰ˆæœ¬çš„ Homwbrew éœ€è¦ /usr/local ç›®å½•çš„ ownershipï¼Œå› æ­¤æ‰§è¡Œä¸‹ sudo chown -R $(whoami) /usr/local å°±å¯ä»¥ç»§ç»­äº†ï¼› brew æ›´æ–°å®Œæ¯•åæœ‰è¿™æ ·ä¸€ä¸ªæç¤º: 12345==&gt; Migrating HOMEBREW_REPOSITORY (please wait)...==&gt; Migrated HOMEBREW_REPOSITORY to /usr/local/Homebrew!Homebrew no longer needs to have ownership of /usr/local. If you wish you canreturn /usr/local to its default ownership with: sudo chown root:wheel /usr/local äºæ˜¯æ›´æ–°å®Œæ¯•åï¼Œæˆ‘åˆæŠŠæƒé™ä¿®æ”¹å›å»äº†ï¼šsudo chown root:wheel /usr/local. 2ã€å®‰è£…æˆåŠŸåï¼ŒæŸ¥çœ‹ ruby ç‰ˆæœ¬è¿˜æ˜¯ç³»ç»Ÿè‡ªåŠ¨çš„ 2.0.0ï¼Œä½¿ç”¨rvmçœ‹çš„è¯ï¼Œç¡®å®å·²ç»å®‰è£…äº†ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ 1234567891011qianlongxu:~ qianlongxu$ ruby -vruby 2.0.0p648 (2015-12-16 revision 53162) [universal.x86_64-darwin16]qianlongxu:~ qianlongxu$ rvm listrvm rubies=* ruby-2.2.6 [ x86_64 ]# =&gt; - current# =* - current &amp;&amp; default# * - default rvm å¯ä»¥åˆ‡æ¢ ruby ç‰ˆæœ¬çš„ï¼Œä½¿ç”¨ rvm useï¼Œåªè¦æ˜¯ rvm list åˆ—å‡ºæ¥çš„ï¼Œéƒ½å¯ä»¥åˆ‡æ¢ï¼Œåˆ‡æ¢æ—¶ç›´æ¥è·Ÿä¸Šç‰ˆæœ¬å·å°±è¡Œäº†ï¼š 123456789101112131415qianlongxu:~ qianlongxu$ rvm use 2.2.6RVM is not a function, selecting rubies with &apos;rvm use ...&apos; will not work.You need to change your terminal emulator preferences to allow login shell.Sometimes it is required to use `/bin/bash --login` as the command.Please visit https://rvm.io/integration/gnome-terminal/ for an example.qianlongxu:~ qianlongxu$ rvm use &apos;2.2.6&apos;RVM is not a function, selecting rubies with &apos;rvm use ...&apos; will not work.You need to change your terminal emulator preferences to allow login shell.Sometimes it is required to use `/bin/bash --login` as the command.Please visit https://rvm.io/integration/gnome-terminal/ for an example. å†æ¬¡é‡åˆ°é—®é¢˜ï¼Œrvm use ä¸æ˜¯ä¸ªå‘½ä»¤ï¼ä¸è¦æ€¥ç»§ç»­å¾€ä¸‹çœ‹ï¼Œé—®é¢˜æ˜¯ç”±äº shell çš„æ‰§è¡Œç¯å¢ƒä¸å¯¹ï¼Œä¿®æ”¹ä¸‹ç™»å½•shellå³å¯ï¼š 12345qianlongxu:~ qianlongxu$ /bin/bash --loginqianlongxu:~ qianlongxu$ rvm use 2.2.6Using /Users/qianlongxu/.rvm/gems/ruby-2.2.6qianlongxu:~ qianlongxu$ ruby -vruby 2.2.6p396 (2016-11-15 revision 56800) [x86_64-darwin16] 3ã€å¦‚æœä½ é‡åˆ°äº†ç¬¬äºŒä¸ªé—®é¢˜çš„è¯ï¼Œä½ å¯èƒ½ä¼šå‘ç°ï¼Œå…³é—­ç»ˆç«¯åå†æ¬¡æ‰“å¼€ï¼Œrubyçš„ç‰ˆæœ¬åˆå˜æˆç³»ç»Ÿçš„2.0.0äº†ï¼ åŸå› å¯èƒ½æ˜¯ï¼Œä½ åœ¨è®¾ç½®-ç”¨æˆ·ä¸ç¾¤ç»„-é«˜çº§é€‰é¡¹é‡Œ-ç™»å½•shellé‡Œè®¾ç½®äº†å…¶ä»–shellå¯¼è‡´çš„ï¼Œæ”¹ä¸º /bin/bash å³å¯ã€‚ ä»¥ä¸Šé—®é¢˜æ˜¯æˆ‘åˆ‡æ¢ Mac ç”¨æˆ·åä¹‹åå¯¼è‡´çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åº”è¯¥ä¸ä¼šé‡åˆ°çš„ã€‚ å‚è€ƒé“¾æ¥ How to update Ruby Version 2.0.0 to the latest version in Mac OSX Yosemite https://ruby-china.org/wiki/rvm-guide http://rvm.io/rubies/default https://stackoverflow.com/questions/23963018/rvm-is-not-a-function-selecting-rubies-with-rvm-use-will-not-work","categories":[],"tags":[{"name":"Script","slug":"Script","permalink":"http://debugly.cn/tags/Script/"}]},{"title":"ä½¿ç”¨ U ç›˜å®‰è£… macOS Sierra","slug":"2017/06/19-install-sierra","date":"2017-06-19T08:57:32.000Z","updated":"2018-03-27T14:45:15.694Z","comments":true,"path":"2017/06/19/2017/06/19-install-sierra.html","link":"","permalink":"http://debugly.cn/2017/06/19/2017/06/19-install-sierra.html","excerpt":"","text":"ç”±äº Mac æ— æ³•è¿›å…¥ç³»ç»Ÿï¼Œå·²ç»åˆ†æå‡ºäº†åŸå›  â€” ç£ç›˜çˆ†æ»¡çš„ç¼˜æ•…ï¼Œå› æ­¤å°±æƒ³é€šè¿‡è¿›å…¥ PE çš„æ–¹å¼ï¼Œåˆ é™¤æ‰æ— ç”¨çš„æ–‡ä»¶ï¼Œè¿™æ ·ç†è®ºä¸Šå°±åº”è¯¥èƒ½å¤Ÿé¡ºåˆ©è¿›å…¥ç³»ç»Ÿäº†ï¼ åˆ»ç›˜è¿› PEåœ¨å¤§å­¦æ—¶æœŸæ›¾ç”¨ PE è£…è¿‡ Windowsï¼Œåªä¸è¿‡å‡ å¹´ä¸å¼„è¿‡äº†ï¼Œäºæ˜¯å°±å»ç½‘ä¸Šä¸‹äº† å¤§ç™½èœ PEï¼Œç„¶ååˆ»æˆå¯åŠ¨ç›˜ï¼Œç„¶åå¼€å§‹è¿›å…¥ PE å•¦ï¼åœ¨ Window ä¸Šè¿› PE è¦æŒ‰ä¸‹ deleteï¼Œç„¶åé€‰æ‹©ä» U ç›˜å¯åŠ¨ï¼Œè€Œ macOS åˆ™æ˜¯å¼€æœºæ—¶æŒ‰ä¸‹ Option é”®ï¼Œç„¶åå°±ä¼šå‡ºç°é€‰æ‹©å¯åŠ¨ç›˜ : å¼€æœºå‰æ’ä¸Š U ç›˜ æŒ‰ä½ Option å¼€æœº PE æ˜¯ Win8 ç³»ç»Ÿ å¯æƒœè¿›å…¥åæ— æ³•è¯†åˆ«è‹¹æœåˆ†åŒº å®‰è£…è¯†åˆ«è‹¹æœåˆ†åŒºè½¯ä»¶ ç„¶å¹¶åµï¼Œé«˜ç‰ˆæœ¬çš„ç³»ç»Ÿéƒ½æ˜¯é€»è¾‘åˆ†åŒºï¼Œæ‰€ä»¥æ— æ³•è¯†åˆ«ï¼ï¼ Mac PEç½‘ä¸Šç»§ç»­æœå¯»äº†ä¸€ç•ªï¼Œå‘ç°è¿˜æœ‰ä¸ªåŠæ³•å¯è¡Œï¼Œé‚£å°±æ˜¯æä¸ª Mac PE æ¥è¯†åˆ«è‹¹æœåˆ†åŒºï¼Œå› ä¸º Mac PE æ˜¯ä½¿ç”¨ macOS åšå‡ºæ¥çš„ï¼Œæ‰€ä»¥å¤©ç„¶æ€§çš„å°±å…·å¤‡è¯†åˆ«è‹¹æœåˆ†åŒºçš„èƒ½åŠ›äº†ï¼å•¥ä¹Ÿä¸è¯´äº†ï¼Œå¼€å§‹è£… Mac PE äº†: é¦–å…ˆä¸‹è½½é•œåƒæ–‡ä»¶ï¼Œgoogle æ‰èƒ½æ‰¾åˆ°å®˜ç½‘ï¼Œç™¾åº¦æ ¹æœ¬æ‰¾ä¸åˆ°ï¼Œå”‰ï¼Œä¸è¯´äº†ï¼Œå»ä¸‹è½½å§: FireWolf OS X PE V7.0 Download Center Mac ä¸Šä½¿ç”¨ç£ç›˜å·¥å…·æ¢å¤åˆ° U ç›˜å°±è¡Œäº†ï¼åŒæ ·çš„å¼€æœºæŒ‰ä½ Option é€‰æ‹© FireWolf ç›˜ç¬¦å°±è¡Œäº†ï¼Œå½“æ—¶æ²¡æ‹ç…§ï¼Œç›´æ¥çœ‹ä¸‹è¿›å»åçš„æƒ…å†µå§ : å¯åŠ¨åæˆ‘ä¹Ÿå‚»çœ¼äº†ï¼Œå¦ˆçš„ç£ç›˜æ˜¯åŠ å¯†çš„ï¼Œè™½ç„¶è¯†åˆ«äº†ï¼Œä½†éƒ½æ˜¯åŠ å¯†çš„æ–‡ä»¶ï¼Œå¤‡ä»½äº†ä¹Ÿæ²¡å•¥ç”¨ã€‚æ–°äºæˆ‘æ‘¸ç´¢åˆ°äº†æ–¹æ³•ï¼Œæ‰¾åˆ°ç£ç›˜å®ç”¨å·¥å…·ï¼Œé€‰æ‹© ä» Time Machine æ¢å¤ ä¸€æ­¥æ­¥å¾€ä¸‹èµ°å°±è¡Œäº†ï¼Œèµ°ç€èµ°ç€ä¼šæç¤ºè¾“å…¥å¯†ç ï¼Œå› ä¸ºè§£å¯†ç£ç›˜éœ€è¦æƒé™ï¼Œè§£å¯†åä¼šå»æœç´¢å¤‡ä»½ï¼Œç»“æœå½“ç„¶æœä¸å‡ºæ¥äº†ï¼Œä¸è¿‡è¿™æ—¶æ–‡ä»¶å·²ç»å…¨éƒ¨è§£å¯†äº†ï¼çœ‹åé¢çš„æ–‡ä»¶å¤¹åå­— : xuqianlong è¿™ä¸‹ä»¥ä¸ºæ€»ç®—å¯ä»¥äº†å‘¢ï¼Œå”‰ï¼Œfuck äº†ï¼Œæ–‡ä»¶æ˜¯åªè¯»çš„ï¼Œä¸èƒ½åˆ é™¤ï¼ï¼ï¼å¥½å§ï¼Œèƒ½è§£å¯†å°±è°¢å¤©è°¢åœ°äº†ï¼Œæˆ‘ç”¨ç§»åŠ¨ç¡¬ç›˜copyä¸‹èµ„æ–™å§ï¼èµ„æ–™å¤‡ä»½åæˆ‘å°±æ”¾å¿ƒäº†ï¼Œå®ç°æ˜¯æ²¡åˆ«çš„åŠæ³•äº†ï¼Œæˆ‘é€‰æ‹©äº†é‡åšç³»ç»Ÿï¼ åˆ»ç›˜è£… Mac ç³»ç»Ÿè‹¥æ˜¯åˆ»å½•ä¸€ä¸ª Windows çš„å¯åŠ¨ç›˜å¾ˆç®€å•ï¼Œå¾ˆå®¹æ˜“å°±èƒ½ä¸‹åˆ° ios é•œåƒæ–‡ä»¶ï¼Œå¯æ˜¯ç”±äºè‹¹æœå®˜æ–¹ç°åœ¨åªæä¾›äº† macOS Sierra çš„å‡çº§ç¨‹åºï¼Œè€Œæ²¡æä¾›å®Œæ•´çš„é•œåƒï¼Œæƒ³è¦å…¨æ–°å®‰è£…çš„è¯ï¼Œåªèƒ½è‡ªå·±å»åˆ¶ä½œä¸€ä¸ª macOS Sierra çš„ U ç›˜å¯åŠ¨ç›˜/å®‰è£…ç›˜äº†ã€‚æ²¡æœ‰åˆ«çš„åŠæ³•å…ˆä¸‹è½½å®‰è£…å™¨å§ï¼Œç„¶åå†æƒ³åŠæ³•æ¢å¤åˆ° U ç›˜ï¼Œè¿™æ˜¯ macOS Sierra ä¸‹è½½åœ°å€ï¼Œæ‰“å¼€ AppStore ä¸‹è½½å³å¯ å…± 4.96GBï¼Œç½‘é€Ÿæ…¢çš„è¯ï¼Œéœ€è¦ç­‰ä¸€é˜µå­äº†ï¼Œä¸‹è½½å®Œæ¯•åï¼Œä½ ä¼šå‘ç° Launchpad å¤šå‡ºä¸€ä¸ª å®‰è£… macOS Sierraã€‚ ç„¶åæ’ä¸Š U ç›˜ï¼Œæœ€å¥½æ˜¯ 3.0 çš„ï¼Œè¿™æ ·ä¼šå¿«äº›ï¼Œæ‰“å¼€ç£ç›˜å·¥å…·ï¼Œå°†å…¶æŠ¹æ‰ï¼Œæ ¼å¼åŒ–ä¸º Mac OS æ‰©å±• ï¼ˆæ—¥å¿—å¼ï¼‰ ï¼Œå‘½åä¸º Sierraï¼Œç„¶åæ‰“å¼€ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ : 1sudo /Applications/Install\\ macOS\\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/Sierra --application /Applications/Install\\ macOS\\ Sierra.app --nointeraction å‰é¢æ˜¯å®‰è£…å™¨æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œé€šè¿‡ volume å‚æ•°æŒ‡å®šå®‰è£…è·¯å¾„ï¼Œè¿™é‡ŒæŒ‡å®š U ç›˜ : /Volumes/Sierraï¼Œé€šè¿‡ application å‚æ•°æŒ‡å®šå®‰è£…ç¨‹åºï¼Œåœ¨è¾“å…¥ä»¥ä¸Šå‘½ä»¤åï¼Œæ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ : 1234567Erasing Disk: 0%... 10%... 20%... 30%...100%...Copying installer files to disk... //è¿™ä¸€æ­¥ä¼šæ‰§è¡Œå¥½é•¿æ—¶é—´Copy complete.Making disk bootable...Copying boot files...Copy complete.Done. çœ‹åˆ° Done ä¹‹åï¼Œå°±å¯ä»¥äº†ï¼Œä½ ä¼šå‘ç° U ç›˜åç§°å˜ä¸ºäº† Install macOS Sierraï¼Œç§ç§è¿¹è±¡è¡¨æ˜ U ç›˜åˆ»å½•æˆåŠŸäº†ï¼Œå¯ä»¥å»è£…æœºäº†ï¼ŒæŒ‰ä½ Option å¼€æœºå§ : å“‡å’”å’”ï¼Œé€‰æ‹©ä» Install macOS Sierra å¯åŠ¨ï¼ ç­‰å¾…è¿™ä¸ªè¿›åº¦æ¡èµ°å®Œ å¥½ä¸æ¿€åŠ¨ä¹ˆï¼Œé€‰æ‹©ç®€ä½“ä¸­æ–‡ é€‰æ‹©å®‰è£… macOS ç»§ç»­å§ é€‰æ‹© MBP çš„ç¡¬ç›˜ ä¸è¡Œï¼Œæ²¡ç©ºé—´äº†ï¼Œæ‰€ä»¥è¿”å›å»ï¼Œæ‰¾åˆ°ç£ç›˜å·¥å…·ï¼Œæ ¼å¼åŒ–ç¡¬ç›˜ æŠ¹æ‰å°±è¡Œäº† è¿™äº›å¯å¹²å‡€äº†ï¼Œå•¥ä¹Ÿæ²¡äº† ç»§ç»­å®‰è£… è¯´æ˜¯7åˆ†é’Ÿï¼Œå®é™…è¦é•¿äº›ï¼Œä¸»è¦æ˜¯æˆ‘ U ç›˜ä¸æ˜¯ 3.0 çš„ï¼Œæ‹·è´æ–‡ä»¶é€Ÿåº¦æ…¢ è¿˜æœ‰ 1 åˆ†é’Ÿ é‡å¯æ˜¯æ­£å¸¸çš„ï¼Œçœ‹æ¥å°±å¿«å¥½äº† é€‰æ‹©ä¸­å›½ é€‰æ‹© WiFi ä¸ç”¨ä¼ è¾“äº† è®¾ç½®ä¸‹ iCloud é€‰æ‹©æ—¶åŒº å“‡å’”å’”ï¼Œè¿›æ¥äº†ï¼ï¼ï¼å¥½ç†Ÿæ‚‰çš„æ¡Œé¢-å†…åè¾¾å±±è„‰ åˆšæ ¼å¼åŒ–çš„æ—¶å€™å¯ç”¨ç©ºé—´æ˜¯ 249Gï¼Œç°åœ¨æ˜¯ 239Gï¼Œçœ‹æ¥ç³»ç»Ÿå ç”¨äº† 10Gã€‚ å®Œä½¿ç”¨ U ç›˜å®‰è£…ç³»ç»Ÿæˆ–è€…å®‰è£… Mac PE çš„å‰æéƒ½æ˜¯è¦æœ‰ä¸ª Mac æ‰è¡Œï¼Œè¿™æ ·æ‰èƒ½åšå‡ºå¯åŠ¨ç›˜æ¥ï¼Œè¿™å¯¹äºå¾ˆå¤šç”¨æˆ·è€Œè¨€æ˜¯ä¸å¤ªå®¹æ˜“æ»¡è¶³çš„ï¼Œæ‰€ä»¥æœ€å¥½åˆ«è®©æˆ‘ä»¬çš„ Mac æŒ‚æ‰ï¼Œçœå¾—å¦‚æ­¤éº»çƒ¦ï¼Œç‰¹åˆ«å»ºè®®å’Œæˆ‘ä¸€æ ·ä½¿ç”¨ 256 G ç£ç›˜çš„ç”¨æˆ·ï¼Œå¤šç»™ç³»ç»Ÿé¢„ç•™ä¸€äº›ç©ºé—´ï¼Œè‡³å°‘ 20G å·¦å³ï¼Œæœ€å¥½æ˜¯ä¹°ä¸ªç§»åŠ¨åšä¸‹æ—¥å¸¸ç¡¬ç›˜å¤‡ä»½ï¼Œæ‰ä¸ä¼šå‡ºç°æˆ‘ä»Šå¤©çš„æ‚²å‰§! å½“ç£ç›˜ç©ºé—´å°æ—¶ï¼ŒMac ç»å¸¸å¼¹å‡ºæ¥ä¸€ä¸ªæç¤ºè®©æˆ‘æ¸…ç†ï¼Œæˆ‘æ²¡æœ‰å»æ·±åº¦æ¸…ç†ï¼Œæˆ‘è®°å¾—æˆ‘å¥½åƒå‰©ä¸‹ 13G å·¦å³ï¼Œç°åœ¨æƒ³æ¥è¿˜æŒºåæ‚”çš„ï¼Œè¦ä¸ç„¶å°±ä¸ç”¨åœ¨è¿™æŠ˜è…¾äº†ï¼","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"Fuckï¼ŒMac å…³æœºåå†ä¹Ÿæ— æ³•å¯åŠ¨","slug":"2017/06/18-my-mbp-adversity","date":"2017-06-18T13:46:27.000Z","updated":"2018-03-27T14:45:15.693Z","comments":true,"path":"2017/06/18/2017/06/18-my-mbp-adversity.html","link":"","permalink":"http://debugly.cn/2017/06/18/2017/06/18-my-mbp-adversity.html","excerpt":"","text":"ä»Šå¤©æ“¦æ¡Œå­çš„æ—¶å€™é¡ºä¾¿æ“¦äº†ä¸‹æˆ‘çš„ MBPï¼Œä¸ºäº†ä¸åœ¨æ“¦çš„æ—¶å€™æŒ‰ä¸‹é”®ç›˜è¯¯æ“ä½œï¼Œæ‰€ä»¥åœ¨æ“¦ä¹‹å‰æˆ‘æŠŠ Mac å…³æœºäº†ã€‚ç­‰åˆ°ä¸‹åˆæ²¡äº‹å¼€æœºæ—¶å´é‡åˆ°äº†ä¸ªå¤§å¤§çš„é—®é¢˜ï¼šè¿›åº¦æ¡èµ°åˆ°ç™¾åˆ†ä¹‹å…«åå·¦å³çš„æ—¶å€™å¡ä½ï¼Œå¡ä¸€ä¼šä¹‹åå°±å…³æœºäº†ï¼æ¥ç€åˆè¯•äº†å¥½å‡ æ¬¡ï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œæˆ‘æœ‰ç‚¹æ…Œäº†ï¼Œæ­¤æœ¬è¿½éšæˆ‘å¿«ä¸‰å¹´äº†ï¼Œå¯ä¸èƒ½æœ‰ä¸ªä¸‰é•¿ä¸¤çŸ­å•Šï¼Œäºæ˜¯èµ¶å¿™å¼€å§‹åœ¨ç½‘ä¸ŠæŸ¥æ‰¾è§£å†³æ–¹æ³•ã€‚ RestæŸ¥æ‰¾äº†å¥½å¤šçš„æ–‡ç« ï¼Œæ€»ç»“èµ·æ¥å°±æ˜¯ä»¥ä¸‹ä¸‰ç§æ–¹æ³• é‡ç½® SMC é‡ç½® NVRAM é‡è£…ç³»ç»Ÿ æ¥ä¸‹æ¥æˆ‘ç»™ç®€å•ä»‹ç»ä¸‹ï¼Œä»¥åŠå“ªäº›åœºæ™¯é€‚åˆä½¿ç”¨ã€‚ Whatâ€™s SMC ï¼ŸSMC : System Manager Controller åŸºäº Intel çš„ Mac ä¸Šçš„ ç³»ç»Ÿç®¡ç†æ§åˆ¶å™¨ ï¼Œç®€å•ç†è§£å°±æ˜¯ç”¨äºç®¡ç†ç”µæºï¼Œé£æ‰‡ï¼Œé”®ç›˜ç¯ï¼Œå±å¹•èƒŒå…‰ç­‰ç­‰ï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹ä»‹ç»ï¼š åœ¨åŸºäº Intel çš„ Mac ç”µè„‘ä¸Šï¼ŒSMC è´Ÿè´£ç®¡ç†ä»¥ä¸‹åŠå…¶ä»–ä½çº§åŠŸèƒ½ï¼š å¯¹æŒ‰ä¸‹ç”µæºæŒ‰é’®çš„æ“ä½œåšå‡ºå“åº” å¯¹ Mac ç¬”è®°æœ¬ç”µè„‘ä¸Šæ˜¾ç¤ºå™¨å±å¹•ç›–çš„å¼€åˆåšå‡ºå“åº” ç”µæ± ç®¡ç† çƒ­èƒ½ç®¡ç† SMSï¼ˆçªå‘ç§»åŠ¨æ„Ÿåº”å™¨ï¼‰ ç¯å¢ƒå…‰åº¦æ„Ÿåº” é”®ç›˜èƒŒå…‰ çŠ¶æ€æŒ‡ç¤ºç¯ (SIL) ç®¡ç† ç”µæ± çŠ¶æ€æŒ‡ç¤ºç¯ ä¸ºæŸäº› iMac æ˜¾ç¤ºå™¨é€‰æ‹©å¤–éƒ¨ï¼ˆè€Œéå†…éƒ¨ï¼‰è§†é¢‘æ¥æº ä½•æ—¶éœ€è¦é‡ç½® SMCè¿™ä¸ªç®¡ç†ç³»ç»Ÿä¹Ÿä¼šå‡ºé—®é¢˜ï¼Œç­‰å‡ºäº†é—®é¢˜åå¯ä»¥é‡ç½®ä¸‹ï¼Œä¸€åˆ‡ä»æ–°å¼€å§‹ï¼Œé‚£ä¹ˆä½•æ—¶éœ€è¦é‡ç½®å‘¢ï¼Ÿè¿™æ˜¯å®˜ç½‘ç½—åˆ—çš„æƒ…å†µï¼š å°½ç®¡ç”µè„‘å·¥ä½œè´Ÿè·ä¸é‡ä¸”é€šé£è‰¯å¥½ï¼Œä½†ç”µè„‘é£æ‰‡ä¾ç„¶é«˜é€Ÿæ—‹è½¬ã€‚ é”®ç›˜èƒŒå…‰ç¯è¡Œä¸ºæœ‰äº›å¼‚å¸¸ã€‚ çŠ¶æ€æŒ‡ç¤ºç¯ (SIL) è¡Œä¸ºæœ‰äº›å¼‚å¸¸ã€‚ ç”µæ± æŒ‡ç¤ºç¯ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰è¡Œä¸ºæœ‰äº›å¼‚å¸¸ï¼ˆåœ¨é…æœ‰ä¸å¯æ‹†å¸ç”µæ± çš„ Mac ç¬”è®°æœ¬ç”µè„‘ä¸Šï¼‰ã€‚ æ˜¾ç¤ºå™¨èƒŒå…‰ç¯ä¸èƒ½å¯¹ç¯å¢ƒå…‰çº¿å˜åŒ–åšå‡ºæ­£ç¡®å“åº”ã€‚ ç”µè„‘ä¸èƒ½åœ¨ç”µæºæŒ‰é’®æŒ‰ä¸‹æ—¶åšå‡ºæ­£ç¡®å“åº”ã€‚ Mac ç¬”è®°æœ¬ç”µè„‘ä¸èƒ½å¯¹å±å¹•ç›–çš„å¼€åˆåšå‡ºæ­£ç¡®å“åº”ã€‚ ç”µè„‘æ„å¤–è¿›å…¥ç¡çœ çŠ¶æ€æˆ–å…³æœºã€‚ ç”µæ± ä¸èƒ½æ­£å¸¸å……ç”µã€‚ MagSafe ç”µæºé€‚é…å™¨çš„ LED æŒ‡ç¤ºç¯ä¸èƒ½æ­£ç¡®åœ°æŒ‡ç¤ºæ´»åŠ¨çŠ¶æ€ã€‚ å°½ç®¡ç”µè„‘çš„ CPU åˆ©ç”¨ç‡å¹¶ä¸æ˜¯éå¸¸é«˜ï¼Œä½†è¿è¡Œé€Ÿåº¦å¼‚å¸¸ç¼“æ…¢ã€‚ åº”ç”¨ç¨‹åºæ‰“å¼€æ—¶ï¼Œå…¶å›¾æ ‡å¯èƒ½ä¼šåœ¨ Dock ä¸­â€œå¼¹è·³â€è¾ƒé•¿ä¸€æ®µæ—¶é—´ã€‚ åº”ç”¨ç¨‹åºæ‰“å¼€åï¼Œå¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œæˆ–åœæ­¢å“åº”ã€‚ æ”¯æŒç›®æ ‡æ˜¾ç¤ºå™¨æ¨¡å¼çš„ç”µè„‘æ— æ³•æ­£å¸¸è¿›å…¥æˆ–é€€å‡ºç›®æ ‡æ˜¾ç¤ºå™¨æ¨¡å¼ï¼Œæˆ–æ„å¤–åœ°è¿›å…¥æˆ–é€€å‡ºç›®æ ‡æ˜¾ç¤ºå™¨æ¨¡å¼ã€‚ ç§»åŠ¨ç”µè„‘æ—¶ï¼ŒMac Proï¼ˆ2013 å¹´æœ«ï¼‰ä¸Šçš„ I/O ç«¯å£å‘¨å›´çš„èƒŒå…‰ç¯æœªæ¿€æ´»ã€‚ èµ·åˆæˆ‘çš„ MBP å¹¶æ²¡æœ‰äº›é—®é¢˜ä¹‹ä¸€ï¼Œåæ¥ä¸€ç›´æŠ˜è…¾çš„æ—¶å€™é‡åˆ°äº†ä¸¤ä¸ªé—®é¢˜ï¼š å¼€æœºä¹‹å CPU é£æ‰‡ç«‹é©¬ç–¯ç‹‚é«˜é€Ÿæ—‹è½¬ æ’ä¸Šç”µæºåï¼Œç”µæºæŒ‡ç¤ºç¯ä¸äº® åå¤æŒ‰ä½ç”µæºé”®å¼ºåˆ¶å…³æœºå‡ æ¬¡åï¼Œä»ç„¶å¦‚æ­¤ï¼Œç„¶åæˆ‘è¯•ç€é‡ç½® SMCï¼Œç»“æœç¡®å®è§£å†³äº†ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼ å¦‚ä½•é‡ç½® SMCå¸¦ Touch ID çš„ 2016 æ–°æ¬¾ MacBook Proï¼Œåˆ™ Touch ID æŒ‰é’®å°±æ˜¯ç”µæºæŒ‰é’®ã€‚ å°† Mac å…³æœºï¼Œä¸èƒ½æ­£å¸¸å…³ï¼Œå°±å¼ºåˆ¶å…³æ‰ æ‹”ä¸‹ç”µæºé€‚é…å™¨ åŒæ—¶æŒ‰ä¸‹ å·¦ä¾§Shift + Control + Option + ç”µæºé”® ï¼ŒæŒ‰ä½è¿™äº›æŒ‰é”®å’Œç”µæºæŒ‰é’® 10 ç§’åæ¾å¼€ é‡æ–°è¿æ¥ç”µæºé€‚é…å™¨åé‡å¯ ç‚¹å‡»æŸ¥çœ‹å®˜ç½‘å¯¹ SMC çš„ä»‹ç»ã€‚ Whatâ€™s NVRAM ï¼ŸNVRAM : Non-Volatile RAM éæ˜“å¤±æ€§éšæœºè®¿é—®å­˜å‚¨å™¨,å…¶å®å°±æ˜¯ä¸€å°éƒ¨åˆ†ç‰¹æ®Šçš„å†…å­˜ï¼ŒMac åˆ©ç”¨è¿™äº›éƒ¨åˆ†å†…å­˜æ¥å‚¨å­˜æŸäº›è®¾ç½®ä»è€Œå®ç°æ›´åŠ å¿«é€Ÿçš„è®¿é—®ï¼è¿™äº›è®¾ç½®å¯èƒ½åŒ…æ‹¬ : éŸ³é‡ã€æ˜¾ç¤ºå±åˆ†è¾¨ç‡ã€å¯åŠ¨ç£ç›˜é€‰æ‹©ã€æ—¶åŒºï¼Œä»¥åŠæœ€è¿‘çš„å†…æ ¸å´©æºƒä¿¡æ¯ç­‰ã€‚ ä½•æ—¶éœ€è¦é‡ç½® NVRAMå¦‚æœä¸Šé¢è¯´çš„é‚£äº›è®¾ç½®å‡ºç°é—®é¢˜åï¼Œå°±å¯ä»¥è€ƒè™‘é‡ç½® NVRAM äº†ã€‚ä¾‹å¦‚ï¼Œ Mac å¹¶éä»â€œå¯åŠ¨ç£ç›˜â€åå¥½è®¾ç½®ä¸­é€‰å®šçš„ç£ç›˜å¯åŠ¨ï¼Œæˆ–è€…åœ¨ Mac å¯åŠ¨å‰çŸ­æš‚åœ°æ˜¾ç¤ºäº†ä¸€ä¸ªé—®å·å›¾æ ‡ï¼Œåˆ™å¯èƒ½éœ€è¦é‡ç½® NVRAMã€‚ å¦‚ä½•é‡ç½® NVRAM å°† Mac å…³æœº é‡æ–°å¼€æœºåç«‹å³åŒæ—¶æŒ‰ä¸‹ Option + Command + P + R ä¸è¦æ¾æ‰‹ï¼Œç”µè„‘ä¼šè‡ªåŠ¨é‡å¯ï¼Œè‡³å°‘é‡å¯ä¸¤æ¬¡åå°±å¯ä»¥æ¾å¼€äº† æ¾æ‰‹åè¿›å…¥ç³»ç»Ÿå³å¯ ä¸è¿‡è¿›å…¥ç³»ç»Ÿåï¼Œå¯èƒ½ä¹‹å‰è®¾ç½®çš„éŸ³é‡ã€åˆ†è¾¨ç‡ã€å¯åŠ¨ç£ç›˜ã€æ—¶åŒºç­‰ä¼šè¢«é‡ç½®ï¼Œå¯ä»¥åœ¨ç³»ç»Ÿåå¥½è®¾ç½®é‡Œä¿®æ”¹ã€‚ å°å¼æœºéœ€è¦ç”µæ± ä¾›ç”µæ¯æ¬¡æ–­å¼€ Mac ç”µæºåï¼Œä¸‹æ¬¡å¯åŠ¨åå‘ç°éŸ³é‡æˆ–æ—¶åŒºç­‰è®¾ç½®å‡ä¼šé‡ç½®æ—¶ï¼Œå°±éœ€è¦æ›´æ¢ Mac ä¸­çš„ç”µæ± äº†ã€‚è¿™ä¸ªå°ç”µæ± åœ¨ä¸»æ¿ä¸Šå¡ç€ï¼Œä¸ºçš„æ˜¯æ–­å¼€ç”µæºåå¸®åŠ© NVRAM ä¿å­˜è®¾ç½®ã€‚è¯»åˆ°è¿™ä½ æ˜¯ä¸æ˜¯æƒ³èµ·äº† CMOS å‘¢ï¼Ÿæ„Ÿè§‰ Mac ä¸Šè¿™ä¸ª NVRAM è·Ÿ CMOS å¾ˆåƒå‘¢ã€‚ ç‚¹å‡»æŸ¥çœ‹å®˜ç½‘å¯¹ SMC çš„ä»‹ç»ã€‚ Commad + Ræˆ‘çš„ MBP ä¸èƒ½å¼€å¯å¹¶éä»¥ä¸Šé—®é¢˜å¯¼è‡´çš„ï¼Œæˆ‘åœ¨ç½‘ä¸ŠæŸ¥åˆ°ä¸€ä¸ª å®ç”¨å·¥å…·æ¨¡å¼ï¼Œè¿›å…¥æ–¹å¼ï¼š æŒ‰ä¸‹ Commad + Rä¸€ç›´ä¸åŠ¨ æŒ‰ä¸€ä¸‹å¼€æœºé”®æ¾å¼€ ç­‰ä¸ªå‡ ç§’çœ‹åˆ°è¿›åº¦æ¡åæ¾å¼€ Commad + Rå³å¯ å¦‚å›¾ï¼š é€‰æ‹© ç£ç›˜å·¥å…· Fuck ï¼ç£ç›˜ç©ºé—´æ˜¯ 0KB ï¼ï¼ï¼ ä¸ºä½•ä¼šè¿™æ ·ï¼Œæˆ‘è®°å¾—æ˜æ˜æœ‰å¥½å‡ ä¸ª G çš„å¯ç”¨ç©ºé—´çš„å•Šï¼Œæˆ‘æ€€ç–‘æ˜¯è‹¹æœç»™æˆ‘ä¸‹è½½äº†ç³»ç»Ÿæ›´æ–°ï¼Œé‡æ–°å¼€æœºä¼šä¼šè§£å‹ç„¶åç„¶åï¼Œç»“æœè§£å‹åå¯¼è‡´æˆ‘çš„ç©ºé—´æ²¡äº†ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½æ˜¯å¡åœ¨ç™¾åˆ†ä¹‹å…«åå·¦å³çš„åœ°æ–¹ï¼Œå¡ä¸€ä¼šä¹‹åç³»ç»Ÿå°±è‡ªåŠ¨å…³æœºäº†ï¼çœ‹åˆ°è¿™ä¸ªå°±å¤§æ¦‚çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹äº†ï¼Œè‡ªç„¶ä¹Ÿèƒ½æƒ³åˆ°è§£å†³çš„åŠæ³• â€” è¿›PEï¼Œåˆ é™¤æ— ç”¨æ–‡ä»¶ï¼Œè…¾å‡ºæ¥ä¸€äº›ç©ºé—´ç»™ç³»ç»Ÿç”¨ï¼ æ¥ä¸‹æ¥çš„äº‹æƒ…æ›´æ˜¯æ›²æŠ˜ï¼Œè¿˜æ˜¯å†å†™ä¸€ç¯‡æ–‡ç« æ¥ä»‹ç»ï¼ˆåæ§½ï¼‰å§ï¼","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"ä½¿ç”¨ Rake é‡å†™æ‰“åŒ…è„šæœ¬","slug":"2017/06/04-use-rake","date":"2017-06-04T06:04:59.000Z","updated":"2018-03-27T14:45:15.693Z","comments":true,"path":"2017/06/04/2017/06/04-use-rake.html","link":"","permalink":"http://debugly.cn/2017/06/04/2017/06/04-use-rake.html","excerpt":"","text":"æˆ‘æœ€åˆçš„åšå®¢ç³»ç»Ÿä½¿ç”¨çš„æ˜¯ Octopressï¼Œåˆ›å»ºåšå®¢æˆ–è€…é¢„è§ˆåšå®¢éƒ½æ˜¯ä½¿ç”¨çš„ rake å‘½ä»¤ï¼Œæ„Ÿè§‰å¾ˆæ˜¯æ–¹ä¾¿ï¼Œç°åœ¨è™½ç„¶ç›´æ¥ä½¿ç”¨äº† Jekyllï¼Œä½†æ˜¯è¿™å¥—å‘½ä»¤è¿˜æ˜¯è¢«æˆ‘ç§»æ¤è¿‡æ¥ç»§ç»­ä½¿ç”¨ç€ã€‚ä¹‹å‰æˆ‘ç”¨ Shell ç¼–å†™è¿‡ä¸€å¥—æ‰“åŒ…çš„è„šæœ¬ï¼Œç°åœ¨æ¥è§¦äº† Ruby è„šæœ¬ï¼Œå¯¹æ¯”ä¹‹ä¸‹æ„Ÿè§‰ Shell è¿™é—¨è¯­è¨€å¤ªä¸å‹å¥½äº†ï¼Œç¼–ç¨‹æ•ˆç‡å¾ˆä½ï¼Œäºæ˜¯å‰å¤©æ™šä¸Šå¼€å§‹å­¦ä¹  rakeï¼Œè¾¹å†™è¾¹å­¦è¾¹æŸ¥èµ„æ–™ï¼Œä¸€æ­¥æ­¥çš„é‡å†™äº†è¿™å¥—æ‰“åŒ…è„šæœ¬ï¼Œæ•…è¶çƒ­æ‰“é“å†™ä¸‹è¿™ç¯‡åšå®¢è®°å½•ç”¨åˆ°çš„çŸ¥è¯†ç‚¹ã€‚ Ruby è¯­è¨€çš„å›¾æ ‡: åè¯è§£é‡Šå­¦ä¹  Ruby ä¹‹å‰å…ˆæ‹é¡ºä¸‹ç›¸å…³çš„åè¯å§ Ruby: æ˜¯ä¸€é—¨çº¯ç²¹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ï¼Œå¥¹è¯­æ³•ç®€æ´ä¼˜ç¾ï¼Œç®€å•æ˜“å­¦ï¼Œå…¼å…·å‡½æ•°å¼ç¼–ç¨‹å’Œå‘½ä»¤å¼ç¼–ç¨‹ç‰¹è‰²ï¼Œç”±æ—¥æœ¬çš„æ¾æœ¬è¡Œå¼˜åˆ›å»ºï¼Œæ¾æœ¬è¡Œå¼˜è¢«ç§°ä¸º Matz ã€‚è¿™æ˜¯ Ruby ä¸­æ–‡å®˜ç½‘: http://www.ruby-lang.org/zh_cn/ RVM: ç”¨æ¥ç®¡ç† Ruby ç‰ˆæœ¬åŠç›¸å…³æ’ä»¶ï¼Œæ–¹ä¾¿åˆ‡æ¢ç‰ˆæœ¬ç¯å¢ƒã€‚ Ruby on Rails: å¼€å‘ web åº”ç”¨çš„æ¡†æ¶ã€‚ Gem: ç»„ç»‡ Ruby ç¨‹åºæˆ–è€…ä»£ç ç±»åº“çš„åŒ…ï¼Œæ¯ä¸ª Ruby åº”ç”¨ç¨‹åºå°±æ˜¯ä¸€ä¸ª gem åŒ…ã€‚ RubyGems: æ–¹ä¾¿è€Œå¼ºå¤§çš„ Ruby ç¨‹åºåŒ…ç®¡ç†å™¨ï¼Œç”¨æ¥ç®¡ç† gem çš„ï¼Œç±»ä¼¼ RedHat çš„ RPMï¼›Rubyç¯å¢ƒé‡Œå·²ç»åŒ…å«äº† RubyGems äº†ï¼Œæ— éœ€é¢å¤–å®‰è£…ã€‚ Ruby ç¤¾åŒºçš„ Gem æ‰˜ç®¡æœåŠ¡: RubyGems.org RubyGems é•œåƒ gems.ruby-china.org RubyGems é•œåƒ ruby.taobao.org ä½¿ç”¨ gem list å¯æŸ¥çœ‹å·²ç»å®‰è£…çš„ gem åŒ… Rake: å¦‚æœä½ å·²ç»æŸ¥çœ‹äº†æ‰€æœ‰å®‰è£…çš„ gem åŒ…çš„è¯ï¼Œä½ ä¼šå‘ç°å…¶ä¸­ä¸€ä¸ªå°±æ˜¯ rake (10.5.0, 10.4.2)ï¼Œè¿™ä¸ªæ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ª gemã€‚è·Ÿ Make ç±»ä¼¼ï¼Œæ˜¯ä¸€ä¸ª DSL æ„å»ºè¯­è¨€ï¼ŒRails æœ‰å¾ˆå¤šä»»åŠ¡å¸¸ç”¨ rake æ¥å®Œæˆã€‚ Rakefile: ä½¿ç”¨ Ruby è¯­è¨€æŒ‰ç…§ DSL æ ¼å¼ç¼–å†™çš„æ–‡ä»¶ï¼Œå®šä¹‰äº† Rake çš„æ‰§è¡Œè¿‡ç¨‹ã€‚ Ruby åŸºç¡€çŸ¥è¯†ç¼–å†™ Rakefile å¿…é¡»çŸ¥é“ Ruby çš„è¯­æ³•æ‰è¡Œï¼Œç®€å•å­¦ä¹ ä¸‹å§ï¼š ç‰¹æ®Šå˜é‡çš„å‘½åè§„åˆ™ å¸¸é‡: ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„å˜é‡ï¼Œå¦‚: Jekyllï¼Œä¸ºæ–¹ä¾¿èµ·è§å¸¸é‡å…¨éƒ¨å¤§å†™ å…¨å±€å˜é‡: ä»¥â€$â€å¼€å¤´çš„å˜é‡ï¼Œå¦‚: $jekyll å®ä¾‹å˜é‡: ä»¥â€@â€å¼€å¤´çš„å˜é‡ï¼Œå¦‚: @jekyll ç±»å˜é‡: ä»¥â€@@â€å¼€å¤´çš„å˜é‡ï¼Œå¦‚: @@jekyll æˆ‘æœ€åˆä¸çŸ¥é“å¤§å†™å­—æ¯å¼€å¤´çš„æ˜¯å¸¸é‡ï¼ŒåŸæœ¬æƒ³çš„æ˜¯ä½¿ç”¨å…¨å±€å˜é‡çš„ï¼Œç»“æœæ”¹å˜äº†å¸¸é‡çš„å€¼ï¼Œæ‰§è¡Œæ—¶å‘ç°äº†è­¦å‘Šï¼šwarning: already initialized constant JEKYLLæ‰€ä»¥æœ€å¥½ä¸è¦ä¿®æ”¹å¸¸é‡çš„å€¼ï¼ __FILE__: å½“å‰æºæ–‡ä»¶çš„åç§°(å«è·¯å¾„) __LINE__: å½“å‰è¡Œåœ¨æºä»£ç ä¸­çš„ç¼–å· æ³¨é‡Š å•è¡Œæ³¨é‡Š: â€˜#å•è¡Œæ³¨é‡Šâ€™ å¤šè¡Œæ³¨é‡Š: 12345=beginå¤šè¡Œæ³¨é‡Šå¤šè¡Œæ³¨é‡Šå¤šè¡Œæ³¨é‡Š=end è¾“å‡ºæ—¥å¿—: puts â€œlog somethingâ€ï¼Œè·Ÿ printf ç±»ä¼¼ æ•°ç»„ 1234567891011ary = [\"abc\",19,3.14,\"This is my pubby\"]# ç­‰åŒäºarr = Array.newarr[0] = \"abc\"arr[1] = 19arr[2] = 3.14arr[3] = \"This is my pubby\"# éå†æ•°ç»„ary.each do |i| puts iend Hashï¼ŒOC é‡Œå«å­—å…¸ 12345colors = &#123;\"red\" =&gt; 0xff0000, \"green\" =&gt; 0x00ff00,\"blue\" =&gt; 0x0000ff&#125;# éå† Hashcolors.each do |key,value| print key,\" is \",value, \"\\n\"end Sequence åºåˆ— 1234seq = (10..15)seq.each do |n| print n,' 'end å­—ç¬¦ä¸²: â€œHello Worldâ€ ç‰¹æ®Šè¯­å¥å— 1234567BEGIN&#123; puts \"ã€æ‰§è¡Œå…¶ä»–ä»£ç å‰ï¼Œå…ˆæ‰§è¡ŒBEGINå—é‡Œçš„è¯­å¥ï¼ã€‘\"&#125;END&#123; puts \"ã€æ‰§è¡Œå®Œå…¶ä»–æ‰€æœ‰ä»£ç åï¼Œå†æ‰§è¡ŒENDå—é‡Œçš„è¯­å¥ï¼ã€‘\"&#125; æ–¹æ³• 123def test(content) puts \"### \" + contentend Rake å…¥é—¨ Rakefile å…ˆåˆ›å»ºåä¸º Rakefile çš„æ–‡ä»¶ï¼Œç„¶åå°±å¯ä»¥æŒ‰ç…§æ ¼å¼å†™äº†: 1234desc \"task è¯´æ˜\"task :test do puts \"I'm a task\"end åœ¨ Rakefile ç›®å½•æ‰“å¼€ç»ˆç«¯å¹¶æ‰§è¡Œ: rake testï¼Œä½ ä¼šå‘ç°æµ‹è¯•è¯­å¥è¾“å‡ºäº†ï¼›è¿™å°±æ˜¯ Rake çš„æ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡ rake -T æŸ¥çœ‹å®šä¹‰çš„æ‰€æœ‰ taskï¼Œdesc ä¼šä½œä¸ºæ–‡æ¡£æ˜¾ç¤ºå‡ºæ¥: 1234xuqianlong$ rake testI'm a taskxuqianlong$ rake -Trake test # task è¯´æ˜ namespace ä½ å¯èƒ½ä¼šå®šä¹‰å¤šä¸ª taskï¼Œè¿™æ ·ä¸€æ¥å¯èƒ½ä¼šä¸å¥½å‘½åæˆ–è€…å†²çªï¼Œè¾›å¥½å¯ä»¥é€šè¿‡ namespace æ¥è§£å†³ï¼Œå¦‚æœæœ‰å‘½åç©ºé—´çš„è¯ï¼Œæ‰§è¡Œçš„æ—¶å€™å¸¦ä¸Šæ‰è¡Œï¼Œæ¯”å¦‚ï¼š 12345678910111213# æ·»åŠ åˆ° Rakefile é‡Œnamespace :TestNamespace do desc \"test namespace è¯´æ˜\" task :test do puts \"I have a namespace.\" endend# å‘½ä»¤è¡Œç»§ç»­æ‰§è¡Œxuqianlong$ rake -Trake TestNamespace:test # test namespace è¯´æ˜rake test # task è¯´æ˜xuqianlong$ rake TestNamespace:testI have a namespace. default task å¯ä»¥åœ¨ Rakefile é‡ŒæŒ‡å®šé»˜è®¤çš„ taskï¼Œç„¶åæ‰§è¡Œæ—¶å°±ä¸ç”¨å¸¦ä¸Š task åå­—äº† 12345# æ·»åŠ åˆ° Rakefile é‡Œtask :default =&gt; [:test]# è°ƒç”¨xuqianlong$ rakeI'm a task import ä¸ºäº†å‡è½» Rakefile çš„å‹åŠ›ï¼Œå¯ä»¥æŠŠä»£ç åˆ†æ•£åˆ°ä¸åŒçš„ rake æ–‡ä»¶é‡Œï¼Œç„¶åä½¿ç”¨ import å¯¼å…¥å³å¯ï¼Œå¯ä»¥åŒ…å« task ä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥åŒ…å« ruby ä»£ç å“¦ï¼› buildConfig.rake é‡Œæ”¾äº†æ‰“åŒ…çš„å…ˆå…³é…ç½®ä¿¡æ¯ï¼Œæ”¾åœ¨configç›®å½•ä¸‹ï¼Œè¿™æ ·å¯¼å…¥å°±è¡Œäº†ï¼š 1import(\"config/buildConfig.rake\") invoke ä¸€ä¸ª task å¯ä»¥è°ƒç”¨åˆ«çš„ taskï¼Œä»£ç å¦‚ä¸‹: 12# PackageSDK æ˜¯å‘½åç©ºé—´, prepareBuildFolder æ˜¯ task çš„åå­—Rake::Task[\"PackageSDK:prepareBuildFolder\"].invoke Call Shellæ‰“åŒ…çš„å‘½ä»¤æ˜¯ Shell å‘½ä»¤ï¼Œæ‰€ä»¥è¦æƒ³åŠæ³•è®© ruby å»è°ƒç”¨æ‰è¡Œï¼ŒæŸ¥åˆ°äº†ä¸€ä¸‹æ–¹æ³•: åå¼•å· (Backticks) : `cmd` 123# å¯ä»¥è·å–åˆ°å‘½ä»¤çš„è¿”å›å€¼xcversion = `xcodebuild -version`puts xcversion system â€œcmdâ€ 12345# Hi ä¼šè¢«ç›´æ¥è¾“å‡ºåˆ°å‘½ä»¤è¡Œsystem \"echo Hi\"# å¯ä»¥é€šè¿‡ $? è·å–å­è¿›ç¨‹ pid å’Œæ‰§è¡Œç»“æœpid 48526 exit 0# å¯ä»¥ $?.to_i è·å–æ‰§è¡Œç»“æœï¼Œå¦‚æœæ˜¯ 0 è¿™è¯´æ˜æ­£å¸¸æ‰§è¡Œ YAMLåœ¨ Ruby çš„ä¸–ç•Œé‡Œï¼Œä»–ä½¿ç”¨å¾ˆå¹¿æ³›ï¼Œå¯è¯»æ€§å¾ˆå¥½ï¼Œç”¨æ¥å–ä»£ XML æ ‡è®°è¯­è¨€ï¼Œæ¯” XML æ›´æœ‰ä¼˜åŠ¿ï¼›ä¸€èˆ¬ç”¨ä½œé…ç½®æ–‡ä»¶ï¼Œå› æ­¤ä¹‹å‰ç”¨ shell å†™çš„é…ç½®æ–‡ä»¶å°±æ”¹ä¸º .yml æ–‡ä»¶äº†: 1234DESC: \"SohuLiveSDK for Video\"SCHEME_NAME_ARR: [\"SohuCoreFoundation\",\"SohuOneSDK\",\"SohuGameSDK\",\"SohuLiveSDK-Video\"]PLIST_INFO: \"SohuLiveSDK/SohuLiveSDK/video-info.plist\"CATEGORY_NAME: \"åƒå¸†SDK-Video\" è¯»å–é…ç½®æ–‡ä»¶å†…å®¹: 12# è¯»å‡ºæ¥åæ˜¯ HASH ç±»å‹ï¼Œå¾ˆæ–¹ä¾¿ä½¿ç”¨config = YAML::load(File.read(cfgdir, cfgname))) ä½¿ç”¨å‰éœ€è¦å¯¼å…¥åº“å“¦: 1require 'yaml' STDINæ‰€æœ‰çš„æ‰“åŒ…æ¸ é“éƒ½æ”¾åœ¨ PLACE_CONF_ARR æ•°ç»„ä¸­ï¼Œä½¿ç”¨è€…éœ€è¦é€‰æ‹©æ‰“å“ªä¸ªæ¸ é“ï¼Œå› æ­¤é¡»è¦æ±‚è¾“å…¥ 1 ~ N ä¹‹é—´çš„æ•°å­—ï¼Œå…¶ä¸­ N = PLACE_CONF_ARR.sizeï¼Œä»£è¡¨æ‰“åŒ…æ¸ é“æ•°ç»„é•¿åº¦ï¼Œä»£ç å¦‚ä¸‹ 12345input = 0until (input &gt; 0) &amp;&amp; (input &lt;= PLACE_CONF_ARR.size) puts \"è¯·è¾“å…¥1~\" + PLACE_CONF_ARR.size.to_s + \"ä¹‹é—´çš„æ•°å­—:\" input = $stdin.gets.chomp().to_iend Installed xx Gem ?æˆ‘ä½¿ç”¨äº† xcpretty å°† xcodebuild çš„è¾“å‡ºä¿¡æ¯æ ¼å¼åŒ–ï¼Œä½†æ˜¯åŒäº‹çš„ç”µè„‘å¯èƒ½æ²¡è£… xcprettyï¼Œå› æ­¤è¦åˆ¤æ–­å‡ºæ¥æ˜¯å¦å®‰è£…äº†ï¼Œå¦‚æœæ²¡å®‰è£…å°±ä¸ä½¿ç”¨ï¼Œè¿™æ ·ç¨‹åºæ‰ç®—å¥å£®ï¼Œé€»è¾‘ä¸ºï¼š 12345678910111213141516171819202122#å®šä¹‰ä¸€ä¸ªå…¨å±€å˜é‡$g_xcpretty = false# åˆ¤æ–­ä¸‹æ˜¯å¦å®‰è£…äº† xcprettyisInstalled = `gem list -i xcpretty`# å»æ‰æœ«å°¾çš„æ¢è¡Œç¬¦isInstalled = isInstalled.chomp();# å¦‚æœæ˜¯ \"true\" åˆ™è¡¨æ˜å®‰è£…äº†if isInstalled == \"true\" $g_xcpretty = trueend# ...# å‰©ä¸‹çš„é€»è¾‘é€šè¿‡ $g_xcpretty å…¨å±€å˜é‡åˆ¤æ–­å³å¯def build_sdk_scheme(sdk,scheme) puts \"========== Build #&#123;scheme&#125; On #&#123;sdk&#125; Platform ==========\" if $g_xcpretty system \"/usr/bin/xcodebuild -workspace #&#123;wksp&#125; -scheme #&#123;scheme&#125; -configuration #&#123;CONFIGURATION&#125; -sdk #&#123;sdk&#125; BUILD_DIR=#&#123;build_dir&#125;\" | xcpretty else system \"/usr/bin/xcodebuild -workspace #&#123;wksp&#125; -scheme #&#123;scheme&#125; -configuration #&#123;CONFIGURATION&#125; -sdk #&#123;sdk&#125; BUILD_DIR=#&#123;build_dir&#125;\" endend","categories":[],"tags":[{"name":"Script","slug":"Script","permalink":"http://debugly.cn/tags/Script/"}]},{"title":"iOS Framework ç˜¦èº«å®æˆ˜","slug":"2017/06/01-reduce-framework-weight","date":"2017-06-01T05:30:02.000Z","updated":"2018-03-27T14:45:15.693Z","comments":true,"path":"2017/06/01/2017/06/01-reduce-framework-weight.html","link":"","permalink":"http://debugly.cn/2017/06/01/2017/06/01-reduce-framework-weight.html","excerpt":"","text":"è¿‘æ¥ä¸šåŠ¡å¢å¤šï¼Œå¯¹åº”çš„ Framework ä¹Ÿè¶Šåšè¶Šå¤šï¼Œæä¾›ç»™æœç‹è§†é¢‘çš„å°±å¤šè¾¾ 5ä¸ªï¼Œç‰©ç†åŒ…å¤§å°å½“ç„¶ä¹Ÿè¶Šæ¥è¶Šå¤§äº†ï¼Œå› æ­¤æŸ¥é˜…äº†èµ„æ–™ï¼Œå¯¹ framework è¿›è¡Œç˜¦èº«ï¼ å·¥ç¨‹é…ç½® è°ƒè¯•ç¬¦å·(Generate Debug Sysmbols) è¿™ä¸ªæ˜¯æ§åˆ¶æ˜¯å¦ç”Ÿæˆè°ƒè¯•ç¬¦å·çš„ï¼Œå› æ­¤ debug æ¨¡å¼ä¸‹ä¿æŒä½¿ç”¨ YESï¼Œreleaseæ”¹ä¸º NOï¼›ä¹Ÿå°±è¯´æˆ‘ä»¬å¹³æ—¶è°ƒè¯•è¿˜ç”Ÿæˆè°ƒè¯•ä¿¡æ¯ï¼Œä½†æ˜¯æ‰“åŒ…å‘å¸ƒæ—¶ä¸éœ€è¦ç”Ÿæˆï¼Œå¦‚æœ debugä¸‹ä¹Ÿæ”¹ä¸º NO çš„è¯ï¼Œä¼šå¯¼è‡´æ²¡æœ‰æ–­ç‚¹ï¼Œä½ è®¾ç½®äº†æ–­ç‚¹ï¼Œä½†æ˜¯ä»£ç èµ°åˆ°é‚£ä¹‹åä¸ä¼šåœä¸‹æ¥è®©ä½ è°ƒè¯•ï¼ç»è¿‡è¯•éªŒï¼Œæˆ‘ä» 97M å‡åˆ°äº† 61Mï¼Œå‡å°‘äº† 37 % cpu æ¶æ„(Architectures) åŸºæœ¬ä¸Šæ¯å¤šæ”¯æŒä¸€ç§æ¶æ„ï¼ŒåŒ…å¤§å°å°±ä¼šç¿»ä¸€å€ï¼ç›®å‰è€Œè¨€ï¼ŒArchitectures è®¾ç½®ä¸º armv7ï¼Œarm64 å°±å¯ä»¥äº†ï¼Œä¸‹é¢æ˜¯æ¶æ„å¯¹åº”çš„æœºå‹ armv6 : iPhone,iPhone2,iPhone3G, iPhone3GS armv7 : iPhone4,iPhone4S; armv7s: iPhone5,iPhone5C; arm64 : iPhone5S,iPhoneSE,iPhone6(plus)(S),iPhone7(plus)(S) å‹ç¼©ç­‰çº§ï¼ˆOptimization Levelï¼‰ ä½¿ç”¨é»˜è®¤å€¼å°±è¡Œäº† release : Fastest,Smallest[-Os] debug : None,[-O0] ä¸å¯èƒ½æ‰§è¡Œåˆ°çš„ä»£ç  (Dead Code Stripping) ä½¿ç”¨é»˜è®¤å€¼å°±è¡Œäº† è®¾ç½®ä¸º YES èµ„æºå›¾ç‰‡ å¿…è¦çš„èµ„æºå›¾ç‰‡ï¼Œæ¯”å¦‚æŒ‰é’®çš„èƒŒæ™¯å›¾ï¼ŒLoading å›¾æ ‡ç­‰ï¼Œå‡å¯è¿›è¡Œæ— æŸå‹ç¼©ï¼›å¯ä»¥ä½¿ç”¨ ImageOptim è¿™æ¬¾å¼€æºè½¯ä»¶ï¼ é™¤äº†å¿…è¦çš„èµ„æºå›¾ç‰‡å¤–ï¼Œåƒç¤¼ç‰©å›¾ç‰‡ï¼Œå¤§åŠ¨ç”»èµ„æºå›¾ç‰‡ç­‰ï¼Œéƒ½å¯é‡‡ç”¨åŠ¨æ€ä¸‹è½½çš„æ–¹å¼ï¼Œè¿™æ ·åšé™¤äº†å‡å°‘åŒ…å¤§å°å¤–ï¼Œä¹Ÿèƒ½åšåˆ°åŠæ—¶æ›´æ–°ï¼Œæ»¡è¶³äº§å“éœ€æ±‚ï¼ ipa ç˜¦èº«ç”±äºä¸»è¦ç²¾åŠ›åœ¨ SDK å¼€å‘ä¸Šï¼Œæ‰€ä»¥æˆ‘æš‚æ— å®é™…ç»éªŒï¼Œè¿™æ˜¯ç½‘ä¸Šæ‰¾çš„ä¸€ç¯‡ æ–‡ç«  ã€‚","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"},{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"å¸¸ç”¨ Shell å‘½ä»¤æ±‡æ€»","slug":"2017/05/26-my-shell","date":"2017-05-26T13:03:36.000Z","updated":"2018-03-27T14:52:07.281Z","comments":true,"path":"2017/05/26/2017/05/26-my-shell.html","link":"","permalink":"http://debugly.cn/2017/05/26/2017/05/26-my-shell.html","excerpt":"","text":"æ—¥å¸¸å·¥ä½œä¸­ï¼Œç‰¹åˆ«æ˜¯æˆ‘æ­å»ºè¿œç¨‹æ‰“åŒ…ç¯å¢ƒçš„è¿‡ç¨‹ä¸­ç”¨åˆ°äº†ä¸å°‘ Shell å‘½ä»¤ï¼Œè¿™é‡Œè®°å½•ä¸‹ï¼Œçœå¾—ä»¥åå†å»æŸ¥è¯¢ï¼Œæµªè´¹æ—¶é—´ã€‚ å†…ç½®å˜é‡ä»¥ä¸‹ç»“æœæ¥è‡ª Mac OS 10.12ï¼Œæç¤ºï¼šè¿™äº›å†…ç½®å˜é‡æ˜¯ä»¥ç¾å…ƒç¬¦å·å¼€å¤´çš„å“ˆ,å› ä¸ºè¿™äº›éƒ½æ˜¯å˜é‡ï¼Œåœ¨ Shell è„šæœ¬é‡Œé¢å–å˜é‡çš„å€¼éœ€è¦ä»¥ç¾å…ƒç¬¦å·å¼€å¤´ï¼› $SHELL : æŸ¥çœ‹ç»ˆç«¯ä½¿ç”¨æ˜¯å“ªç§ shellï¼Œshell ä¹Ÿä¸æ­¢ä¸€ç§å“¦: /bin/bash $HOME : ç™»é™†ç”¨æˆ·ä¸»ç›®å½•: /Users/xuqianlong $PATH : æˆªå–ä¸€å°æ®µæ¥çœ‹ä¸‹: /opt/local/bin:/opt/local/sbin,åˆ†å·æ˜¯åˆ†éš”ç¬¦;åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤å°±èƒ½æ‰§è¡Œçš„åŸç†å…¶å®æ˜¯ï¼Œéå†è®¾ç½®çš„PATHè·¯å¾„ï¼Œç›´åˆ°æ‰¾åˆ°è¯¥å‘½ä»¤å¦‚æœæ‰¾ä¸åˆ°å°±è¾“å‡ºï¼š-bash: ee: command not found å­¦ä¹ è¿‡ Java çš„åŒå­¦è‚¯å®šéƒ½çŸ¥é“ Path çš„æ¦‚å¿µã€‚ $USER : å½“å‰ç™»é™†ç”¨æˆ·åç§°: xuqianlong $OSTYPE : æ“ä½œç³»ç»Ÿç±»å‹: darwin16 $MACHTYPE : CPUæ¶æ„åŠç³»ç»Ÿç±»å‹: x86_64-apple-darwin16 $LANG : è¯­è¨€ç±»å‹: zh_CN.UTF-8 å‘½ä»¤ env æŸ¥çœ‹æ‰€æœ‰çš„ç¯å¢ƒå˜é‡ï¼Œè¿™ä¸ªå‘½ä»¤å¤ªå‰å®³äº†ï¼Œä¸Šé¢æåˆ°çš„å¥½å¤šå†…ç½®å˜é‡çš„å€¼éƒ½åŒ…æ‹¬äº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637MANPATH=/Users/xuqianlong/.nvm/versions/node/v4.0.0/share/man:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/man:/usr/local/share/man:/usr/share/man:/opt/X11/share/man:/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/share/man:/Applications/Xcode.app/Contents/Developer/usr/share/man:/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/share/manNVM_IOJS_ORG_VERSION_LISTING=https://iojs.org/dist/index.tabrvm_bin_path=/Users/xuqianlong/.rvm/binTERM_PROGRAM=Apple_TerminalSHELL=/bin/bashTERM=xterm-256colorTMPDIR=/var/folders/d2/bt0v98895vd53lcx9w_spzdw0000gn/T/NVM_PATH=/Users/xuqianlong/.nvm/versions/node/v4.0.0/lib/nodeApple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.f7R2BOD9jj/RenderTERM_PROGRAM_VERSION=377TERM_SESSION_ID=75991873-8124-4503-8BA0-F10EB73C0D84NVM_DIR=/Users/xuqianlong/.nvmUSER=xuqianlong_system_type=Darwinrvm_path=/Users/xuqianlong/.rvmSSH_AUTH_SOCK=/private/tmp/com.apple.launchd.SZQYe5MXKe/Listeners__CF_USER_TEXT_ENCODING=0x1F5:0x19:0x34rvm_prefix=/Users/xuqianlongPATH=/Library/Frameworks/Python.framework/Versions/3.5/bin:/opt/local/bin:/opt/local/sbin:/Users/xuqianlong/.nvm/versions/node/v4.0.0/bin:/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/Users/xuqianlong/libwebp-0.5.1-mac-10.9/bin:/Users/xuqianlong/bin:/Users/xuqianlong/.rvm/binNVM_NODEJS_ORG_MIRROR=https://nodejs.org/distPWD=/Users/xuqianlongJAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/HomeLANG=zh_CN.UTF-8_system_arch=x86_64XPC_FLAGS=0x0_system_version=10.12XPC_SERVICE_NAME=0rvm_version=1.27.0 (latest)SHLVL=1HOME=/Users/xuqianlongLOGNAME=xuqianlongNVM_BIN=/Users/xuqianlong/.nvm/versions/node/v4.0.0/binNVM_IOJS_ORG_MIRROR=https://iojs.org/distDISPLAY=/private/tmp/com.apple.launchd.0jBYczqYJG/org.macosforge.xquartz:0SECURITYSESSIONID=186a6_system_name=OSX_=/usr/bin/env cat æŸ¥çœ‹æ–‡æœ¬å†…å®¹ï¼Œæ¯”å¦‚æŸ¥çœ‹ä¸‹æœºå™¨ä¸Šå®‰è£…äº†å‡ ç§ shellï¼šcat /etc/shells 12345678910# List of acceptable shells for chpass(1).# Ftpd will not allow users to connect who are not using# one of these shells./bin/bash/bin/csh/bin/ksh/bin/sh/bin/tcsh/bin/zsh ls /bin/*sh ï¼Œç»“æœè·Ÿä¸Šé¢æ˜¯ä¸€æ ·çš„ hostname -s ä¸»æœºåç§°: debugly tar -czf sdk.tar.gz *.framework : å…ˆå°†ç›®å½•é‡Œæ‰€æœ‰åç¼€åä¸º framework çš„æ–‡ä»¶æ‰“åŒ…æˆ sdk.tarï¼Œç„¶åç”¨ gzip å‹ç¼©ï¼Œç”Ÿæˆ sdk.tar.gz å‹ç¼©çš„å‹ç¼©åŒ… psç”¨ ps å‘½ä»¤å¯ä»¥æŸ¥çœ‹è¿›ç¨‹ç›¸å…³ä¿¡æ¯ï¼Œå“ªäº›è¿›ç¨‹æ­£åœ¨è¿è¡Œå’Œè¿è¡ŒçŠ¶æ€ã€è¿›ç¨‹æ˜¯å¦ç»“æŸã€è¿›ç¨‹æœ‰æ²¡æœ‰åƒµæ­»ã€å“ªäº›è¿›ç¨‹å ç”¨äº†è¿‡å¤šåœ°èµ„æºç­‰ç­‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738qianlongxu:~ qianlongxu$ ps PID TTY TIME CMD 2771 ttys000 0:00.07 -bash 2836 ttys001 0:00.06 -bash 1398 ttys004 0:00.10 -bashqianlongxu:~ qianlongxu$ echo $$2771qianlongxu:~ qianlongxu$ ps -f UID PID PPID C STIME TTY TIME CMD 501 2771 2770 0 8:45ä¸Šåˆ ttys000 0:00.07 -bash 501 2836 2835 0 8:45ä¸Šåˆ ttys001 0:00.06 -bash 501 1398 1397 0 3:55ä¸‹åˆ ttys004 0:00.10 -bashqianlongxu:~ qianlongxu$ ps -e PID TTY TIME CMD 1 ?? 0:51.90 /sbin/launchd 51 ?? 0:04.78 /usr/libexec/UserEventAgent (System) ///æ­¤å¤„çœç•¥å¥½å¤šè¡Œ 2770 ttys000 0:00.04 login -pf qianlongxu 2771 ttys000 0:00.07 -bash 2900 ttys000 0:00.00 ps -e 2835 ttys001 0:00.01 login -pf qianlongxu 2836 ttys001 0:00.06 -bash 1397 ttys004 0:00.02 login -pf qianlongxu 1398 ttys004 0:00.10 -bash///æŸ¥çœ‹è¿›ç¨‹å…³ç³»qianlongxu:~ qianlongxu$ ps -f UID PID PPID C STIME TTY TIME CMD 501 2987 2986 0 9:00ä¸Šåˆ ttys000 0:00.06 -bashqianlongxu:~ qianlongxu$ zshqianlongxu% qianlongxu% ps -f UID PID PPID C STIME TTY TIME CMD 501 2987 2986 0 9:00ä¸Šåˆ ttys000 0:00.07 -bash 501 3102 2987 0 9:04ä¸Šåˆ ttys000 0:00.03 zsh é‡å®šå‘ä½¿ç”¨é‡å®šå‘ï¼Œå¯ä»¥è½»æ¾çš„æä¾›è¾“å…¥ï¼Œæ”¹å˜è¾“å‡ºï¼› è¾“å‡ºé‡å®šå‘ï¼š â€œ&gt;â€ è¦†ç›–æ–‡æœ¬ 12345echo \"abc\" &gt; \"aa.txt\"echo \"abc\" &gt; \"aa.txt\"echo \"abc\" &gt; \"aa.txt\"//æŸ¥çœ‹ aa.txt æ–‡ä»¶ï¼Œå†…å®¹æ˜¯ï¼šabc â€œ&gt;&gt;â€ è¿½åŠ æ–‡æœ¬ 1234567echo \"abc\" &gt;&gt; \"aa.txt\"echo \"abc\" &gt;&gt; \"aa.txt\"echo \"abc\" &gt;&gt; \"aa.txt\"//æŸ¥çœ‹ aa.txt æ–‡ä»¶ï¼Œå†…å®¹æ˜¯ï¼šabcabcabc è¾“å…¥é‡å®šå‘ï¼š 1234///è¯»å– aa.txt æ–‡ä»¶çš„ç¬¬ä¸€è¡Œï¼Œç„¶åæ‰“å°read line &lt; aa.txt;echo $line///ç»“æœæ˜¯ï¼šabc ç®¡é“è¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ shell å‘½ä»¤ï¼Œå¯å°†è¾“å‡ºç»“æœä½œä¸ºå¦ä¸€ä¸ªç¨‹åºçš„è¾“å…¥ï¼Œç¬¦å· : â€œ|â€œ ï¼Œæ¯”å¦‚æŸ¥çœ‹å½“å‰ç›®å½•ï¼Œå¹¶ä¸”æŒ‰å­—æ¯é¡ºåºæ’åˆ—ï¼š 12345678910111213141516ls | sortApplicationsDesktopDocumentsDownloadsGitBookLibraryMoviesMusicPicturesPublicapache-tomcat-7.0.64bincstudycworkspace å¯ä»¥çœ‹å‡ºå…ˆæ’å¤§å†™å­—æ¯ï¼Œåæ’å°å†™å­—æ¯ï¼ŒåŸå› æ˜¯å¤§å†™å­—æ¯çš„ ASCLL æ¯”å°å†™çš„å°äº† 32ï¼Œå³ï¼šA + 32 = a ,A = 65. scp æœ¬æœºå¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨ æ–‡ä»¶ 1scp /Users/qianlongxu/Downloads/id_rsa.pub crown@10.7.40.176:~/id_rsa.pub æ–‡ä»¶å¤¹ 12//åœ¨è¿œç¨‹æœåŠ¡å™¨gameä¸‹åˆ›å»ºqr-codeï¼Œcopy qr-code ä¸‹çš„æ‰€æœ‰æ–‡ä»¶scp -r /Users/Shared/Jenkins/Home/xql/qr-code root@10.10.194.16:/opt/www/html/game ä»è¿œç¨‹æœåŠ¡å™¨ä¸‹è½½åˆ°æœ¬åœ° 12345scp jenkins@10.7.40.195:/Users/Shared/Jenkins/Home/workspace/hall-ios/builds/20180317/game56hall-inhouse.ipa ~/Desktop/game56hall-inhouse.ipa scp jenkins@10.7.40.195:/Users/Shared/Jenkins/Home/workspace/hall-android/build/jsb-default/frameworks/runtime-src/proj.android-studio/app/build/outputs/apk/release/app-release.apk ~/Desktop/app-release.apk ä¸‹è½½æ–‡ä»¶å¤¹åŠ ä¸Š -r å³å¯ï¼›å¯ä»¥çœ‹å‡º scp çš„ç¬¬ä¸€ä¸ªå‚æ•°å…¶å®å°±æ˜¯æºæ–‡ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ç›®çš„åœ°ï¼Œè¿™æ ·æ¯”è¾ƒå¥½è®°äº›ã€‚ ssh ç™»é™†è¿œç¨‹æœåŠ¡å™¨: 123ssh crown@10.7.40.176///è¾“å…¥å¯†ç sohuxxx å…å¯†ç ç™»å½• å¯ä»¥æŠŠå®¢æˆ·æœºçš„å…¬é’¥å¡«å……åˆ°è¿œç¨‹æ‰“åŒ…æœºå™¨ä¸Šçš„authorized_keysæ–‡ä»¶ä¸­ï¼Œå®ç°è‡ªåŠ¨éªŒè¯ï¼Œæ— éœ€æ³„éœ²æœåŠ¡å™¨å¯†ç  1234///å°†å…¬é’¥è¿½åŠ åˆ°è¿™ä¸ªæœåŠ¡å™¨~/.ssh/authorized_keysæ–‡ä»¶æœ«å°¾ ssh-copy-id -i jenkins@10.7.40.195///è¾“å…¥å¯†ç sohuxxx æ‰§è¡Œå‘½ä»¤ åˆ é™¤æ‰è¿œç¨‹æœåŠ¡å™¨æ¡Œé¢ä¸Šçš„ xx ç›®å½•ï¼š 12Remote_dir='~/Desktop/xx'ssh root@12.11.193.18 \"rm -rf $&#123;Remote_dir&#125;\" kill jekyll serveræˆ‘ä¿®æ”¹ Rakefile çš„æ—¶å€™ï¼Œä¿®æ”¹ä¸å½“å¯¼è‡´æ²¡èƒ½å¤„ç†INTï¼Œåæœå°±æ˜¯æˆ‘ä»¬æŒ‰ä¸‹ ctrl + c çš„æ—¶å€™æ²¡æœ‰å°†è¯¥å­çº¿ç¨‹æ€æ­»ï¼Œç„¶åå†æ¬¡å¯åŠ¨æœåŠ¡æ—¶å°±ä¼šæŠ¥é”™: 1jekyll 3.3.0 | Error: Address already in use - bind(2) for 127.0.0.1:4000 ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å°±éœ€è¦æ‰¾åˆ°å½“å‰å ç”¨ 4000 ç«¯å£çš„è¿›ç¨‹ï¼Œç„¶åå°†å…¶æ€æ­»ï¼›æ­¥éª¤æ˜¯ï¼š 123456# å…ˆæŸ¥ä¸‹å ç”¨ 4000 ç«¯å£çš„è¿›ç¨‹ idxuqianlong$ lsof -i tcp:4000COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAMEruby 49753 xuqianlong 10u IPv4 0xebc4350e453a6ff 0t0 TCP localhost:terabase (LISTEN)# ç„¶åæ€æ­»è¯¥è¿›ç¨‹xuqianlong$ kill 49753 curlåŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œå·¥å…·ï¼Œæ”¯æŒçš„åè®®ä¼—å¤šï¼ŒåŒ…æ‹¬ï¼šDICT, FILE, FTP, FTPS, GOPHER, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET, TFTPã€‚æœ€ç®€å•çš„æ˜¯ GET è¯·æ±‚ï¼š 1curl http://debugly.cn/dist/json/test.json ä½¿ç”¨ HEADER è¯·æ±‚ï¼Œä»…è¿”å› http å¤´éƒ¨ä¿¡æ¯ï¼š 12345678910111213141516171819202122curl -I http://debugly.cn/dist/json/test.jsonHTTP/1.1 200 OKServer: GitHub.comContent-Type: application/json; charset=utf-8Last-Modified: Thu, 03 Aug 2017 15:36:20 GMTAccess-Control-Allow-Origin: *Expires: Sat, 05 Aug 2017 08:58:43 GMTCache-Control: max-age=600X-GitHub-Request-Id: C99E:118EE:5EABC0:656C5C:5985866BContent-Length: 6257Accept-Ranges: bytesDate: Sat, 05 Aug 2017 08:51:00 GMTVia: 1.1 varnishAge: 136Connection: keep-aliveX-Served-By: cache-nrt6126-NRTX-Cache: HITX-Cache-Hits: 1X-Timer: S1501923060.014934,VS0,VE1Vary: Accept-EncodingX-Fastly-Request-ID: 0dc32470ef01fa9b0672d3d38edc904b9836debc è¿™ä¸ªæ–‡æ¡£æœ‰è¯¦ç»†çš„ä»‹ç»ï¼šhttps://curl.haxx.se/download.html chownæ›´æ–°è½¯ä»¶åŒ…çš„æ—¶å€™å¯èƒ½æ²¡æœ‰æƒé™ï¼Œéœ€è¦ä¿®æ”¹æƒé™ï¼Œå¯ä½¿ç”¨ chown ç»™ç”¨æˆ·æ·»åŠ  ownership æƒé™ï¼› sudo chown -R $(whoami) /usr/local 1234qianlongxu:myblog qianlongxu$ brew updateError: /usr/local is not writable. You should change the ownershipand permissions of /usr/local back to your user account: sudo chown -R $(whoami) /usr/local git git log 12345678910111213141516171819qianlongxu$ git log -3commit 8e8c188d3fc8c3b8937e213d3ae7bd45cdc55c69 (HEAD -&gt; source, origin/source)Author: qianlongxu &lt;qianlongxu@sohu-inc.com&gt;Date: Sat Mar 24 09:49:51 2018 +0800 add postcommit eb3e9419a4a6cc736808ac40b7cf2908b7998c56Merge: e851655 6755480Author: qianlongxu &lt;qianlongxu@sohu-inc.com&gt;Date: Sat Mar 24 09:49:08 2018 +0800 Merge branch 'source' of https://github.com/debugly/debugly.github.io into sourcecommit 67554800909e91430231da8c34887933a4160649Author: qianlongxu &lt;qianglongxu@home.mbp&gt;Date: Thu Mar 22 22:17:08 2018 +0800 add tag git log â€“date=format 12345678910111213141516171819qianlongxu$ git log --date=format:'%Y-%m-%d %H:%M:%S' -3commit 8e8c188d3fc8c3b8937e213d3ae7bd45cdc55c69 (HEAD -&gt; source, origin/source)Author: qianlongxu &lt;qianlongxu@sohu-inc.com&gt;Date: 2018-03-24 09:49:51 add postcommit eb3e9419a4a6cc736808ac40b7cf2908b7998c56Merge: e851655 6755480Author: qianlongxu &lt;qianlongxu@sohu-inc.com&gt;Date: 2018-03-24 09:49:08 Merge branch 'source' of https://github.com/debugly/debugly.github.io into sourcecommit 67554800909e91430231da8c34887933a4160649Author: qianlongxu &lt;qianglongxu@home.mbp&gt;Date: 2018-03-22 22:17:08 add tag git log â€“date=format 1234qianlongxu$ git log --date=format:'%a|%A|%b|%B|%c|%d|%H|%I|%j|%m|%M|%p|%S|%U|%w|%W|%x|%X|%y|%Y|%z' --pretty=format:'%cd' -3Sat|Saturday|Mar|March|Sat Mar 24 09:49:51 2018|24|09|09|083|03|49|AM|51|11|6|12|03/24/18|09:49:51|18|2018|+0800Sat|Saturday|Mar|March|Sat Mar 24 09:49:08 2018|24|09|09|083|03|49|AM|08|11|6|12|03/24/18|09:49:08|18|2018|+0800Thu|Thursday|Mar|March|Thu Mar 22 22:17:08 2018|22|22|10|081|03|17|PM|08|11|4|12|03/22/18|22:17:08|18|2018|+0800 git log â€“after 12345678910111213 qianlongxu$ git log --date=format:'%Y-%m-%d %H:%M:%S' --after='2018-03-23 20:44:06'commit 8e8c188d3fc8c3b8937e213d3ae7bd45cdc55c69 (HEAD -&gt; source, origin/source)Author: qianlongxu &lt;qianlongxu@sohu-inc.com&gt;Date: 2018-03-24 09:49:51 add postcommit eb3e9419a4a6cc736808ac40b7cf2908b7998c56Merge: e851655 6755480Author: qianlongxu &lt;qianlongxu@sohu-inc.com&gt;Date: 2018-03-24 09:49:08 Merge branch 'source' of https://github.com/debugly/debugly.github.io into source è·å–æœ€åä¸€æ¬¡æäº¤æ—¶é—´ç§’æ•°ï¼Œç„¶ååŠ 1 12last_commit_sec=$(git log --date=format:'%S' --pretty=format:'%cd' -1)last_commit_sec=`expr $last_commit_sec + 1` æŸ¥çœ‹æ­¤æ¬¡æ‹‰å–è¿œç¨‹ä¹‹åï¼Œéƒ½æœ‰å“ªäº›æäº¤è®°å½• 12345last_commit_datestamp=$(git log --date=raw --pretty=format:'%cd' -1)last_commit_date=$&#123;last_commit_datestamp% *&#125;last_commit_date=`expr $last_commit_date + 1`git pullgit log --date=format:'%Y-%m-%d %H:%M:%S' --pretty=format:'&lt;tr&gt;&lt;td&gt;%an&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%cd&lt;/td&gt;&lt;/tr&gt;' --after \"'$last_commit_date'\" -n 200 Git-åŸºç¡€-æŸ¥çœ‹æäº¤å†å² gitä¿®æ”¹user.nameå’Œuser.email 12345///æŸ¥çœ‹git config --list///ä¿®æ”¹git config --global user.name \"name\"git config --global user.email \"email\" git clone 123git clone -b $branch $repos $WORKSPACEgit branch --set-upstream-to=origin/$branch $branchgit submodule update --init --recursive du è·å–æ–‡ä»¶å¤§å° : IPA_Size=$(du -sm $IPA_Path | awk &#39;{print $1}&#39;) æ–‡ä»¶ï¼ˆå¤¹ï¼‰æ˜¯å¦å­˜åœ¨ æ–‡ä»¶æ˜¯å¦å­˜åœ¨ 123456if [ -f $last_commit_date_txt ];then last_commit_datestamp=$(cat $last_commit_date_txt) echo 'xql last_commit_datestamp:'$last_commit_datestamp last_commit_date=$&#123;last_commit_datestamp% *&#125; last_commit_date=`expr $last_commit_date + 1`fi æ–‡ä»¶å¤¹æ˜¯å¦å­˜åœ¨ 123if [ -d $last_commit_folder ];thenfi æ–‡ä»¶å†…å®¹æ˜¯å¦ä¸ºç©º 12345if [ `cat $commit_info_txt |wc -m` -eq 0 ];then echo 'file is empty.'else echo 'file is not empty!'fi iOS build å·è‡ªå¢123456789# info.plistè·¯å¾„project_infoplist_path=&quot;/proj.ios_mac/ios/game-inhouse.plist&quot;#å–ç‰ˆæœ¬å·appVersion=$(/usr/libexec/PlistBuddy -c &quot;print CFBundleShortVersionString&quot; &quot;$&#123;project_infoplist_path&#125;&quot;)#å–buildå·#buildNO=$(/usr/libexec/PlistBuddy -c &quot;print CFBundleVersion&quot; &quot;$&#123;project_infoplist_path&#125;&quot;)#åŠ 1buildNO=$(($buildNO+1))/usr/libexec/PlistBuddy -c &quot;Set :CFBundleVersion $BUILD_NUMBER&quot; &quot;$project_infoplist_path&quot; Shell å‚æ•°å«æœ‰ç©ºæ ¼12ps=\"xxx zzz\"./build.sh \"'$ps'\" Shell ç®—æœ¯è¿ç®—1234///ä½¿ç”¨ expr å¤–éƒ¨ç¨‹å¼a=12;b=19;result=`expr $a + $b` Shell å­—ç¬¦ä¸²æˆªå–123str=\"1234444 +8000\"///str1=\"1234444\"str1=$&#123;str% *&#125; https://www.cnblogs.com/zwgblog/p/6031256.html","categories":[],"tags":[{"name":"Script","slug":"Script","permalink":"http://debugly.cn/tags/Script/"}]},{"title":"åˆè¯† Liquid æ¨¡æ¿è¯­è¨€","slug":"2017/05/21-liquid","date":"2017-05-21T08:37:51.000Z","updated":"2018-03-27T14:45:15.692Z","comments":true,"path":"2017/05/21/2017/05/21-liquid.html","link":"","permalink":"http://debugly.cn/2017/05/21/2017/05/21-liquid.html","excerpt":"","text":"å»å¹´ 11 æœˆï¼Œæˆ‘å¼€å§‹ä½¿ç”¨ Jekyll æ­å»ºé™æ€åšå®¢ç³»ç»Ÿï¼Œç”±äºé»˜è®¤çš„ä¸»é¢˜è¿‡äºç®€é™‹ï¼Œå› æ­¤æˆ‘ä¸ºè‡ªå·±å®šåˆ¶äº†ä¸»é¢˜ï¼ŒJekyll ä½¿ç”¨ Liquid æ¨¡æ¿æ ‡è®°è¯­è¨€ä½œä¸ºæ¨¡æ¿å¼•æ“ï¼Œæ‰€ä»¥è¦å®šåˆ¶ä¸»é¢˜ï¼Œå°±ä¸å¾—ä¸å»å­¦ä¹ ä¸‹ Liquid è¿™ä¸ªæ ‡è®°è¯­è¨€ï¼Œå¦‚æœä½ ç‚¹è¿›å»çœ‹çš„è¯ï¼Œä½ ä¼šå‘ç°æˆ‘çš„ä¸»é¢˜è·Ÿè¿™ä¸ªæƒŠäººçš„ç›¸ä¼¼â€¦ æˆ‘æ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´å»å­¦ä¹ ï¼Œæˆ–è€…è¯´æˆ‘è§‰å¾—ä¹Ÿä¸éœ€è¦å»ç³»ç»Ÿçš„æŒæ¡ï¼Œç®€å•å…¥é—¨åï¼Œç”¨åˆ°å“ªé‡ŒæŸ¥å“ªé‡Œå°±è¡Œäº†ï¼Œå†™è¿™ç¯‡åšå®¢çš„ç›®çš„æ˜¯è®°å½•ä¸‹æˆ‘ç”¨è¿‡çš„è¯­æ³•ï¼Œæ–¹ä¾¿ä»¥åæŸ¥é˜…ã€‚ Liquid æ˜¯ä¸€é—¨æ ‡è®°è¯­è¨€ï¼Œæ‰€ä»¥ä¸è¦è·Ÿ Cï¼ŒJava è¿™äº›é«˜çº§è¯­è¨€ç›¸æ¯”ï¼Œå¥¹çš„åŠŸèƒ½æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä¸è¿‡å¥¹ä¹Ÿæœ‰è‡ªå·±çš„ç‰¹è‰²ï¼Œæ˜¯ Cï¼ŒJava è¿™äº›é«˜çº§è¯­è¨€æ‰€ä¸å…·å¤‡çš„ï¼Œå¾€ä¸‹çœ‹å§ï¼Œä½ ä¼šè§è¯†åˆ°çš„ï¼ åŸºç¡€è¯­æ³•Liquid ä»£ç å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼šå¯¹è±¡ï¼Œæ ‡è®°ï¼Œè¿‡æ»¤å™¨ï¼› 1ã€å¯¹è±¡ Objectå–å‡ºå¯¹è±¡çš„å€¼: 1&#123;&#123; page.title &#125;&#125; æ¯”å¦‚ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªæ¨¡æ¿é¡µé¢ï¼Œéœ€è¦æŠŠåšå®¢æ ‡é¢˜å½“åš HTML é¡µé¢çš„ titleï¼Œä¹Ÿå°±æ˜¯è¯´è¿™å—éœ€è¦åŠ¨æ€æ›¿æ¢ï¼Œåªéœ€è¿™ä¹ˆå†™ï¼š 1&lt;title&gt;&#123;&#123; page.title &#125;&#125;&lt;/title&gt; å½“ç”Ÿæˆ HTML é™æ€é¡µé¢æ—¶ï¼Œå°±ä¼šå–å‡ºåšå®¢é‡Œå®šä¹‰çš„ title å€¼ï¼Œç„¶åæ”¾åˆ° &lt;title&gt; æ ‡ç­¾é‡Œï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„æ¨¡æ¿ï¼ æ ‡è®°ç”¨æ¥å¤„ç†é€»è¾‘ï¼Œç»å¸¸ç”¨çš„æœ‰å£°æ˜å˜é‡ï¼ŒåŒ…å«æ–‡ä»¶ï¼Œif else åˆ†æ”¯è¯­å¥ï¼Œfor å¾ªç¯ç­‰ï¼›æ¯”å¦‚ï¼š 1234567&lt;title&gt; &#123;% if page.title %&#125; &#123;&#123; page.title &#125;&#125; &#123;% else %&#125; &#123;&#123; site.title &#125;&#125; &#123;% endif %&#125;&lt;/title&gt; è¿™äº›é€»è¾‘ä»£ç æ˜¯ä¸ä¼šæ˜¾ç¤ºåˆ°é¡µé¢ä¸Šçš„ï¼Œæœ€åå¾—åˆ°å°±æ˜¯å–å‡ºçš„å¯¹è±¡å€¼ã€‚ä¸‹é¢æ˜¯æˆ‘é¦–é¡µçš„ä»£ç ï¼Œæ„æ€æ˜¯å–æœ€è¿‘å‘å¸ƒçš„ 5 ç¯‡åšæ–‡ï¼š 1234567891011121314151617&#123;% for post in site.posts limit:5 %&#125; &lt;div id=\"post-li\"&gt; &lt;div class=\"cardheader\"&gt; ///æ–‡ç« æ ‡é¢˜ &lt;a href=\"&#123;&#123; post.url &#125;&#125;#0\"&gt; &#123;&#123; post.title &#125;&#125; &lt;/a&gt; &lt;/div&gt; &lt;div class=\"cardcontent\"&gt; &lt;span&gt;///æ–‡ç« ç®€ä»‹ï¼Œæœ€å¤š120å­— &#123;% if post.excerpt %&#125;&#123;&#123; post.excerpt | strip_html | strip_newlines | truncate: 120 &#125;&#125;&#123;% endif %&#125; &lt;/span&gt; &lt;/div&gt; &lt;div class=\"cardfooter\"&gt;///å‘å¸ƒæ—¥æœŸ &lt;span&gt; &#123;&#123; post.date | date: \"%mæœˆ%dæ—¥ %yå¹´\" &#125;&#125; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt;&#123;% endfor %&#125; å¯ä»¥å°†ç›¸åŒçš„é¡µé¢æŠ½å–å‡ºæ¥ï¼Œç„¶åä½¿ç”¨ include æ ‡è®°åŒ…å«ï¼Œæ¯”å¦‚é¦–é¡µåŒ…å«äº†å¯¼èˆªï¼š 1&#123;% include navigation.html %&#125; æœ‰çš„æ—¶å€™ï¼Œç¡®å®æ˜¯è¦æŒ‰ç…§ä½ å†™çš„åŸå°ä¸åŠ¨çš„è¾“å‡ºï¼Œè€Œä¸æ˜¯è®© Liquid å»å¤„ç†ï¼Œæ€ä¹ˆåŠï¼Ÿå¯ä»¥ä½¿ç”¨ raw æ ‡ç­¾è§£å†³ï¼Œå…¶å®ä¸Šé¢è¿™ä¸ª inlcude ä¾‹å­çš„ä»£ç å°±æ˜¯é€šè¿‡ raw æ ‡ç­¾å®ç°äº†ï¼Œå¦åˆ™ Liquid å°±çœŸçš„ä¼šå°†è¿™ä¸ªé¡µé¢å¯¼å…¥äº†ï¼æˆ‘æ˜¯è¿™ä¹ˆå†™çš„ï¼š 12345&lt;div class=\"language-html highlighter-rouge\"&gt;&lt;pre class=\"highlight\"&gt;&lt;code&gt;&amp;#123;&amp;#23;&amp;#37; raw &amp;#37;&amp;#125; &amp;#123;&amp;#37; include navigation.html &amp;#37;&amp;#125; &amp;#123;&amp;#37; endraw &amp;#37;&amp;#125;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt; å¦‚æœé™¤å»æ ·å¼çš„è¯ï¼Œè¿™å°±æ˜¯é¦–é¡µåšå®¢åˆ—è¡¨çš„å…¨éƒ¨æ ¸å¿ƒä»£ç äº†ï¼Œæ€ä¹ˆæ ·ç®€å•å§ï¼ 3ã€è¿‡æ»¤å™¨ Filterå…¶å®ä¸Šé¢å·²ç»ç”¨åˆ°äº†è¿‡æ»¤å™¨äº†ï¼Œä¸å¾—ä¸è¯´ç¡®å®å¾ˆå¼ºå¤§ï¼Œæœ‰ç‚¹ Shell ç®¡é“çš„æ„æ€ï¼Œè¿ç¬¦å·ä¹Ÿå’Œç®¡é“ä¸€æ · â€œ|â€œ ï¼Œå…¶ä½œç”¨æ˜¯å°†å¯¹è±¡çš„å€¼åœ¨è¾“å‡ºä¹‹å‰åšä¸ªå¤„ç†ï¼Œå¹¶ä¸”å¯ä»¥è¿ç»­ä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨ï¼Œä»å·¦åˆ°å³ä¸€ä¸ªä¸ªçš„å¤„ç†ï¼æ¯”å¦‚ï¼š 12//å°†æ—¥æœŸå¯¹è±¡è¿›è¡Œæ ¼å¼åŒ–åå†è¾“å‡ºï¼š05æœˆ21æ—¥ 17å¹´&#123;&#123; post.date | date: \"%mæœˆ%dæ—¥ %yå¹´\" &#125;&#125; è¿™å°±æ˜¯æœ€åŸºç¡€çš„è¯­æ³•äº†ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°±å¯ä»¥å¼€å§‹å†™æ¨¡æ¿äº†ï¼Œç°åœ¨çœ‹ä¸‹æˆ‘çš„å½’æ¡£é¡µé¢æ ¸å¿ƒä»£ç å§ï¼š 123456789101112131415161718192021222324252627282930//ä½¿ç”¨ assign æ ‡è®°ï¼Œç»™å˜é‡èµ‹å€¼ï¼Œå˜é‡æ²¡æœ‰å…·ä½“ç±»å‹ï¼Œè·Ÿjsä¸€ä¸ªæ ·&#123;% assign year = false %&#125;//éå†æ‰€æœ‰æ–‡ç« &#123;% for post in site.posts %&#125; //å–å‡ºè¿™ç¯‡æ–‡ç« çš„å‘è¡¨æ—¶é—´ï¼Œä½¿ç”¨è¿‡æ»¤å™¨è·å¾—å¹´ä»½ï¼Œæ¯”å¦‚ï¼š2017 &#123;% assign pyear = post.date | date:'%Y' %&#125; //å¦‚æœå’Œå¤–é¢é‚£ä¸ªyearå˜é‡ä¸ç›¸ç­‰ï¼Œåˆ™å°†æ”¹å¹´ä»½æ˜¾ç¤ºä¸ºæ ‡é¢˜ï¼Œå¹¶ä¸”é‡æ–°è®°å½•è¯¥å¹´ä»½ï¼Œç›´åˆ°å‡ºç°åˆ«çš„å¹´ä»½æ—¶å†æ¬¡æ˜¾ç¤ºä¸ºæ ‡é¢˜ï¼Œé‡æ–°èµ‹å€¼ï¼Œä¸€ç›´é‡å¤è¿™ä¸ªé€»è¾‘ &#123;% if pyear != year %&#125; &#123;% assign year = pyear %&#125; &lt;h1 class=\"year p-header\"&gt; &#123;&#123;year&#125;&#125; å¹´&lt;/h1&gt; &#123;% endif %&#125; &lt;ul class=\"post-list\"&gt; &lt;li&gt; &lt;div class=\"row\" &gt; //æ˜¾ç¤ºè¯¥æ–‡ç« çš„æ ‡é¢˜å’Œæ—¶é—´ &lt;div class=\"col-md-2\"&gt; &lt;span class=\"meta-date\"&gt;&#123;&#123; post.date | date:\"%mæœˆ%dæ—¥\"&#125;&#125;&lt;/span&gt; &lt;/div&gt; &lt;div class=\"col-md-10\"&gt; &lt;a class=\"meta-title\" href=\"&#123;&#123; post.url &#125;&#125;#1\"&gt;&#123;&#123; post.title &#125;&#125;&lt;/a&gt; //éå†è¯¥æ–‡ç« çš„æ‰€å±çš„åˆ†ç±»ï¼Œä¸€ä¸€æ˜¾ç¤ºå‡ºæ¥ &#123;% for category in post.categories %&#125; //ç‚¹å‡»åˆ†ç±»è¿›å…¥è¯¥ç±»çš„åˆ—è¡¨é¡µé¢ï¼Œurl_encodeä½œç”¨æ˜¯è¿›è¡Œurlç¼–ç è¿™ä¸ªåœ°å€ &lt;a class=\"meta-category\" href=\"/categories/&#123;&#123; category | url_encode &#125;&#125;/index.html\"&gt;[&#123;&#123; category &#125;&#125;]&lt;/a&gt; &#123;% endfor %&#125; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;/ul&gt;&#123;% endfor %&#125; å¸¸ç”¨è¿‡æ»¤å™¨æ±‡æ€»ï¼š date : æ ¼å¼åŒ–æ—¥æœŸ first : å–æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´  last : å–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´  sort : å¯¹æ•°ç»„å…ƒç´ æ’åº size : å­—ç¬¦ä¸²ã€æ•°ç»„çš„é•¿åº¦ url_encode : url ç¼–ç å­—ç¬¦ä¸² minus : åšå‡æ³•è¿ç®—ï¼Œåœ¨è®¡ç®—ä¸¤ä¸ªæ—¥æœŸé—´éš”æ—¶ï¼Œæˆ‘ä½¿ç”¨è¿‡ strip : å»æ‰å‰åç©ºæ ¼ï¼Œtabsï¼Œæ¢è¡Œ more filters Jekyll å†…ç½®å¯¹è±¡å­¦ä¹ äº†è¿™å‡ ä¸ªæ¡ˆä¾‹ä¹‹åï¼Œæ˜¯ä¸æ˜¯å°±å¯ä»¥å¼€å§‹å†™è‡ªå·±çš„æ¨¡æ¿äº†ï¼ŒæŒ‰ç†æ¥è¯´æ˜¯çš„ï¼Œå› ä¸ºä½ å·²ç»å…¥é—¨äº†ï¼Œä½†æ˜¯ç°åœ¨è¿˜æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚ä½•çŸ¥é“å¯ä½¿ç”¨å“ªäº› Liquid å¯¹è±¡å‘¢ï¼Ÿä»¥ä¸Šæ¡ˆä¾‹ä¸­çš„ post.title , site.posts , post.categories å¯¹è±¡éƒ½æ˜¯å“ªé‡Œæ¥çš„ï¼Ÿ è¿™ä¸ªé—®é¢˜å¯ä»¥åœ¨ Jekyll çš„å®˜ç½‘æ‰¾åˆ°ç­”æ¡ˆï¼šLiquid Variablesï¼ŒJekyll å·²ç»ä¸ºä½ å†…ç½®äº†å¾ˆå¤šå¯¹è±¡äº†ï¼Œä½ å¯ä»¥å»æŸ¥è¯¢ã€‚æˆ‘åˆ—ä¸¾ä¸‹æˆ‘çš„åšå®¢ç”¨åˆ°çš„å¯¹è±¡ï¼Œæ–¹ä¾¿è¯»è€…å¿«é€Ÿçš„ä¸Šæ‰‹ï¼š site å¯¹è±¡ : æ•´ä¸ªç«™ç‚¹æŠ½è±¡å‡ºæ¥çš„å¯¹è±¡ categories å±æ€§ï¼Œæ•´ä¸ªç«™ç‚¹çš„æ‰€æœ‰åˆ†ç±»[category] æ¯ä¸ªåˆ†ç±»categoryæ˜¯ä¸ªæ•°ç»„[name,posts]ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è¯¥åˆ†ç±»çš„åç§°ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯æ‰€æœ‰å±äºè¯¥åˆ†ç±»çš„æ–‡ç« ï¼Œå¯ä»¥é€šè¿‡ firstã€last è¿‡æ»¤å™¨å¿«é€Ÿçš„å–å‡ºæ¥ posts å±æ€§ï¼Œæ•´ä¸ªç«™ç‚¹çš„æ‰€æœ‰æ–‡ç« [post] post å¯¹è±¡ : å¯¹åº”ä¸€ç¯‡åšå®¢ date : å‘å¸ƒæ—¥æœŸï¼Œå¸¸ç”¨è¿‡æ»¤å™¨ : date:â€%yå¹´%mæœˆ%dæ—¥â€ title : åšå®¢æ ‡é¢˜ excerpt : ç®€ä»‹ page å¯¹è±¡ : ä»£è¡¨å½“å‰é¡µé¢ date : é¡µé¢å¯¹åº”åšå®¢çš„å‘å¸ƒæ—¥æœŸ previous : è¯¥ç¯‡æ–‡ç« çš„ä¸Šä¸€ç¯‡åšå®¢ title : æ ‡é¢˜ url : åœ°å€ next : title : æ ‡é¢˜ url : åœ°å€ content å¯¹è±¡ : æ–‡ç« çš„å†…å®¹ï¼Œè§£æåçš„HTMLï¼Œå¹¶é Markdown å“¦ é—®ï¼špost å’Œ page å¯¹è±¡çš„å±æ€§å·®ä¸å¤šï¼Œè¯¥å¦‚ä½•é€‰æ‹© ï¼Ÿæˆ‘æœ€åˆä¹Ÿæœ‰äº›ç³Šæ¶‚ï¼Œå·²ç»æœ‰ post å¯¹è±¡äº†ï¼Œå¹²å˜›è¿˜æä¸ª page å¯¹åƒå‘¢ï¼Ÿå…¶å®æ˜¯è¿™æ ·çš„ï¼Œpost æ˜¯ site çš„å±æ€§ï¼Œæƒ³è¦è·å– post å¿…é¡»è¦é€šè¿‡ site å¯¹è±¡ï¼å½“å†™ä¸€ä¸ªå½’æ¡£é¡µé¢ï¼Œæˆ–è€…åˆ†ç±»é¡µé¢æ¨¡æ¿æ—¶éå¸¸æœ‰ç”¨ï¼ä½†æ˜¯å½“ä½ å†™åšå®¢æ­£æ–‡çš„æ¨¡æ¿æ—¶ï¼Œè¿˜ä½¿ç”¨postå¯¹è±¡çš„è¯ï¼Œå°±æ˜¾å¾—å¾ˆè´¹åŠ²äº†ï¼Œä½ å¯èƒ½éƒ½ä¸çŸ¥é“è¯¥æ€ä¹ˆä» posts æ•°ç»„é‡Œè·å–åˆ°å½“å‰åšå®¢å¯¹åº”çš„ â€˜postâ€™ ï¼å› æ­¤ï¼Œè¿™æ—¶å°±æ˜¯ page å¯¹è±¡å±•ç°é­…åŠ›çš„å¤§å¥½æ—¶åˆ»ï¼Œpage å¯¹è±¡å°±æ˜¯å½“å‰é¡µé¢çš„æŠ½è±¡ï¼Œä½ å¯ä»¥è½»æ¾åœ°è·å–åˆ°æ ‡é¢˜ï¼Œæ—¶é—´ç­‰ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜èƒ½è·å–åˆ°å‰ä¸€é¡µå’Œåä¸€é¡µå‘¢ï¼ å­¦ä¹ åœ°å€: shopify.github.io liquid.bootcss.com å®ŒLiquid æ ‡è®°è¯­è¨€çš„ä½¿ç”¨æ–¹æ³•ï¼ŒJekyll å†…ç½®å¯¹è±¡å°±å…ˆä»‹ç»åˆ°è¿™é‡Œï¼Œæ¥ä¸‹æ¥ä½ å¯ä»¥å°è¯•å»å†™å±äºè‡ªå·±çš„åšå®¢æ¨¡æ¿äº†ï¼Œæœ‰é—®é¢˜çš„è¯ï¼Œå¯ä»¥ç•™è¨€äº¤æµï¼","categories":[],"tags":[{"name":"Script","slug":"Script","permalink":"http://debugly.cn/tags/Script/"}]},{"title":"ä½¿ç”¨ WorkSpace ç®¡ç†å…±äº«ä»£ç ","slug":"2017/05/19-use-workspace-share-code","date":"2017-05-19T14:47:32.000Z","updated":"2018-03-27T14:45:15.692Z","comments":true,"path":"2017/05/19/2017/05/19-use-workspace-share-code.html","link":"","permalink":"http://debugly.cn/2017/05/19/2017/05/19-use-workspace-share-code.html","excerpt":"","text":"åœ¨ä¸Šç¯‡åšå®¢ä¸­æåˆ°å¯ä»¥æŠŠé€šç”¨ä»£ç æ‰“æˆé™æ€åº“ï¼Œç„¶åå¤šä¸ªé¡¹ç›®å¯ä½¿ç”¨å¤šä¸ª Framework åŒ…è£¹è¿™äº›é™æ€åº“çš„æ–¹å¼å…±äº«é€šç”¨ä»£ç ï¼Œè¯¦è§æœ€åçš„æ€ç»´å¯¼å›¾ï¼è¿™ä¸ªæ–¹æ¡ˆçš„ç¡®æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯åªç”¨äº†ä¸¤å¤©å°±è¢«å¹²æ‰äº†ï¼åŸå› æ˜¯å¤ªä¸æ–¹ä¾¿äº†ï¼ç¨‹åºåˆšå¥½å´©æºƒåˆ°æ‰“åˆ°é™æ€åº“ä¸­çš„æ–¹æ³•äº†ï¼Œæ²¡æ³•ææ–­ç‚¹å»ä¸€æ­¥æ­¥ debug ï¼Œé™ä½äº†å¼€å‘çš„æ•ˆç‡ï¼è¿™ç§æ–¹æ¡ˆä¹Ÿä¸æ˜¯å®Œå…¨æ²¡æœ‰ç”¨æ­¦ä¹‹åœ°ï¼Œæ¯”å¦‚ç°åœ¨æœ‰å‡ å’Œåå°å•†è®®å¥½çš„åŠ å¯†ç®—æ³•ï¼Œä¸€èˆ¬ä¸éœ€è¦äººäººéƒ½çŸ¥é“ï¼Œçœå¾—æ³„æ¼å‡ºå»ï¼Œè¿™æ—¶å°±å¯ä»¥æŠŠåŠ å¯†ç®—æ³•æ‰“æˆåº“ï¼Œç„¶åéœ€è¦ç”¨çš„æ—¶å€™æŠŠåº“åŠ åˆ°è‡ªå·±çš„ Framework é‡Œå°±è¡Œäº†ï¼ å› æ­¤éœ€è¦ç»§ç»­æ‘¸ç´¢å…±äº«ä»£ç çš„æ–¹å¼ï¼Œæ—¢è¦æ»¡è¶³éœ€æ±‚ï¼Œåˆè¦æ–¹ä¾¿è°ƒè¯•ï¼æ–¹ä¾¿è°ƒè¯•çš„è¯æ²¡åŠæ³•ï¼Œåªèƒ½å¼€æ”¾æºç äº†ï¼Œæ‰€ä»¥æˆ‘æƒ³åˆ°äº† Workspace ï¼Œå…¶å®æˆ‘æ—©è¯¥æƒ³åˆ°çš„ï¼Œä¸çŸ¥é“ä¸ºä½•æˆ‘å…ˆæƒ³åˆ°çš„æ˜¯ä½¿ç”¨ Framework åŒ…è£¹ é™æ€åº“çš„æ–¹å¼ï¼ŒæŒ‰é“ç†æˆ‘åº”è¯¥å…ˆæƒ³åˆ°ä½¿ç”¨ Workspace å…±äº«æ‰å¯¹ï¼Œå› ä¸ºä»ä¸€å¼€å§‹æˆ‘å°±æ˜¯ä½¿ç”¨ Workspace ç®¡ç†çš„å·¥ç¨‹ï¼ ç®€å•è¯´ä¸‹ Workspace å’Œ Project çš„å…³ç³»ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸€ä¸ªé¡¹ç›®å¯¹åº”ä¸€ä¸ªå·¥ç¨‹ï¼ˆProject)ï¼Œæœ‰æ—¶å€™ä¸ºäº†æ–¹ä¾¿ç®¡ç†å°±æŠŠå‡ ä¸ªå·¥ç¨‹éƒ½æ”¾åœ¨ä¸€èµ·ï¼Œè¿™æ—¶å°±è¦ä½¿ç”¨ Workspace äº†ï¼Œå› ä¸ºè¿™æ˜¯ Project æ˜¯å¹³çº§çš„å…³ç³»ï¼Œä¸æ˜¯åŒ…å«çš„å…³ç³»ï¼Œå½“ç„¶ Project ä¹Ÿå¯ä»¥åŒ…å«ï¼Œä»Šå¤©ä¸è¯´åŒ…å«çš„äº‹å“ˆï¼Œæ—¢ç„¶æ˜¯å¹³çº§çš„ï¼Œé‚£æ€»å¾—æ¥ä¸ªç®¡äº‹çš„å§ï¼Œè¿™å°±æ˜¯ä»Šå¤©çš„ä¸»è§’â€” Workspace ï¼è¯´å¾—ç›´ç™½äº›å°±æ˜¯å¥¹ç®¡ç†äº† N ä¸ª Project ï¼Œå®è´¨ä¸Šå°±æ˜¯è®°å½•äº† Project çš„ç´¢å¼•è€Œå·²ï¼Œæœ€å¸¸è§çš„æ˜¯ä½¿ç”¨ Pods çš„å·¥ç¨‹ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª Workspaceï¼ŒåŒ…å«äº†åŸæ¥çš„ Project å’Œ åä¸º Pods çš„ Project ï¼ æ€è€ƒæ˜¯æœ‰å±€é™æ€§çš„ï¼Œæˆ–è€…è¯´ä¹‹å‰çš„è€ƒè™‘æ˜¯é™·å…¥äº†ä¸€ä¸ªèƒ¡åŒé‡Œäº†ï¼Œè§‰å¾—ææˆé™æ€åº“åè€…æ¡†æ¶æ‰èƒ½å…±äº«ï¼Œå…¶å®ä¸ç”¨ï¼Œæ¯”å¦‚ç°åœ¨çš„å·¥ç¨‹ç›®å½•ç»“æ„æ˜¯è¿™æ ·çš„ï¼š workspace projectA libCC projectB å…¶å® B å·¥ç¨‹æ˜¯å¯ä»¥ç›´æ¥æ·»åŠ  A å·¥ç¨‹é‡Œçš„ä»£ç çš„ï¼Œå¯¹äº B è€Œè¨€å°±æŠŠ projectA å½“åšä¸€ä¸ªæ–‡ä»¶å¤¹å°±å¥½äº†ï¼Œä¸è¦è€ƒè™‘å¤ªå¤šï¼ŒåŠ å…¥çš„æ—¶å€™ä¸è¦é€‰æ‹© copy å°±è¡Œäº†ï¼Œè¿™æ ·å…¶å®å°±æ˜¯å…±äº«äº†ï¼ä¸ºäº†å‡¸æ˜¾ libCC æ˜¯é€šç”¨çš„ï¼Œå› æ­¤æˆ‘ä»¬æ•´ç†ä¸‹å·¥ç¨‹ç›®å½•ï¼š workspace libCC projectA projectB è¿™æ ·ä»ç»“æ„ä¸Šå°±èƒ½ä¸€ç›®äº†ç„¶äº†ï¼Œæ¥ä¸‹æ¥ A ã€B éƒ½æ·»åŠ ä¸‹ libCC åˆ°å·¥ç¨‹ï¼Œéƒ½ä¸è¦ copy !!! å³åªæ·»åŠ å¼•ç”¨ï¼Œæ–‡ä»¶ä»æ—§åœ¨ libCC ç›®å½•ï¼›ç”±äºå®ä½“æ–‡ä»¶ä»åœ¨ libCC é‡Œé¢ï¼Œæ‰€ä»¥æ— è®º A ã€B è°ä¿®æ”¹äº†æºç ï¼Œå¯¹æ–¹éƒ½å¯ä»¥ç«‹é©¬æ›´æ–°ï¼Œå¦‚æœæ·»åŠ æ–°çš„æ–‡ä»¶ï¼Œåˆ™éœ€è¦å†æ¬¡æ·»åŠ ä¸‹å“¦ï¼ libCC å¯ä»¥åˆ° Workspace é‡Œå’Œ Aã€B åŒçº§ï¼Œä¹Ÿå¯ä»¥ä¸æ·»åŠ ï¼Œæˆ‘å°±æ²¡æ·»åŠ ï¼Œæ„Ÿè§‰æ˜¯å¤šä½™çš„ï¼Œå› ä¸ºæ²¡å…¶ä»–çš„ç”¨é€”ï¼Œä¸ä¼šå› ä¸ºæ²¡æœ‰åœ¨ Workspace é‡Œæ·»åŠ ç´¢å¼•å°±å¯¼è‡´ Aã€Bæ‰¾ä¸åˆ° libCC äº†ã€‚ å…¶å®ï¼Œå…±äº« libCC è·Ÿ Workspace æ²¡å¤šå¤§å…³ç³»ï¼Œåªä¸è¿‡ Aã€B æ˜¯ ç”± Workspace ç®¡ç†çš„ï¼Œå¦‚æœä½ ä¸ç”¨ Workspace çš„è¯ï¼Œç›´æ¥åˆ›å»ºä¸ª libCC çš„æ–‡ä»¶å¤¹ä¹Ÿèƒ½å…±äº«ï¼Œåªè¦ä¸ copy å°±è¡Œäº†ï¼è¿™æ‰æ˜¯é‡ç‚¹ï¼ï¼ æ¯”èµ·åŒ…è£¹é™æ€åº“è€Œè¨€ï¼Œè¿™ç§æ–¹å¼æ‰æ˜¯æˆ‘æƒ³è¦çš„å‘¢ï¼","categories":[],"tags":[{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"ä½¿ç”¨ Framework åŒ…è£¹é™æ€åº“å…±äº«ä»£ç ","slug":"2017/05/17-sharecode-framework-wrap-static-library","date":"2017-05-17T14:19:28.000Z","updated":"2018-03-27T14:45:15.692Z","comments":true,"path":"2017/05/17/2017/05/17-sharecode-framework-wrap-static-library.html","link":"","permalink":"http://debugly.cn/2017/05/17/2017/05/17-sharecode-framework-wrap-static-library.html","excerpt":"","text":"æ­£å¦‚ä¸Šç¯‡åšå®¢ä»‹ç»çš„ï¼Œæå–å…¬å…± Framework ç¡®å®èƒ½å¤Ÿè®©å¤šä¸ª SDK å…±äº«åŸºç¡€ä»£ç  ï¼è¿™æ¯‹åº¸ç½®ç–‘ï¼Œæˆ‘ä»¬å·²ç»å®è·µäº†å¥½å‡ ä¸ªé¡¹ç›®äº†ï¼Œä½†æ˜¯éšç€ä¸šåŠ¡çš„å‘å±•ï¼Œå‘ç°è¿™ä¸ªç²’åº¦æœ‰æ—¶è¿˜ä¸å¤Ÿç»†ï¼Œæ¢å¥è¯è¯´ SCF åŒ…å«çš„ä¸œè¥¿å¤šäº†äº›ï¼Œå¯¹äºæŸäº›é¡¹ç›®è€Œè¨€ä¸éœ€è¦ç”¨è¿™ä¹ˆå¤šçš„åŠŸèƒ½ï¼ŒSCF æ˜¾å¾—æœ‰äº›è‡ƒè‚¿äº†ï¼Œè¿™è¦æ€ä¹ˆåŠï¼Ÿ èƒŒæ™¯å»å¹´çš„è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘æ¥åˆ°äº†è¿™ä¸ªå›¢é˜Ÿä¹‹åï¼Œå¼€å§‹åšåƒå¸†ç›´æ’­ SDK ï¼Œç»è¿‡ä¸€å¹´çš„æ—¶é—´å·²ç»è¿­ä»£åˆ°äº†çº¿ä¸Š 2.4 ç‰ˆæœ¬ï¼Œè€Œç°åœ¨æˆ‘åˆæ¥åˆ°ä»»åŠ¡åšå¼€æ”¾å¹³å°çš„ç‚¹æ’­ SDKï¼Œä¸”ç§°ä¹‹ä¸º SohuVideoFoundationã€‚è¿™åªæ˜¯ä¸ªå·§åˆï¼Œä½†æ—¶é—´ä¸Šçš„é‡åˆæŒºæœ‰è¶£çš„ã€‚ å‡†å¤‡å¼€æå¼€å§‹åšä¹‹å‰ï¼Œæˆ‘éƒ½ä¼šå»æ€è€ƒä¸‹æ¶æ„ä¸Šçš„é—®é¢˜ï¼Œè¿™æ¬¡åˆé‡åˆ°äº†æ–°çš„é—®é¢˜äº†ï¼š SohuVideoFoundation æ˜¯éœ€è¦å¯¹å¤–å…¬å¼€çš„ï¼Œç›®å‰åªéœ€è¦ç”¨åˆ°ç½‘ç»œåº“ï¼Œè§£æåº“ï¼Œè¿™äº›åº“å·²ç»åŒ…å«åœ¨ SCF é‡Œäº†ï¼Œä¸è¿‡ SCF æä¾›çš„åŠŸèƒ½ä¸æ­¢è¿™äº›ï¼Œæ‰€ä»¥åŒ…çš„ä½“ç§¯è‡ªç„¶ä¼šå¤§äº›ï¼Œæ—¢ç„¶æ˜¯å¯¹å¤–å…¬å¼€ï¼Œé‚£å°±ä»£è¡¨çš„æ˜¯å…¬å¸çš„æŠ€æœ¯æ°´å¹³ï¼Œé€¼æ ¼è‡ªç„¶è¦æå‡ä¸Šå»ï¼Œæˆ‘ä¸ç¦å¿ƒé‡Œä¸€é¢¤ï¼Œå› ä¸ºæˆ‘æ˜¯ç¬¬ä¸€æ¬¡å¯¹å¤–å»åšï¼Œä¹‹å‰é¢å‘çš„éƒ½æ˜¯å…¬å¸çš„å…„å¼Ÿéƒ¨é—¨ï¼Œè¾ƒä¸ºç†Ÿæ‚‰ï¼ åŸºäºä»¥ä¸Šçš„é¡¾è™‘ï¼Œå› æ­¤æˆ‘å†³å®š SohuVideoFoundation ä¸ä¾èµ– SCF ï¼Œä½†æ˜¯å¦‚ä½•å…±äº«ç½‘ç»œåº“å’Œè§£æåº“å‘¢ï¼Ÿè¿™æ˜¯ä¸ªæ–°çš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸æ„¿æ„å» copy ä»£ç ï¼Œå› ä¸ºæ—¥åéš¾ä»¥ç»´æŠ¤ï¼Œç»™ä»£ç å‡çº§å¸¦æ¥éº»çƒ¦ï¼ ä¸ºäº†æ–¹ä¾¿ï¼Œä»¥ä¸‹å°† SohuVideoFoundation ç®€ç§°ä¸º SVF ã€‚ å¯»æ‰¾æ–¹æ¡ˆæˆ‘æœ€åˆçš„è®¾æƒ³æ˜¯ï¼Œå°†ç½‘ç»œåº“æ‰“æˆ Framework ï¼Œç„¶ååˆ†åˆ«åŒ…å«åˆ° SCF å’Œ SVF é‡Œï¼Œç»“æœæˆ‘å¤±è´¥äº†ï¼Œå¾—å‡ºçš„ç»“è®ºæ˜¯ï¼š A.Framework ä¸èƒ½åŒ…è£¹ B.Framework ï¼Œå³ä¸èƒ½æŠŠ B çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸€å¹¶æ‰“ A é‡Œé¢ï¼Œæˆ–è€…è¯´ä¸èƒ½åµŒå¥—ã€‚ å¦‚æœæœ‰åŠæ³•çš„è¯ï¼Œè¯·è”ç³»æˆ‘ï¼Œè°¢è°¢ï¼ ç„¶åæˆ‘å°±è½¬å‘äº†ä½¿ç”¨é™æ€åº“çš„æ–¹æ¡ˆï¼Œæˆ‘å°†ç½‘ç»œåº“æ‰“æˆäº†é™æ€åº“ï¼Œç„¶ååˆ†åˆ«åŒ…å«åˆ° SCF å’Œ SVF é‡Œï¼Œç»“æœæˆ‘æˆåŠŸäº†ï¼Œå¾—å‡ºçš„ç»“è®ºæ˜¯ï¼š A.Framework èƒ½åŒ…è£¹ B.a ï¼Œèƒ½æŠŠ B çš„å¯æ‰§è¡Œæ–‡ä»¶ä¸€å¹¶æ‰“ A é‡Œé¢ï¼Œæˆ–è€…è¯´ Framworkå¯ä»¥åŒ…è£¹é™æ€åº“ã€‚è¿˜è®°å¾—ä¸Šä¸€ç¯‡åšå®¢çš„æ€»ç»“å—ï¼Ÿï¼ˆFramworkåŒ…è£¹é™æ€åº“æ—¶ï¼Œä¹Ÿå¯ä»¥ä¸copyå¯æ‰§è¡Œæ–‡ä»¶ï¼ï¼‰ æ‰€ä»¥ï¼Œæœ€ç»ˆçš„æ–¹æ¡ˆå°±æ˜¯ï¼šå°†éœ€è¦åœ¨ Framework ä¹‹é—´å…±äº«çš„ä»£ç æ‰“æˆé™æ€åº“ï¼Œç„¶å Framework åŒ…è£¹è¯¥é™æ€åº“ï¼ æ€ç»´å¯¼å›¾è¿™æ˜¯è°ƒæ•´åçš„å·¥ç¨‹æ¡†æ¶ç»“æ„å›¾ï¼š è§£é‡Šï¼š SCNetworkKit.a : æœ€åº•å±‚çš„å…±äº«ç½‘ç»œåº“ SohuVideoFoundation.framework : å¼€æ”¾å¹³å°çš„æ’­æ”¾å™¨ SDK ï¼ŒåŒ…è£¹äº† SCNetworkKit SohuCoreFoundation.framework : å…±äº«æ¡†æ¶ï¼ŒåŒ…è£¹äº† SCNetworkKit ä¸ºä»¥ä¸‹å‡ ä¸ª SDK æä¾›æœåŠ¡ SohuLiveSDK.framework : åƒå¸†ç›´æ’­SDK ï¼ŒåŸºäº SCF SohuOneSDK.framework : åƒå¸†å¤ºå®SDK ï¼ŒåŸºäº SCF SohuGameSDK.framework : åƒå¸†å°æ¸¸æˆSDK ï¼ŒåŸºäº SCF SohuEduSDK.framework : æœç‹è¯¾å ‚SDK ï¼ŒåŸºäº SCF å®Œåˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„ç›®çš„å·²ç»è¾¾åˆ°äº†ï¼Œæ€ä¹ˆæ ·ï¼Ÿæ˜¯ä¸æ˜¯æ„Ÿè§‰åš SDK è¶Šæ¥è¶Šæœ‰æ„æ€äº†å‘¢ï¼Ÿå‡ ä¹æ¯åšä¸€ä¸ªé¡¹ç›®éƒ½ä¼šå¼•å‘ä¸€æ¬¡å¯¹å·¥ç¨‹çš„ç»“æ„çš„å˜é©ï¼Œè¿™äº›å˜é©ä¹Ÿæ­£æ˜¯ä¸€æ¬¡çš„å°è¯•ä¸æ€è€ƒçš„æˆæœï¼","categories":[],"tags":[{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"ä½¿ç”¨ Framewrok ç®¡ç†å…±äº«ä»£ç ","slug":"2017/05/16-sharecode-use-framework","date":"2017-05-16T11:43:28.000Z","updated":"2018-03-27T14:45:15.691Z","comments":true,"path":"2017/05/16/2017/05/16-sharecode-use-framework.html","link":"","permalink":"http://debugly.cn/2017/05/16/2017/05/16-sharecode-use-framework.html","excerpt":"","text":"è¿™ä¸æ˜¯ä¸€ç¯‡è®²è§£å¦‚ä½•ä½¿ç”¨ Xcode åˆ›å»º Framework çš„æ•™ç¨‹ï¼Œè€Œæ˜¯ä»£ç å…±äº«çš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼ èƒŒæ™¯ä»Šå¹´ 2 æœˆåˆšè¿­ä»£å®Œåƒå¸†ç›´æ’­ SDK ä¹‹åï¼Œæˆ‘ä»¬å¯åŠ¨äº† å¤ºå®SDK çš„å¼€å‘å·¥ä½œï¼Œé™¤äº†å¸¸è§„çš„äº§å“éœ€æ±‚å¤–ï¼Œæœ‰ä¸ªç‰¹æ®Šçš„è¦æ±‚ï¼š ä½œä¸ºåƒå¸†ç›´æ’­ SDK çš„ç»„æˆéƒ¨åˆ†ï¼ˆé›†æˆåˆ°æœç‹è§†é¢‘ï¼‰ å•ç‹¬æä¾›ç»™åƒå¸†ç›´æ’­ App æ€è€ƒå¬èµ·æ¥æŒºç®€å•çš„ï¼Œä»”ç»†è€ƒè™‘åï¼Œå¹¶ä¸ç®€å•ï¼ŒåŸå› å¦‚ä¸‹ï¼š æ—¶é—´æœ‰é™ï¼Œä¸å¯èƒ½é‡å¤é€ è½®å­ï¼Œæ‰€ä»¥åƒå¸†ç›´æ’­SDKé‡Œçš„ä»£ç è¦å…±äº« ä¸ºäº†æ—¥åç»´æŠ¤æ–¹ä¾¿ï¼Œç›¸åŒçš„ä»£ç ä¸èƒ½ copy ä¸¤ä»½(è¿™æ˜¯æˆ‘çš„åŸåˆ™) å¤ºå® SDK è¦å…·å¤‡å•ç‹¬æä¾›çš„èƒ½åŠ› å¤ºå® SDK è¦å…·å¤‡ç»„ä»¶çš„èƒ½åŠ› ä¸ºäº†æ›´åŠ ç®€å•çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ˜¯è¿™ä¹ˆæ€è€ƒçš„ï¼Œå…ˆè§£å†³ä¸Šé¢åˆ—ä¸¾çš„å‰ 3 æ¡ï¼Œå…ˆä¸è€ƒè™‘ç¬¬ 4 æ¡ï¼›å› æ­¤æˆ‘éœ€è¦è€ƒè™‘å¤ºå® SDK å¦‚ä½•å…±äº« åƒå¸†ç›´æ’­SDK çš„é€šç”¨ä»£ç ï¼Œæˆ‘ä¸å–œæ¬¢ copy ä»£ç ï¼Œæ‰€ä»¥æ²¡æœ‰æ›´å¥½çš„åŠæ³•ï¼Œåªèƒ½æ˜¯å°†é€šç”¨ä»£ç æŠ½å–å‡ºæ¥äº†ï¼Œå¯ä»¥ä½¿ç”¨é™æ€åº“ï¼ˆ.aï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ¡†æ¶ï¼ˆ.frameworkï¼‰ï¼Œä½ ä¼šæ€ä¹ˆé€‰æ‹© ï¼Ÿ å¼€ææˆ‘ä¸å–œæ¬¢é™æ€åº“ï¼Œå› ä¸ºä½¿ç”¨çš„æ—¶å€™å¾ˆä¸æ–¹é¢ï¼Œä»–çš„å¯æ‰§è¡Œæ–‡ä»¶å’Œå¤´æ–‡ä»¶æ˜¯åˆ†å¼€çš„ï¼Œç”šè‡³äºä½¿ç”¨çš„æ—¶å€™è¿˜è¦è®¾ç½®ä¸‹ search path ï¼å› æ­¤æˆ‘æ¯«ä¸çŠ¹è±«çš„é€‰æ‹©äº†æ¡†æ¶ï¼Œæ¡†æ¶çš„åå­—å‘½åä¸º SohuLiveFoundationã€‚ è¾›å¥½åƒå¸†ç›´æ’­ SDK å·¥ç¨‹çš„ä»£ç ç»„ç»‡çš„è¿˜ä¸é”™ï¼Œæ‰€æœ‰é€šç”¨çš„åº“å‡åœ¨ libs æ–‡ä»¶ä¸‹ï¼Œæ¥ä¸‹æ¥çš„å·¥ä½œå‡ ä¹æˆä¸ºäº†æ¬è¿ libs åˆ° SohuLiveFoundation å·¥ç¨‹ï¼Œç”±äºç°åœ¨è¿˜æ²¡å¼€å§‹åšï¼Œåªæ˜¯å‡†å¤‡å·¥ä½œï¼Œå› æ­¤åªæŠŠç½‘ç»œåº“ï¼Œè§£æåº“ï¼Œç¼“å­˜åº“ï¼Œä¸‹è½½å›¾ç‰‡åº“ç­‰å¾ˆé€šç”¨çš„æ¬è¿ä¸‹ï¼Œæ—¥åç”¨åˆ°å“ªäº›å†å…·ä½“åˆ†æå†³å®šæ˜¯å¦æ¬è¿ï¼Œå¦‚ä½•æ¬è¿çš„é—®é¢˜ã€‚ æ¥ä¸‹æ¥åˆ›å»ºäº†å¤ºå® SDK çš„å·¥ç¨‹ï¼Œå‘½åä¸º SohuOneSDKï¼Œä¸ºäº†ä½¿ç”¨é€šç”¨åº“ï¼Œæ‰€ä»¥è¦å¼•ç”¨ä¸‹ SohuLiveFoundation åº“ï¼Œç„¶åéšä¾¿å†™äº†ä¸ªç•Œé¢ï¼Œå‘äº†ä¸ªè¯·æ±‚ï¼Œç®€å•æ¨¡æ‹Ÿä¸‹ï¼Œåªè¦èƒ½ç”¨å°±è¡Œï¼Œç„¶åå†æ¥åˆ°æˆ‘çš„ Demo ï¼ˆæ¨¡æ‹Ÿ åƒå¸†Appï¼‰ï¼Œå°è¯•åœ¨ Demo é‡Œè°ƒç”¨ SohuOneSDK çš„åŠŸèƒ½ï¼Œè¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼š SohuOneSDK åªæ˜¯å¼•ç”¨äº† SohuLiveFoundationï¼Œå¹¶ä¸åŒ…å«ï¼ˆcopyï¼‰å…¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™ä¸ªä»å¤§å°ä¸Šå¯ä»¥çœ‹å‡ºæ¥ï¼ŒSohuOneSDK åˆšåˆ›å»ºï¼Œæ–‡ä»¶æ¯”è¾ƒå°‘ï¼Œå¾ˆå°çš„ï¼›è€Œ SohuLiveFoundation åŒ…å«äº†çš„æ–‡ä»¶å¤šï¼Œè¦å¤§ä¸€äº›ï¼› ç”±äº SohuOneSDK æ²¡æœ‰åŒ…å« SohuLiveFoundation çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œçš„æ—¶å€™å°±è¦ä¿è¯èƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼å› æ­¤è¦åœ¨ demo é‡Œå¯¼å…¥ SohuLiveFoundation å’Œ SohuOneSDK ï¼ å‡å¦‚ A.framework ä½¿ç”¨äº† B.framework ï¼Œåœ¨ç¼–è¯‘ A çš„æ—¶å€™ï¼Œå¹¶ä¸éœ€è¦æ‰¾åˆ° B çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªéœ€è¦ B åº“çš„å¤´æ–‡ä»¶å³å¯ï¼Œä»è€Œé¿å…ç¼–è¯‘æŠ¥é”™ï¼Œå¹¶ä¸”ç»™è°ƒç”¨ B åº“çš„åœ°æ–¹åˆ†é…ä¸ªç›¸å¯¹çš„å‡½æ•°è°ƒç”¨åœ°å€æˆ–è€…è¯´æ˜¯å ä½ç¬¦ï¼Œä»¥åå†å…·ä½“å¡«å……ï¼›æ‰€ä»¥åœ¨é›†æˆ A åº“çš„ App é‡Œå¿…é¡»å¯¼å…¥ B åº“ï¼Œè€Œåœ¨ link çš„æ—¶å€™ä¹Ÿä¼šæŠŠ A åº“é‡Œçš„å ä½ç¬¦æ¢æˆ B åº“çš„å¯æ‰§è¡Œåœ°å€.å…·ä½“æ€ä¹ˆæ¢çš„æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œå› ä¸º App é‡Œä½¿ç”¨äº† A åº“ï¼Œä¹Ÿéœ€è¦æŠŠ A åº“çš„å ä½ç¬¦æ›¿æ¢ä¸‹ï¼Œå…·ä½“æŒ‰ç…§ä»€ä¹ˆå¾ªåºæ¥çš„ï¼Œæˆ‘ä¹Ÿä¸ç¡®å®šã€‚ æå®šç»„ä»¶åŒ–åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå·²ç»å®ç°äº†å‰ 3 æ¡äº†ï¼Œæˆ‘ä»¬å†å›è¿‡å¤´æ¥çœ‹ä¸‹ç¬¬ 4 æ¡ â€” å°†å¤ºå® SDK ä½œä¸ºç›´æ’­ SDK çš„ä¸€éƒ¨åˆ†ï¼›ç”±ä¸Šé¢æåˆ°çš„ç†è®ºå¤§å®¶å¾ˆå®¹æ˜“æƒ³åˆ°ï¼Œå¯å°† SohuOneSDK å¼•ç”¨åˆ° SohuLiveSDKï¼ˆåƒå¸†ç›´æ’­SDKï¼‰ï¼Œè€Œ SohuLiveFoundation ä¸º SohuOneSDK å’Œ SohuLiveSDK æä¾›åŸºç¡€æ”¯æŒï¼Œé›†æˆåˆ°è§†é¢‘çš„æ—¶å€™ï¼Œå°†è¿™ä¸‰ä¸ª framework ä¸€å¹¶æä¾›é›†æˆå³å¯ï¼Œè¿™é‡Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼ŒSohuOneSDK å’Œ SohuLiveSDK å‡ä¸åŒ…å« SohuLiveFoundation çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¥½å¤„å°±æ˜¯é¿å…ç¬¦å·é‡å¤å®šä¹‰ï¼ï¼ï¼ æœ€åˆçš„æ—¶å€™æ„Ÿè§‰ä¸å¥½å®ç°å‘¢ï¼Œç°åœ¨çœ‹æ¥è²Œä¼¼è¿™å€’æ˜¯æˆäº†ç®€å•çš„äº‹æƒ…äº†ï¼ŒO(âˆ©_âˆ©)Oå“ˆå“ˆ~ã€‚æ¥ä¸‹æ¥çš„äº‹æƒ…ï¼Œå°±æ˜¯åœ¨ SohuLiveSDK é‡Œå®Œæˆå¯¹ SohuOneSDK çš„è°ƒç”¨å°è£…ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›è§†é¢‘ App å»è°ƒç”¨ SohuOneSDK çš„ä»»ä½•åŠŸèƒ½ï¼Œæ¯•ç«Ÿä»–åªæ˜¯ä¸ªç»„æˆéƒ¨åˆ†è€Œå·²ï¼Œå†µä¸”å…¥å£éƒ½åœ¨ SohuLiveSDK é‡Œé¢ï¼ äº‹å®è¯æ˜ï¼Œè¿™ä¸ªæ–¹æ¡ˆæ˜¯å¯è¡Œçš„ï¼Œç¡®å®æ»¡è¶³äº†å•ç‹¬æä¾›å’Œä½œä¸ºç»„ä»¶çš„éœ€æ±‚ï¼ ç»è¿‡è¯•éªŒï¼Œå¦‚æœ A.framework é‡Œä½¿ç”¨äº† b.a çš„è¯ï¼Œä½ ä¹Ÿå¯ä»¥åªå¯¼å…¥ b åº“çš„å¤´æ–‡ä»¶ï¼Œè€Œåœ¨ A é›†æˆçš„ App é‡Œæ·»åŠ ä¸‹ b åº“çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼é“ç†æ˜¯ä¸€æ ·çš„ï¼Œæ¯•ç«Ÿ framework å¯ä»¥ç®€å•çš„ç­‰åŒäºä¸€ä¸ªåŒ…å«äº†å¯æ‰§è¡Œæ–‡ä»¶å’Œå¤´æ–‡ä»¶çš„ bundle(æ–‡ä»¶å¤¹). æ€ç»´å¯¼å›¾ é›†æˆåˆ°è§†é¢‘ é›†æˆåˆ°åƒå¸†App SLF -&gt; SCFéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘ä»¬åšäº†æ›´å¤šçš„é¡¹ç›®ï¼ŒåŒ…æ‹¬ æœç‹è¯¾å ‚ å’Œå‡ æ¬¾ åƒå¸†å°æ¸¸æˆï¼Œæˆ‘ä»¬åœ¨åšæœç‹è¯¾å ‚çš„æ—¶å€™å‘ç° SohuLiveFoundation è¿™ä¸ªåå­—ä¸å¤ªåˆç†ï¼Œé‡Œé¢åŒ…å«æœ‰ç›´æ’­å­—çœ¼ï¼Œé€æ¼å‡ºçš„æ˜¯ç›´æ’­ç›¸å…³çš„å†…å®¹ï¼Œè¯¾å ‚æ˜¯ä¸ªå•ç‹¬çš„é¡¹ç›®ï¼Œè™½ç„¶ä¹Ÿè¦é›†æˆåˆ°æœç‹è§†é¢‘äº†ï¼Œä½†è·Ÿåƒå¸†ç›´æ’­SDK æ²¡å…³ç³»ï¼Œæœ€åˆå…±ç”¨äºå¤ºå® SDK è¿˜æ²¡é—®é¢˜ï¼Œä½†æ˜¯è¿™æ—¶æˆ‘ä»¬å‘ç° SohuLiveFoundation è¿™ä¸ªåå­—å·²ç»ä¸åˆæ—¶å®œäº†ï¼Œæˆ‘ä»¬æ˜¯ä¸ªæœ€æ±‚å®Œç¾çš„å›¢é˜Ÿï¼Œå“ªæ€•æ˜¯ä¸ªåå­—ä¹Ÿè¦å®Œç¾ï¼ å› æ­¤æˆ‘ä»¬åœ¨å¼€å¯æœç‹è¯¾å ‚çš„å¼€å‘ä¹‹å‰ï¼Œå°±å°† SohuLiveFoundation é‡å‘½åä¸º SohuCoreFoundation äº†ï¼å¹¶ä¸”è¿™ä¹Ÿä½œä¸ºæˆ‘ä»¬çš„æ–°çºªå…ƒï¼Œå¼€å§‹äº† Foundation çš„ 2.0 ç‰ˆæœ¬ï¼Œå†…éƒ¨ç®€ç§° SCF ï¼ éšåçš„é¡¹ç›®â€”æœç‹è¯¾å ‚ï¼Œåƒå¸†å°æ¸¸æˆå‡æ˜¯æ„å»ºåœ¨ SCF çš„åŸºç¡€ä¹‹ä¸Šã€‚","categories":[],"tags":[{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"Mac ä¸Šé…ç½® Apache æœåŠ¡å™¨","slug":"2017/04/17-apache-vhost","date":"2017-04-17T14:58:19.000Z","updated":"2018-03-27T14:45:15.691Z","comments":true,"path":"2017/04/17/2017/04/17-apache-vhost.html","link":"","permalink":"http://debugly.cn/2017/04/17/2017/04/17-apache-vhost.html","excerpt":"","text":"æˆ‘åœ¨ä¸šä½™æ—¶é—´æ­å»ºäº†ä¸€ä¸ªåšå®¢å¼ SDK åˆ†å‘æœåŠ¡å™¨ï¼Œç”¨äºå…¬å¸å†…éƒ¨åˆ†å‘ SDK åˆ°å…¶ä»–éƒ¨é—¨ï¼ŒæŒºæ–¹ä¾¿çš„ï¼Œæäº¤å®Œä»£ç ï¼Œä¸€é”®è¿œç¨‹æ‰“åŒ…ï¼Œæ‰“å®Œè‡ªåŠ¨ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç”Ÿæˆä¸‹è½½åœ°å€ï¼Œä¸å½±å“æœ¬åœ°å·¥ä½œâ€¦å› æ­¤ç”¨åˆ°äº†ä¸€äº› Apache çš„çŸ¥è¯†ï¼Œæ—¥åä¹Ÿä¼šç€é‡ä»‹ç»ä¸‹æˆ‘çš„åˆ†å‘æœåŠ¡å™¨â€¦ å¦‚ä½•æ§åˆ¶ApacheApache è¦å¯åŠ¨ä¸€ä¸ªç³»ç»ŸæœåŠ¡ï¼Œå¯èƒ½æ²¡æœ‰æƒé™ï¼Œä¸€èˆ¬ sudo å³å¯ï¼› æ£€æŸ¥Mac ç³»ç»Ÿè‡ªå¸¦çš„æœ‰ Apacheï¼Œä¸ç”¨è‡ªå·±å»ä¸‹è½½çš„ï¼Œé™¤éä½ è§‰å¾—ä¸é€‚åˆä½ ï¼›æŸ¥çœ‹ä¸‹ç‰ˆæœ¬ä¿¡æ¯ï¼š 1234apachectl -v///æ­£å¸¸ä¼šè¾“å‡ºç±»ä¼¼ä»¥ä¸‹çš„ä¿¡æ¯Server version: Apache/2.4.23 (Unix)Server built: Aug 8 2016 16:31:34 çœ‹åˆ°è¿™ä¸ªå°± OK å•¦ï¼Œä½ å¯ä»¥å¯åŠ¨å•¦ ï¼ å¯åŠ¨ sudo apachectl start å¯åŠ¨åæµè§ˆå™¨è®¿é—®ï¼šlocalhost å°±ä¼šçœ‹åˆ° It workes. é‡å¯ sudo apachectl restart å…³é—­ sudo apachectl stop Apache ç›®å½•ä¸‹é‡è¦çš„é…ç½®æ–‡ä»¶ /etc/apache2/ : æ˜¯ Apache çš„ç›¸å…³ç›®å½• etc/apache2/httpd.conf : æ˜¯ Apache æœ€é‡è¦çš„é…ç½®æ–‡ä»¶äº†ï¼›æ“ä½œå‰åƒä¸‡è¦è®°å¾—å¤‡ä»½ï¼Œä¸‡ä¸€æåäº†å¯ä»¥è¿˜åŸï¼ï¼ï¼æˆ‘å°±åƒäº†å¤§äºäº†ï¼Œå®³å¾—æˆ‘åé¢æè™šæ‹Ÿä¸»æœºèŠ±è´¹äº†å¥½é•¿æ—¶é—´ã€‚ã€‚ã€‚ 1sudo cp /etc/apache2/httpd.conf /etc/apache2/httpd.conf~backup etc/apache2/extra/httpd-vhosts.conf : Apache æ˜¯æ¨¡å—åŒ–çš„ï¼Œé…ç½®è™šæ‹Ÿä¸»æœºçš„è¯æœ€å¥½æ˜¯åœ¨è¿™ä¸ªé…ç½®æ–‡ä»¶é‡Œåšï¼Œä¸è¦ç›´æ¥å†™åœ¨ httpd.conf é‡Œï¼Œå½“ç„¶ä½ å°±æ˜¯æƒ³å†™å† httpd.conf é‡Œä¹Ÿä¼šç”Ÿæ•ˆçš„ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶æœ€å¥½ä¹Ÿå¤‡ä»½ä¸‹ã€‚ é…ç½® Virtual Hostsè™šæ‹Ÿä¸»æœºæœ‰å¤šç§ï¼Œå¯åŸºäº hostï¼ŒIPï¼Œportï¼›æˆ‘éœ€è¦ç”¨çš„æ˜¯åœ¨æœ¬æœºé…ç½®ï¼Œå› æ­¤æˆ‘é‡‡ç”¨åŒä¸€ IP ä¸åŒ port çš„æ–¹å¼ï¼› æ²¡æœ‰å¤‡ä»½çš„è¯ï¼Œä¸Šé¢æåˆ°çš„ä¸¤ä¸ªé…ç½®æ–‡ä»¶å¿«å»å¤‡ä¸‹ä»½ï¼ å¯åŠ¨Apacheï¼Œçœ‹åˆ° It works. ä¿è¯ä½ çš„Apacheæ˜¯å¥½ç”¨çš„ã€‚ æ‰¾åˆ° httpd.confg æ–‡ä»¶ï¼Œä½¿ç”¨ vi æˆ–è€… Atom ä¹‹ç±»çš„æ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘ï¼› æƒ³å¥½ä½ çš„ç«¯å£å·äº†å—ï¼Ÿæ²¡çš„è¯å°±éšä¾¿æƒ³ä¸ªå§ï¼›æœç´¢ 80 ï¼Œå¤§æ¦‚åœ¨ 52 è¡Œï¼Œä½ æ¥ç€å†™è¦ç›‘å¬çš„ç«¯å£å·ï¼š 123Listen 80Listen 8000Listen 9000 é™¤äº†é»˜è®¤çš„80ç«¯å£ä¹‹å¤–ï¼Œæˆ‘è¿˜é…ç½®äº† 8000 å’Œ 9000ï¼Œç«¯å£ä¸è¦å¤ªå°ï¼Œå¤ªå°çš„ç«¯å£å¯èƒ½ä¼šè¢«åˆ«çš„æœåŠ¡å ç”¨ï¼ æœç´¢ vhostï¼Œå¤§æ¦‚åœ¨ 160 è¡Œå·¦å³ï¼Œæ‰¾åˆ° 1#LoadModule vhost_alias_module libexec/apache2/mod_vhost_alias.so å»æ‰å‰é¢çš„ #,è¿™ä¸ª # è¡¨ç¤ºæ³¨é‡Šï¼Œæˆ‘ä»¬è¦ä½¿ç”¨è™šæ‹Ÿä¸»æœºåŠŸèƒ½ï¼Œå› æ­¤è®© Apache åŠ è½½å¯¹åº”çš„ so æ¨¡å—ï¼ ç»§ç»­æœç´¢ï¼Œå¤§æ¦‚åœ¨ 500 è¡Œå·¦å³ï¼Œæ‰¾åˆ° 1#Include /private/etc/apache2/extra/httpd-vhosts.conf ä¹Ÿæ˜¯å»æ‰å‰é¢çš„ #ï¼Œä¸ºçš„æ˜¯è®© Apache åŠ è½½ httpd-vhosts.conf é…ç½®æ–‡ä»¶ï¼ æ¥ä¸‹æ¥å…³é—­å¹¶ä¿å­˜ httpd.confg æ–‡ä»¶ï¼Œæ‰“å¼€ httpd-vhosts.conf é…ç½®æ–‡ä»¶ï¼›å°±å¯ä»¥é…ç½®è™šæ‹Ÿä¸»æœºäº†ï¼Œæ¯”å¦‚ï¼š 1234567891011121314151617181920212223242526272829&lt;VirtualHost *:80&gt; DocumentRoot &quot;/Users/xuqianlong/websites/apache&quot; &lt;Directory &quot;/Users/xuqianlong/websites/apache&quot;&gt; Options FollowSymLinks Multiviews Indexes MultiviewsMatch Any AllowOverride None Require all granted &lt;/Directory&gt;&lt;/VirtualHost&gt;&lt;VirtualHost *:8000&gt; DocumentRoot &quot;/Users/xuqianlong/websites/apache/aa&quot; &lt;Directory &quot;/Users/xuqianlong/websites/apache/aa&quot;&gt; Options FollowSymLinks Multiviews Indexes MultiviewsMatch Any AllowOverride None Require all granted &lt;/Directory&gt;&lt;/VirtualHost&gt;&lt;VirtualHost *:9000&gt; DocumentRoot &quot;/Users/xuqianlong/websites/apache/bb&quot; &lt;Directory &quot;/Users/xuqianlong/websites/apache/bb&quot;&gt; Options FollowSymLinks Multiviews Indexes MultiviewsMatch Any AllowOverride None Require all granted &lt;/Directory&gt;&lt;/VirtualHost&gt; æˆ‘é…ç½®äº† 3 ä¸ªç«¯å£å·ï¼Œåˆ†åˆ«æŒ‡å‘ä¸åŒçš„ç›®å½•ï¼Œå¹¶ä¸”é…ç½®äº†ç›®å½•çš„è®¿é—®æƒé™ï¼›æ¥ä¸‹æ¥å¯ä»¥æµ‹è¯•äº†ï¼Œæµè§ˆå™¨è¾“å…¥ï¼š 123localhost ///å¯¹åº” /Users/xuqianlong/websites/apache ç›®å½•ä¸‹çš„å†…å®¹localhost:8000 ///å¯¹åº” /Users/xuqianlong/websites/apache/aa ç›®å½•ä¸‹çš„å†…å®¹localhost:9000 ///å¯¹åº” /Users/xuqianlong/websites/apache/bb ç›®å½•ä¸‹çš„å†…å®¹ è¿™é‡Œä¹Ÿæœ‰ä¸ªå‘ï¼Œå°±æ˜¯ä½ å¯èƒ½ä¼šé‡åˆ° 403 çš„æƒ…å†µï¼Œæˆ‘å°±é‡åˆ°äº†ï¼Œæäº†åŠå¤©æ‰è§£å†³ï¼ŒåŸå› æ˜¯ DocumentRoot ç›®å½•ä¸èƒ½åœ¨ /Users/xuqianlong/Documents ç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½åœ¨ä¸ªäººç”¨æˆ·çš„æ–‡ç¨¿ç›®å½•ä¸‹ï¼ï¼ï¼ å›°æƒ‘å¦‚æœä½ ä»”ç»†çœ‹ httpd.conf é…ç½®æ–‡ä»¶çš„è¯ï¼Œä½ ä¼šå‘ç°å¤§æ¦‚235è¡Œå¤„ä¹Ÿæœ‰DocumentRoot å’Œ Directory çš„é…ç½®ï¼š 12DocumentRoot &quot;/Library/WebServer/Documents&quot;&lt;Directory &quot;/Library/WebServer/Documents&quot;&gt; è¿™å’Œ httpd-vhosts.conf é‡Œçš„å·®ä¸å¤šï¼Œä»–ä»¬æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿè€å®è¯´è¿™ä¸ªæˆ‘ç°åœ¨è¿˜æ²¡ææ˜ç™½ï¼Œä¸è¿‡è¿™ä¸ªä¸€èˆ¬åˆ«æ”¹ï¼Œè¦ä¹ˆå°±æ˜¯ä¸é…ç½®è™šæ‹Ÿä¸»æœºï¼Œç›´æ¥æŠŠè¿™ä¸ªæ”¹ä¸ºä½ è‡ªå·±çš„æœåŠ¡å™¨ç›®å½•ï¼Œä¹Ÿæ˜¯èƒ½è®¿é—®çš„ï¼Œæˆ‘è¯•è¿‡ï¼Œå¯å¦‚æœä½ æ—¢ä¿®æ”¹è¿™ä¸ªåˆåœ¨ httpd-vhosts.conf é‡Œé…ç½®å°±å¾ˆå®¹æ˜“å‡ºé—®é¢˜ï¼Œæˆ‘å°±å‡ºäº†é—®é¢˜äº†ï¼Œåæ¥æ‰¾çš„å¤‡ä»½ï¼Œé‡æ–°æçš„ï¼Œæ‰€ä»¥æˆ‘åœ¨å‰é¢å¼€å§‹æ“ä½œå‰å°±å†ä¸‰æé†’å¤§å®¶è¦å¤‡ä»½ï¼ï¼ï¼ TODOæ‰“åŒ…æœåŠ¡å™¨è¿˜ä¸æ”¯æŒ iOS OTAï¼Œä¸»è¦æ˜¯æ²¡æœ‰ SSL è¯ä¹¦ï¼Œè´­ä¹°çš„è¯ä¸åˆ’ç®—ï¼Œå¤ªè´µäº†ï¼å‡†å¤‡è‡ªç­¾ä¸€ä¸ªï¼Œç„¶åé…ç½®ä¸‹ httpsï¼Œä¸ºæ­å»º OTA åšå¥½å‡†å¤‡ï¼","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"Block ä½¿ç”¨æ–¹å¼ç”±æµ…å…¥æ·±","slug":"2017/02/12-fuckblocksyntaxtoo","date":"2017-02-12T13:29:57.000Z","updated":"2018-03-27T14:45:15.690Z","comments":true,"path":"2017/02/12/2017/02/12-fuckblocksyntaxtoo.html","link":"","permalink":"http://debugly.cn/2017/02/12/2017/02/12-fuckblocksyntaxtoo.html","excerpt":"","text":"Objective-C è¯­è¨€ä¸€ç›´ä»¥æ¥ç”±è‹¹æœå…¬å¸ç»´æŠ¤ç€ï¼Œä¸ºå…¶å¢åŠ äº†ä¸å°‘æ›´åŠ ç°ä»£åŒ–çš„è¯­æ³•ï¼Œå…¶ä¸­ block ï¼ˆå…¶ä»–è¯­è¨€ä¸€èˆ¬éƒ½ç§°é—­åŒ…ï¼‰è¯­æ³•å°±æ˜¯åœ¨ iOS 4 å‘å¸ƒçš„ï¼Œä¸æ­¤åŒæ—¶è¿˜æä¾›äº†æŠ½è±¡ç¨‹åº¦æé«˜çš„GCD æŠ€æœ¯ï¼Œç”¨äºç®€åŒ–çº¿ç¨‹çš„æ“ä½œï¼æ‰€ä»¥ä»Šå¤©è¯´çš„ block å¹¶ä¸æ˜¯æ–°çš„æŠ€æœ¯ï¼Œä½†å®ƒææ€•æ˜¯æœ€éš¾è®°å¿†çš„çš„è¯­æ³•äº†ï¼Œå¹¶ä¸”ä½¿ç”¨å½¢å¼å¾ˆæ˜¯çµæ´»ï¼Œå› æ­¤æ€»ç»“ä¸€ä¸‹æˆ‘å¹³æ—¶ä½¿ç”¨çš„å‡ ç§ç±»å‹ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚ ç‰¹ä¸ºæ­¤å†™äº†ä¸ª demo æ¥å¸®åŠ©ç†è§£ã€‚ 1.æè¿°ä¸ºå±æ€§è¿™æ˜¯æœ€ä¸ºå¸¸è§çš„ç”¨æ³•äº†ï¼Œä¸€èˆ¬éƒ½æ˜¯å…ˆèµ‹å€¼ï¼Œå½“è§¦å‘æŸä¸ªé€»è¾‘æ—¶è¿›è¡Œå›è°ƒï¼› 123@property (nonatomic, copy) returnType (^blockName)(parameterTypes);self.blockName = ...;//èµ‹å€¼ä¸€ä¸ªblockself.blcokName(parameters);//è°ƒç”¨ 2.ä½œä¸ºå½¢å‚(parameter)ï¼Œåšå›è°ƒa.ç»å¸¸å’Œå±æ€§é…åˆä½¿ç”¨ï¼›ä¸€èˆ¬åœºæ™¯æ˜¯æ–¹æ³•å†…éƒ¨æœ‰å¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ‰§è¡Œå®Œæ¯•åé€šè¿‡è¿™ä¸ªblockå‚æ•°å›è°ƒåˆ°è°ƒç”¨å¤„ï¼› 12345- (void)doSomeThingWithCompletion:(retunType (^)(parameterTypes))blockName&#123;async(...&#123; blockName(parameters);&#125;);&#125; b.ç›¸å½“äºå†™ä¸ª setter æ–¹æ³•ï¼Œç»™ block å±æ€§èµ‹å€¼ï¼Œç›´æ¥ç»™å±æ€§èµ‹å€¼çš„è¯éœ€è¦æ‰‹å†™å®ç° block ï¼Œä¸å®¹æ˜“è®°ï¼Œè¿™å…¶å®æ˜¯ä¸ºäº†æ–¹ä¾¿è°ƒç”¨è€…è€Œå·²ã€‚ 1234 - (void)registerXXXHandler:(void (^)(float))handler&#123; self.xxxHandler = handler;&#125; 3.ä½œä¸ºå®å‚(argument)ï¼Œå®ç°blockè°ƒç”¨ä¸€ä¸ªå¸¦æœ‰ block å‚æ•°çš„æ–¹æ³•æ—¶ï¼Œå°±éœ€è¦å®ç°è¿™ä¸ª block äº†ï¼Œå…¶å®è¿™ä¸ªä¸ç”¨æ‰‹å†™ï¼ŒIDE ä¼šæç¤ºçš„ï¼Œç›´æ¥å›è½¦å³å¯ï¼› 123[self doSomeThingWithCompletion: ^retunType(parameters)&#123;//...&#125;]; 4. typedef å‡ºâ€æ–°ç±»å‹â€ä»¥ä¸Šä½¿ç”¨ä¸€ç‚¹ä¹Ÿä¸å‹å¥½ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šæˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ typedef å®šä¹‰ä¸€ä¸ªç±»å‹å‡ºæ¥ï¼› 1234typedef returnType(^ TypeName)(parameterTypes)//ä»¥ä¸Šç”¨æ³•å¯æ”¹ä¸ºï¼š@property (nonatomic, copy) TypeName blockName;- (void)doSomeThingWithCompletion:(TypeName)blockName; 5.æ–¹æ³•å†…éƒ¨å½“å±€éƒ¨å˜é‡ä½¿ç”¨å¦‚æœä¸€æ®µä»£ç é‡Œæœ‰å¾ˆå¤šä¸ª if else åˆ†æ”¯ï¼ŒæŸäº›åˆ†æ”¯çš„å¤„ç†å®Œå…¨ä¸€æ ·æ—¶ï¼Œå¯å°†ä»–ä»¬å°è£…åˆ°ä¸€ä¸ªblockå—é‡Œé¢ï¼›å¯ä»¥çœå»å†™ç›¸åŒä»£ç çš„éº»çƒ¦ï¼Œä¹Ÿä¸å¿…å¼€è¾Ÿä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼› 123returnType (^blcokNmae)(parameterTypes) = ^returnType(parameters)&#123; ... &#125;;//è°ƒç”¨ï¼šreturnType result = blcokNmae(parameters); 6.æ–¹æ³•è¿”å›å€¼è¿™ç§æƒ…å†µä¸å¤ªå¤šï¼Œæ¯”å¦‚å¯ç”¨äºå®ç°é“¾å¼ç¼–ç¨‹ï¼› 123456789//å£°æ˜- (returnType (^) parameterTypes) method;//å®ç°- (returnType (^) parameterTypes) method&#123; return ^ returnType (parameters)&#123; //... return obj;//obj æ˜¯ returnType ç±»å‹ &#125;;&#125; ä¸¾ä¸ªä¾‹å­ï¼š 12345678910///è®¾ç½®url- (SLNetworkRequest *(^)(NSString *url))c_URL;- (SLNetworkRequest *(^)(NSString *url))c_URL&#123; return ^ SLNetworkRequest * (NSString *url)&#123; self.urlString = url; return self; &#125;;&#125; 7.é«˜é˜¶ Block : ä½œä¸ºå¦ä¸€ä¸ªBlockçš„å‚æ•°è¿™ç§æƒ…å†µç”¨çš„ä¸æ˜¯å¤ªå¤šï¼Œä½†æ˜¯ä¸€æ—¦æœ‰éœ€è¦åŒå‘äº¤äº’çš„åœºæ™¯æ—¶ï¼Œä¼˜åŠ¿å°±å¾ˆæ˜æ˜¾äº†ï¼å…·ä½“å¯çœ‹ demo å®ç°çš„ 3G ç½‘ç»œè¯¢é—®ç”¨æˆ·æ˜¯å¦ä¸‹è½½çš„åœºæ™¯ï¼š 12typedef returnType(^ Block1)(parameterTypes)typedef returnType(^ Block2)(parameterTypes, Block1) //Block1ä½œä¸ºBlock2çš„å‚æ•°éƒ¨åˆ† å¯å®ç°åŒå‘é€šä¿¡ï¼Œæ¯”å¦‚ï¼š 123456789101112131415161718192021222324- (void)doSomeThingWithCompletion:(Block2)blockName&#123; async(...&#123; Block1 block1 = ^(isOk)&#123; if(isOK)&#123; //start download... &#125;else&#123; //cancel something... &#125; &#125;; blockName(parameters, block1); &#125;);&#125;è°ƒç”¨ï¼š[self doSomeThingWithCompletion: ^ returnType(parameters, block1)&#123; //å†…éƒ¨å¤„ç†å®Œæ¯•åï¼Œå›è°ƒåˆ°æ­¤ï¼› //æ ¹æ®ç»“æœï¼ˆparametersï¼‰åšç›¸åº”çš„é€»è¾‘ï¼Œç„¶åå°†å¤„ç†ç»“æœå†æ¬¡å›è°ƒåˆ°æ–¹æ³•å†…éƒ¨ if(parameters)&#123; block1(NO);//é€šè¿‡block1å†æ¬¡å›è°ƒå›å»å‘ŠçŸ¥å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥äº† &#125;else&#123; block1(YES);//é€šè¿‡block1å†æ¬¡å›è°ƒå›å»å‘ŠçŸ¥ä¸èƒ½ç»§ç»­ &#125;&#125;]; æœ€è¿‘æˆ‘åˆ¶å®šäº† H5-Native çš„äº¤äº’æ–¹æ¡ˆï¼Œç¼–å†™äº¤äº’éœ€è¦æ³¨å…¥çš„ js è„šæœ¬ï¼Œé€šä¿¡ API ä¹Ÿæ˜¯åŒå‘çš„ï¼Œå…¶åŸç†å°±æ˜¯ block (é—­åŒ…)çš„åµŒå¥—ä½¿ç”¨ï¼›API å‡ºæ¥å H5 å’Œ Native çš„å¼€å‘åŒäº‹ä»¬éƒ½å¾ˆ Happy å‘¢ï¼ å¦‚æœä½ æœ‰å…¶ä»–æœ‰è¶£çš„ä½¿ç”¨æ–¹æ³•ï¼Œè¯·æä¾›ç»™æˆ‘å§ï¼ å‰äº”ä¸ªç®—æ˜¯ç¿»è¯‘ï¼Œä¸è¿‡ä¹Ÿç¡®å®æ˜¯å·¥ä½œä¸­ç»å¸¸ç”¨çš„ï¼ŒåŸæ–‡åœ°å€ : http://fuckingblocksyntax.com","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"è‡´ç‚«æ”¶éŸ³æœºæ”¹ä¸ºå®¶ç”¨éŸ³å“","slug":"2017/01/10-household-zhixuan-radio","date":"2017-01-10T12:55:16.000Z","updated":"2018-03-27T14:45:15.690Z","comments":true,"path":"2017/01/10/2017/01/10-household-zhixuan-radio.html","link":"","permalink":"http://debugly.cn/2017/01/10/2017/01/10-household-zhixuan-radio.html","excerpt":"","text":"æœ€è¿‘ä¹°äº†è¾†å°è½¦â€”ä¸°ç”°-è‡´ç‚«ï¼Œä¸æ˜¯é«˜é…çš„ï¼Œæ‰€ä»¥æ²¡æœ‰å¯¼èˆªï¼Œé›·è¾¾ï¼Œå€’è½¦å½±åƒç­‰ï¼Œåªæœ‰ä¸€ä¸ªæ”¶éŸ³æœºï¼ŒCD éƒ½ä¸å¸¦â€¦ ä¸Šå‘¨å…­å»æ±½é…åŸè£…äº†å¯¼èˆªå’Œå€’è½¦å½±åƒï¼ŒåŸè½¦çš„æ”¶éŸ³æœºå°±è¢«æ¯«ä¸å®¢æ°”çš„æŠ›åˆ°åå¤‡ç®±é‡Œäº†ï¼Œä½œä¸ºä¸€ä¸ª Geeker ï¼Œä¸å¯èƒ½æŠŠä»–æ‰”æ‰æˆ–è€…å½“ç ´çƒ‚å–äº†ï¼Œå³ä½¿å–ä¹Ÿæ˜¯ç™½èœä»·(è®ºå›é‡Œæœ‰äººå‡º20å¤§æ´‹ï¼Œå‘µå‘µ)ï¼Œè¿™äº›å¯¹äºä¸€ä¸ªç”µå­çˆ±å¥½è€…æ¥è¯´éƒ½æ˜¯å®è´å•Šï¼å¿…é¡»æ”¹è£…ï¼Œä¸ºæˆ‘æ‰€ç”¨æ‰æ˜¯ç‹é“â€¦ å…ˆç¹ä¸ºå¿«æ”¾åœ¨å®¢å…çš„ç”µè§†æŸœæ—è¾¹ï¼Œè²Œä¼¼è¿å’Œæ„Ÿä¸å¼ºå“ˆï¼š åŠŸèƒ½ç®€ä»‹ åŸç”µè„‘ç”µæºé”®å¼€å…³æœº å¯ä»¥å¬å¹¿æ’­ å¯ä»¥å½“åšéŸ³å“ åŒ USB 5V è¾“å‡º åŒè€³æœºæ’å­”ï¼Œå¯æ¥å…¥æ›´å¤šğŸ”ˆ TODOï¼š å¤§å–‡å­å‘¨å›´åŠ ä¸Šé—ªç¯ï¼ˆå¤§å­¦ç”¨ä¸‰æç®¡åšè¿‡ä¸€ä¸ªä¸‰ä¸ªç¯å¾ªç¯é—ªçƒçš„ï¼Œå¯ä»¥æ‹¿æ¥ç”¨ï¼‰ åŸç† ç”µè„‘ç”µæºä¸ºæ”¶éŸ³æœºä¸»æœºæä¾›ç¨³å®šçš„ 12V ç”µæºï¼Œå’Œ 5V çš„ USB ç”µæºï¼› å–‡å­è£…åœ¨ç®±å­é‡Œæ‰ä¼šæ›´å“ï¼Œå› æ­¤å……åˆ†åˆ©ç”¨äº†ç©ºé—´è¶³å¤Ÿå¤§çš„æœºç®±ï¼› ç”µè„‘ç”µæºä¸æ˜¯æ’ä¸Šå°±ä¼šè¾“å‡ºçš„ï¼Œè¿™é‡Œåˆšå¥½å¯ä»¥è£…ä¸ªå¼€å…³ï¼Œå…·ä½“å¾€ä¸‹çœ‹å“ˆ æ”¹è£…è¿‡ç¨‹å‡†å¤‡ 12V ç”µæºåŸæœ¬æ”¶éŸ³æœºä½¿ç”¨çš„æ˜¯è½¦ä¸Š 12V è“„ç”µæ± çš„ç›´æµç”µï¼Œå®¶ç”¨çš„è¯å°±å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªç¨³å®šå¯é çš„ 12V ç›´æµç”µæºï¼Œå¸¸è§çš„æœ‰å°å¼ç”µè„‘ç”µæºï¼Œæˆ–è€…æ˜¾ç¤ºå™¨é€‚é…å™¨çš„ç”µæºä¹Ÿè¡Œï¼›ä½¿ç”¨å°å¼ç”µè„‘ç”µæºçš„å¥½å¤„çš„è¾“å‡ºåŠŸç‡å¤§ï¼Œç”µå‹å¤šï¼Œå¯ä»¥åšäº›åˆ«çš„äº‹æƒ…ï¼›é€‚é…å™¨çš„æ¯”è¾ƒå®¹æ˜“äº›ï¼Œæ’ä¸Šå°±ä¼šè¾“å‡ºï¼Œç›´æ¥ç”¨å°±å¥½äº†ï¼Œç”µè„‘ç”µæºç¨å¾®å¤æ‚ä¸€äº›ï¼Œéœ€è¦ç•¥æ‡‚ç”µè·¯ã€‚ è¿™æ˜¯æˆ‘åœ¨ç½‘ä¸Šæ‰¾çš„ä¸€ä¸ªå›¾ï¼š è¦æƒ³å¯åŠ¨ç”µæºå¿…é¡»å°†ç»¿è‰²çº¿å’Œé»‘è‰²çº¿çŸ­è·¯ï¼Œç»¿è‰²çº¿å¾ˆå¥½æ‰¾ï¼Œå…¨å±€å”¯ä¸€ï¼Œå°±ä¸€æ ¹ï¼ï¼ˆå¦‚æœè‰²ç›²ï¼Œå°±éº»çƒ¦äº†ï¼Œç»¿è‰²è€å¤šäº†ï¼‰ å¯ä»¥çœ‹åˆ°ï¼Œæä¾›çš„ç”µå‹æœ‰ -12V,3.3V,5V,12V,æŒºä¸°å¯Œçš„ã€‚ä¸‹é¢è¿™ä¸ªæ˜¯å…·ä½“çš„ä»ç”µæºè¾“å‡ºæ’åœ¨ä¸»æ¿ä¸Šçš„æ¥çº¿å¤´ï¼š è¿™å°è€å°å¼æœºæ˜¯è€ä¹¡é€ç»™æˆ‘çš„ï¼Œå¯ä»¥å¼€æœºï¼Œå°±æ˜¯æ…¢çš„ä¸è¡Œï¼Œæˆ‘ä¹Ÿæ²¡å•¥ç”¨ï¼Œå› æ­¤å°±ç‰ºç‰²ä»–å§ï¼Œæˆ‘å°†ç»¿è‰² å’Œé‚»è¿‘çš„é»‘è‰² GND(å…¶å®å°±æ˜¯ 0Vï¼Œå¹³æ—¶è¯´çš„ 5Væ˜¯ç›¸å¯¹äº GND çš„) å‰ªæ–­ï¼Œå¯ä»¥å…ˆè¯•è¯•ä¸‹ç”µæºæ˜¯å¦æ­£å¸¸ï¼Œæ’ä¸Šç”µä¹‹åï¼Œå°†ç»¿è‰²çº¿å’Œ GND çŸ­è·¯ï¼Œä½ ä¼šå‘ç°ç”µæºé£æ‰‡å¼€å§‹è½¬äº†ï¼Œè¿™è¡¨æ˜ç”µæºåº”è¯¥æ˜¯æ­£å¸¸çš„ï¼ æ¥ä¸‹æ¥è¯´ä¸‹ 12V ç”µæºï¼Œä½ å¯ä»¥æŒ‰ç…§ä¸Šå›¾æ‰€æ ‡è¯†çš„é»„è‰²çº¿ï¼Œæˆ‘å¹¶æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªï¼Œæ˜¯å› ä¸ºæˆ‘å‘ç°é™¤äº†è¿™ä¸ªè¿˜æœ‰å¥½å‡ æ ¹ä¹Ÿæ˜¯é»„è‰²çš„ï¼Œä¾›ç¡¬ç›˜æˆ–è€… DVD ä½¿ç”¨ï¼Œè¿™ä¸ªçº¿æ¯”è¾ƒé•¿ï¼Œæ›´åˆšæ‰é‚£ä¸ªæ’åˆ°ä¸»æ¿çš„ä¸æ˜¯ä¸€æ¡ï¼Œå¾ˆæ–¹ä¾¿ï¼Œå› æ­¤æˆ‘ä½¿ç”¨çš„æ˜¯ç¡¬ç›˜ç”µæºçº¿ã€‚ ä¸ºæ”¶éŸ³æœºæ¥è¾“å‡ºçº¿æ”¶éŸ³æœºæ˜¯ä¸ªç›’å­ï¼Œæ²¡æœ‰ä¸€æ ¹çº¿ï¼Œéœ€è¦æ¥çº¿ï¼Œå¦‚æœæ€•éº»çƒ¦å¯ä»¥ç›´æ¥å»ç½‘ä¸Šè´­ä¹°ï¼Œæˆ‘æŸ¥äº†ä¸‹åªéœ€ 10 ä¸ªå¤§æ´‹ï¼Œè¿˜å¸¦äº†å¤©çº¿ï¼›ç”±äºæˆ‘ç­‰ä¸åŠäº†ï¼Œæ‰€ä»¥ç›´æ¥æ‹†å¼€ç”¨çƒ™é“ç„Šæ¥è¾“å‡ºçº¿ï¼›è¿™æ˜¯ç”µæºå’ŒéŸ³é¢‘è¾“å‡ºï¼š æˆ‘å°†åŸæ¥çš„æ¥çº¿æŸ±ä¸€ä¸€å»æ‰äº†ï¼Œç„¶åç„Šæ¥çº¿ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒACCï¼ˆ12V æ­£æï¼‰éœ€è¦æŒ‰ç…§ä¸‹å›¾æ‰€ç¤ºï¼Œå°†3ä¸ªæ¥çº¿æŸ±çŸ­è·¯ï¼Œé»‘è‰²æ˜¯ GNDï¼Œå…¶ä»–å››ä¸ªé¢œè‰²æ˜¯å¯¹åº”çš„å‰å4ä¸ªå–‡å­ï¼š è¿™æ˜¯å¤©çº¿ï¼Œéœ€è¦æ¥ä¸ªçº¿å‡ºæ¥ï¼Œå¦åˆ™æ”¶éŸ³æœºæ”¶ä¸åˆ°ä¿¡å·ğŸ“¶ï¼š è¿æ¥è¿™ä¸¤æ ¹ï¼ˆä¸€æ ¹ä¹Ÿè¡Œï¼‰å°±è¡Œäº†ï¼š æœ€ç»ˆæ¥çº¿æ•ˆæœï¼š å‡†å¤‡å¤§å–‡å­ï¼ŒUSBï¼Œç”µæºé”®è¿™ä¸ªå–‡å­æ˜¯æˆ‘å¤§å­¦æ—¶åœ¨æ ¡å›­é‡Œæ¡åˆ°çš„ï¼ˆåäº†çš„å¹¿æ’­ï¼‰ï¼Œä¸€ä¸å°å¿ƒé»˜é»˜è·Ÿéšæˆ‘å¥½å‡ å¹´ï¼Œä»Šæ—¥ç»ˆäºæ’ä¸Šäº†ç”¨åœºï¼ åˆšå¥½è¿™é‡Œæœ‰å‡ ä¸ªé¢æ¿ï¼ˆåŸæœ¬æ˜¯ä¸ºDVDé¢„ç•™çš„ï¼‰å¯ä»¥æ‹†æ‰ï¼Œçœå»äº†ä¸å°‘åŠ›æ°”å‘¢ï¼Œå‡ºé—¨åœ¨å¤–æ²¡æœ‰æ›´å¤šä¸œè¥¿é€‰æ‹©ï¼Œç”¨çº¢ç»³ç»‘å§ï¼š åŸæ¥çš„ USB æ’å­”åäº†ä¸€ä¸ªï¼Œæˆ‘æŠŠè·¯ç”±å™¨ä¸Šçš„æ¢è¿‡æ¥äº†ï¼Œç„¶åçº¿è·¯éœ€è¦æ”¹ä¸‹ï¼Œæ²¡æ‹ç…§å°±ä¸ç»†è¯´äº†ï¼› ç”µæºè¿™é‡Œéœ€è¦æ¢ä¸ªå¼€å…³ ï¼šå› ä¸ºæœºç®±ä¸Šè¿™ä¸ªå¼€å…³æ˜¯æ²¡é”çš„ï¼Œæ„æ€æ˜¯åªæœ‰æŒ‰ä¸‹æ—¶æ˜¯è¿é€šçš„ï¼Œæ¾å¼€æ‰‹å°±æ˜¯æ–­è·¯äº†!è¿˜è®°å¾—æˆ‘ä»¬å‰é¢è¯´è¿‡çš„å¦‚ä½•å¯åŠ¨ç”µè„‘ç”µæºå§ï¼Œéœ€è¦æŒç»­çŸ­è·¯ç»¿çº¿å’ŒGNDï¼ŒçŸ­è·¯ä¸€ä¸‹å¯ä¸è¡Œï¼ è¦æƒ³æ‰¾åˆ°ä¸€ä¸ªä¸€æ ·çš„å¼€å…³å¯æ˜¯ä¸å®¹æ˜“ï¼Œæˆ‘å·®ç‚¹å°±æ”¾å¼ƒäº†ï¼Œå¥½åœ¨æˆ‘åˆæ‰¾åˆ°äº†ä¸€ä¸ªå¤§å­¦åšçš„LM386ç”µè·¯ï¼ˆç®€æ˜“å°åŠŸæ”¾ï¼‰ï¼Œä¸Šé¢åˆšå¥½æœ‰ä¸€ä¸ªè¿™æ ·çš„å¼€å…³ï¼Œç”šæ˜¯é«˜å…´ï¼Œæ¯«ä¸çŠ¹è±«ç‰ºç‰²ä»–å§ï¼Œå®è¯è¯´ï¼Œè¿™ä¸ª LM386 æ•ˆæœçœŸæ˜¯å·®å¾—å¾ˆï¼Œå°±æ˜¯ç»ƒæ‰‹è¯•ä¸‹ï¼ŒåŸºæœ¬æ²¡ç”¨è¿‡ï¼Œå¯æƒœå¿˜è®°æ‹ç…§äº†ï¼Œè¿™ä¸ªæ˜¯å»æ‰å¼€å…³åçš„ï¼š ps:çº¢è‰²ç¯æ˜¯ç”µæºæŒ‡ç¤ºç¯ï¼›é»„è“ç»¿æ˜¯ä¸Šé¢æˆ‘æåˆ°çš„å¾ªç¯é—ªçƒç¯ï¼Œç­‰æœ‰æ—¶é—´äº†æŠŠè¿™ä¸ªæ‹†æ‰ï¼Œè£…åˆ°å–‡å­å‘¨å›´å»ï¼›åŸæœ¬ç”¨æ¥æŒ‡ç¤ºç¡¬ç›˜è¯»å–æƒ…å†µçš„è“è‰²ç¯ï¼Œè¿™é‡Œç”¨æ¥æŒ‡ç¤ºéŸ³é‡çš„é«˜ä½ï¼ŒéŸ³é‡é«˜æ—¶ä¼šäº®ï¼ŒéŸ³é‡ä¸€èˆ¬éƒ½æ˜¯èµ·ä¼çš„ï¼Œæ‰€ä»¥ä¼šé—ªï¼Œä¸è¿‡å•çº¯çš„ä¾èµ–å–‡å­çš„ç”µæºå·®ç‚¹äº®LEDï¼Œè¿˜æ˜¯æœ‰ç‚¹æŒ‘æˆ˜çš„ï¼Œæ‰€ä»¥å£°éŸ³å°çš„æ—¶å€™ä¸ä¼šäº®â€¦ æ¥çº¿æ”¶å·¥ ç”µè„‘ç”µæºé»„è‰²çº¿æ¥æ”¶éŸ³æœºçº¢è‰²çº¿ï¼Œé»‘è‰²GNDç›¸æ¥ï¼› USB æ¥ 5V æ©™è‰²çº¿ï¼Œæ³¨æ„æ­£è´Ÿæï¼› å¤§å–‡å­æ¥åœ¨è€³æœºæ’å­”é‚£é‡Œï¼Œè€³æœºæ’å­”å…¶å®ä¹Ÿæ˜¯å¸¦å¼€å…³çš„ï¼Œä¸æ’å…¥è€³æœºæ—¶æ’­æ”¾å¤§å–‡å­ï¼Œæ’å…¥å£æ–­å¼€ï¼Œæ²¡æœ‰æ‹ç…§å°±ä¸è¯¦ç»†ä»‹ç»äº†; ç”µæºæŒ‡ç¤ºç¯ï¼Œæ¥ 3.3V ï¼Œæ³¨æ„éœ€è¦é…ä¸ªç”µé˜»å“ˆï¼› éŸ³é‡æŒ‡ç¤ºç¯ï¼Œæˆ‘ç›´æ¥æ¥åˆ°å¤§å–‡å­ä¸Šäº†ï¼ŒéŸ³é‡è°ƒåˆ°40ä»¥åæ‰ä¼šé—ªçƒï¼Œæ•ˆæœä¸ä½³ï¼ŒæŠ€æœ¯æœ‰é™ï¼Œä¹Ÿä¸çŸ¥é“å¦‚ä½•æ”¹è¿›â€¦ æ¢å¯¼èˆªåœºæ™¯ After Wordè¿™æ˜¯ä¸€ç§ä¹è¶£ï¼Œææ€•ä¹Ÿåªæœ‰åŒä¸º Geeker çš„ä½ æ‰èƒ½äº†è§£å§ï¼Œä½ å¯èƒ½ä¸èƒ½ç†è§£ï¼Œå·¥ä½œçš„æ—¶å€™ï¼Œå‡ ä¹éƒ½æ˜¯è¹²ç€ï¼Œç”µçƒ™é“çƒ§åˆ°æ‰‹æŒ‡ä¹Ÿæ— æ‰€è°“ï¼Œå¯èƒ½æ˜¨æ™šåˆšè£…å¥½ï¼Œä»Šå¤©åˆè¦æ‹†å¼€ï¼›ç­‰æˆ‘è¿ç»­æäº†3ä¸ªæ™šä¸Šå®Œå·¥åï¼Œå‘ç°è¿˜ä¸é”™ï¼Œç‰©æœ‰æ‰€ç”¨ï¼Œä¹‹å‰ç§¯æ”’äº†å‡ å¹´çš„ä¸œè¥¿ï¼Œç»ˆäºç”¨æ­¦ä¹‹åœ°ï¼ æ¯å¤©æ—©æ™¨èµ·æ¥å¯ä»¥å¬ä¸ªæ–°é—»äº†ï¼Œå£°éŸ³æ¸…æ™°å¤Ÿå¤§ï¼Œæ•´ä¸ªå±‹å­éƒ½å¯ä»¥å¬åˆ°ï¼Œä»¿ä½›å›åˆ°äº†è€å®¶çš„ç”Ÿæ´»æ–¹å¼ï¼Œæˆ‘èƒ½å‘Šè¯‰ä½ ï¼Œè€å®¶è¿˜æœ‰ä¸ªä¸ä¹‹ç±»ä¼¼çš„æ”¶éŸ³æœºä¹ˆâ€¦","categories":[],"tags":[{"name":"ç”Ÿæ´»ä¸­çš„æ¬¢ä¹","slug":"ç”Ÿæ´»ä¸­çš„æ¬¢ä¹","permalink":"http://debugly.cn/tags/ç”Ÿæ´»ä¸­çš„æ¬¢ä¹/"}]},{"title":"æˆ‘çš„ 2016","slug":"2016/12/31-my2016","date":"2016-12-31T11:52:32.000Z","updated":"2018-03-27T14:45:15.690Z","comments":true,"path":"2016/12/31/2016/12/31-my2016.html","link":"","permalink":"http://debugly.cn/2016/12/31/2016/12/31-my2016.html","excerpt":"","text":"è¦å’Œ 2016 è¯´å†è§äº†ï¼Œæ˜¯æ—¶å€™å¯¹ä»Šå¹´åšä¸ªæ€»ç»“äº†ï¼Œä»Šå¹´æ˜¯ä¸å¹³å‡¡çš„ä¸€å¹´ï¼Œå› ä¸ºå‘ç”Ÿäº†å‡ ä»¶äººç”Ÿé‡å¤§çš„äº‹æƒ…ï¼Œè¿˜æ˜¯æŒ‰ç…§æ—¶é—´é¡ºåºæ¥è¯´å§ï¼Œè¿™æ ·ç®€å•äº›ã€‚ ä¸‰äºš4 æœˆ â€” ä¹Ÿå°±æ˜¯åˆšè¿‡å®Œå¹´ä¸ä¹…ï¼Œå¤©è¿˜æœ‰äº›å†·çš„æ—¶å€™ï¼Œæˆ‘å’Œæœªå©šå¦»å»äº†è¶Ÿä¸‰äºšï¼Œç›®çš„ä¸æ˜¯å»æ—…è¡Œï¼Œè€Œæ˜¯å»æ‹å©šçº±ç…§ã€‚ 8 å·ï¼Œæˆ‘ä»¬ä¹˜ååœ°é“ä»ä¸°å°ä¸œå¤§è¡—å‡ºå‘åˆ°ä¸œç›´é—¨æ¢ä¹˜æœºåœºçº¿ï¼Œç„¶ååˆ°è¾¾åŒ—äº¬é¦–éƒ½å›½é™…æœºT2èˆªç«™æ¥¼ã€‚æ‰¾åˆ°è‡ªåŠ©æœºå™¨åŠç†å€¼æœºã€é¢†å–ç™»æœºç‰Œï¼Œä¸€èˆ¬å¾ˆå¿«ä¸éœ€è¦æ’é˜Ÿï¼Œæ‰¾åˆ°å¯¹åº”çš„èˆªç©ºå…¬å¸çš„æœºå™¨å°±è¡Œäº†ï¼›é£æœºä¸Šæ¯”è¾ƒä¸¥æ ¼ï¼Œè·Ÿåç«è½¦ä¸ä¸€æ ·ï¼Œå› æ­¤å¸¦ä¸œè¥¿è¦è°¨æ…ï¼Œå¦åˆ™å°±è¦åŠç†è¡Œææ‰˜è¿ï¼Œè¿™ä¸€èˆ¬éƒ½éœ€è¦æ’é˜Ÿï¼Œå¹¶ä¸”ä¸‹äº†é£æœºåè¿˜è¦ç­‰ä¸€ä¼šæ‰èƒ½æ‹¿åˆ°è‡ªå·±çš„è¡Œæï¼›æˆ‘ä»¬ä¹˜åçš„æ˜¯å—æ–¹èˆªç©ºçš„CZ6712æ¬¡èˆªç­ï¼Œå¥½åƒæŒºå‡†æ—¶çš„ï¼Œç™»æœºå°±ååä¼šå¼•å¯¼å…³é—­æ‰‹æœºç­‰è®¾å¤‡ï¼Œé£æœºèµ·é£å‰ä¼šåœ¨è·‘é“ä¸Šå…œå‡ åœˆï¼Œå…·ä½“æˆ‘ä¹Ÿä¸çŸ¥é“æ˜¯ä¸ºä½•ï¼Œæ˜¯åœ¨ç­‰ç‚¹ä¹ˆï¼Ÿèµ·é£æ—¶å¿ƒé‡Œè¿˜æ˜¯è›®ç´§å¼ çš„ï¼Œå‡ç©ºåä¸€ç›´æ–œç€å¾€ä¸Šçˆ¬ï¼Œä¼šæœ‰è¶…é‡çš„æ„Ÿè§‰ï¼Œè„‘è¢‹ç¨å¾®æœ‰äº›æ™•ï¼Œæœ‰å­©å­çš„è¯ï¼Œè¿™æ—¶ä¼°è®¡å­©å­ä¼šå“­å£°ä¸€ç‰‡ï¼Œå¤§æ¦‚è¿‡ä¸Šä¸€äºŒååˆ†é’Ÿï¼Œç»è¿‡ä¸¤ä¸‰æ¬¡ä¹‹åï¼Œé£æœºå°±è¶‹äºç¨³å®šäº†ï¼Œå›ºå®šåœ¨ 10000 ç±³å·¦å³çš„é«˜ç©ºï¼Œé£è¡Œé€Ÿåº¦å¤§æ¦‚æ˜¯600~700Km/h; ç„¶åå°±ä¼šæœ‰ç©ºå§è¿‡æ¥é€å…è´¹çš„åˆé¥­å’Œé¥®æ–™ï¼Œä¸€èˆ¬æ­é…çš„ä¼šæœ‰è”¬èœç›’å’Œå’¸èœå°é¢åŒ…ç­‰ï¼Œåƒèµ·æ¥è¿˜è¡Œã€‚ç»è¿‡å››ä¸ªå°æ—¶çš„é£è¡Œï¼Œæˆ‘ä»¬é¡ºåˆ©æŠµè¾¾äº†ä¸‰äºšå‡¤å‡°å›½é™…æœºåœºï¼Œç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯çƒ­ï¼æ¯•ç«Ÿæˆ‘ä»¬æ˜¯ä»å¤§åŒ—æ–¹è€Œæ¥ã€‚å©šçº±åº—åŒ…å«äº†æ¥æœºçš„ï¼Œç„¶ååç€ä»–ä»¬æ‰¾çš„è½¦å°±åˆ°äº†é…’åº—ï¼Œç¡®å®å¦‚ä»–ä»¬æ‰€è¯´æ˜¯çœŸæµ·æ™¯æˆ¿ï¼Œåœ¨é˜³å°ä¸Šå°±èƒ½çœ‹æµ·ï¼Œå¾ˆæ˜¯å…´å¥‹ï¼Œç„¶åå»äº†è®©å©šçº±åº—ï¼Œæ¯•ç«Ÿè¿™æ˜¯æ­£äº‹ï¼ŒæŒ‘é€‰äº†æ˜å¤©çš„ç¤¼æœï¼Œç„¶åè¿«ä¸åŠå¾…å»æµ·è¾¹äº†ï¼Œå…‰ç€è„šä¸«è¸©åœ¨æŸ”è½¯çš„æ²™æ»©ä¸Šï¼Œä»»å‡­æµ·æµªä¸€ä¸ªæ¥ç€ä¸€ä¸ªæ‹æ‰“ï¼Œæ™šä¸Šæ‰¾äº†ä¸ªåœ°æ–¹å»åƒäº†æµ·é²œï¼ŒæœŸå¾…ç€æ˜å¤©çš„æ‹ç…§ï¼ å—æµ·è§‚éŸ³åƒ é…’åº—å¯¹é¢çš„å¤§æµ· 9 å·å…ˆå»äº†å¤§å°æ´å¤©æ™¯åŒºæ‹æ‘„äº†ä¸€å¥—ç™½è‰²çš„å©šçº±ï¼Œä¸»è¦æ˜¯æµ·è¾¹å’Œæ¤°å­æ ‘ä¸‹æ‹ï¼Œç”±äºæ˜¯ 4 æœˆï¼Œè¿˜æ²¡åˆ°æ—…æ¸¸çš„æ—ºå­£ï¼Œäººä¸æ˜¯å¾ˆå¤šï¼Œæ–¹ä¾¿æ‹æ‘„å–æ™¯ï¼Œè¿™ä¸€å¼ æ˜¯æˆ‘ç”¨æ‰‹æœºæ‹çš„ ç„¶åæ¢äº†å¥—è¡£æœå»äº†æµ·å¤©ä¸€çº¿æ‹ï¼Œæµ·å¤©ä¸€çº¿åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå‰é¢æ˜¯ä¸€ä¸ªæ¸¸æ³³æ± ï¼Œåé¢ä¾¿æ˜¯å¤§æµ·ï¼Œæ‹å‡ºæ¥çš„æ•ˆæœå°±æ˜¯äººéƒ½åœ¨æ°´é¢ä¸Šï¼Œé™¤äº†æ°´ä¾¿æ˜¯å¤©ï¼Œæ‘„å½±å¸ˆåœ¨æ¸¸æ³³æ± è¿™å¤´æ‹æ‘„ï¼Œæ–°äººä»¬ç«™åœ¨æ¸¸æ³³æ± çš„å¯¹é¢å²¸ä¸Šï¼Œä¹‹é—´æœ‰å‡ åç±³çš„è·ç¦»ï¼Œè¯´è¯å¬ä¸æ¸…æ¥šï¼Œæ‰€ä»¥è¦å’Œæ‘„å½±å¸ˆé…åˆé»˜å¥‘äº›æ‰è¡Œï¼è¦æƒ³æ‹çš„æ•ˆæœå¥½äº›ï¼Œè¦æ”¾æ¾ï¼Œåˆ«æ‹˜ç€ï¼Œå¤šæƒ³ä¸€äº›å¼€å¿ƒçš„äº‹æƒ…ã€‚ æ¥ä¸‹æ¥ç¦»å¼€äº†æ™¯ç‚¹æ¢äº†å¥—è¡£æœï¼Œå»äº†æµ·ä¸Šçš„å¤§æ¸¸è‰‡ä¸Šæ‹ï¼Œæˆ‘æŒºå–œæ¬¢å¥¹çš„è¿™å¥—è¡£æœçš„ï¼Œä¹Ÿç•™äº†ä¸å°‘çš„ç…§ç‰‡ï¼Œç”šè‡³äºç°åœ¨çš„ç”µè„‘æ¡Œé¢ä¹Ÿæ˜¯è¿™å¥—è¡£æœçš„ã€‚ è¿™æ˜¯è‡ªæ‹çš„ æ¥ä¸‹æ¥å°±åˆ°äº†å‚æ™šäº†ï¼Œåœ¨æµ·è¾¹æ‹äº›å¤•é˜³ä¹‹ç±»çš„ï¼Œç„¶åå°±åˆ°äº†æ™šä¸Šäº†ï¼Œåˆ°äº†å©šçº±åº—æ‰€åœ¨å›­åŒºå†…åˆæ‹äº†å¥—ï¼Œä¸€å…±æ˜¯æ‹äº† 5 å¥—è¡£æœã€‚æ‹äº†ä¸€å¤©æŒºç´¯çš„ï¼Œä¹Ÿæ‹å®Œäº†ï¼Œæ‰€ä»¥æ‰¾ä¸ªåœ°æ–¹å»â€œè®©â€äººå®¶å®°å§ã€‚ 10 å·å…ˆæ˜¯å»äº†è¥¿å²›ï¼Œç„¶åæ˜¯å¤©æ¶¯æµ·è§’ æ­¤æ¬¡å»ä¸‰äºšï¼Œä¸æ‰æ­¤è¡Œï¼Œå› ä¸ºåˆ›é€ äº† N ä¸ªç¬¬ä¸€æ¬¡ï¼Œå’Œå¥¹ç•™ä¸‹äº†ä¸å°‘ç¾å¥½çš„å›å¿†ï¼åŒ…æ‹¬ç¬¬ä¸€æ¬¡å»è¿™ä¹ˆè¿œçš„åœ°æ–¹ï¼Œç¬¬ä¸€æ¬¡ä¸€èµ·åé£æœºã€‚ç¬¬ä¸€æ¬¡åˆ°æµ·è¾¹â€¦ æ–°å›¢é˜Ÿ5 æœˆ åˆæˆ‘åŠ å…¥äº†ç°åœ¨çš„å›¢é˜Ÿï¼ˆåŒå±äºè§†é¢‘ï¼Œåšçš„ä¸šåŠ¡å˜äº†ï¼Œè€å¤§æ¢äº†ï¼‰ï¼Œä¸å†ä»äº‹ App çš„å¼€å‘ï¼Œè€Œæ˜¯å¼€å¯äº† åƒå¸†ç›´æ’­ SDK çš„å¼€å‘å·¥ä½œï¼Œäº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬æ——ä¸‹çš„ 56 è§†é¢‘å»å¹´å¼€å§‹åšç›´æ’­äº†ï¼Œä¸ºäº†å¿«é€Ÿçš„å¯¼æµï¼Œæ‰“é€ å‡ºæœç‹çš„ç›´æ’­å“ç‰Œï¼Œé«˜å±‚å†³å®šåš SDK ï¼Œå°†ç›´æ’­æ¥å…¥æµé‡æ›´å¤§çš„æœç‹è§†é¢‘ç­‰æ ¸å¿ƒ App ä¸­ï¼Œå› æ­¤å°±éœ€è¦äººæ¥åšè¿™ä¸ª SDK ï¼Œæ­£å¥½æˆ‘æœ¬èº«å°±åœ¨æœç‹è§†é¢‘ iOS å›¢é˜Ÿï¼ŒåŠ ä¸Šæœ‰äº›æŠ€æœ¯åŠŸåº•ï¼Œå°±æ¯›é‚è‡ªèäº†ã€‚äº‹å®è¯æ˜ï¼Œæˆ‘æ¥åš SDK æ˜¯å¾ˆåˆé€‚çš„ï¼ŒæŠ€æœ¯ä¸Šå¯ç‹¬æŒ¡ä¸€é¢ï¼Œä¸ä¼šå»¶è¯¯å·¥æœŸï¼Œå¯¹æ¥ä¸Šï¼Œæˆ‘æœ¬æ¥å°±æ˜¯é‚£ä¸ªå›¢é˜Ÿçš„ï¼Œäººæ¯”è¾ƒç†Ÿæ‚‰ï¼Œäº‹æƒ…å¥½åŠäº›ï¼Œæ²Ÿé€šæ•ˆç‡é«˜ã€‚å› æ­¤ç»“æœå°±æ˜¯ SDK å¿«é€Ÿè¿­ä»£ï¼ŒApp é›†æˆç®€å•ï¼Œä¸€èˆ¬åªæ˜¯æ¢åŒ…å³å¯ï¼Œæœ‰éœ€è¦æˆ‘å°±å‡ºå·®å»å½“é¢å¯¹æ¥ï¼Œé…åˆå¾—å¾ˆé»˜å¥‘ï¼Œå¤§å®¶åˆä½œéƒ½æŒºæ„‰å¿«çš„ï¼ æˆ‘å–œæ¬¢è‡ªå·±å½“è€å¤§çš„æ„Ÿè§‰ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘é€‰æ‹©æ¥åš SDK çš„åŸå› ä¹‹ä¸€ï¼Œæ„Ÿè§‰å¥½åƒå›åˆ°äº† 2015 å¹´æˆ‘åœ¨åˆ›ä¸šå…¬å¸çš„é‚£æ®µæ—¶é—´ï¼Œé‚£æ—¶ä¹Ÿæ˜¯æˆ‘ä¸€ä¸ªäººå‘¢ï¼Œä»£ç æ¶æ„ä»»å‡­æˆ‘è®¾è®¡ï¼Œæƒ³æ€ä¹ˆæéƒ½è¡Œï¼Œä½†æˆ‘ä¹Ÿæ˜¯æœ‰åŸåˆ™çš„äººï¼Œä¸ä¼šæŠŠä»£ç æå¾—ä¹±ä¸ƒå…«ç³Ÿçš„ï¼ä¸€ä¸ªäººçš„å¥½å¤„æ˜¯é«˜æ•ˆï¼Œå› ä¸ºæˆ‘è‡ªå·±è·Ÿäº§å“å’Œå®‰å“çš„åŒäº‹æ²Ÿé€šå°± OK äº†ï¼Œå‰©ä¸‹çš„æ˜¯æŠ€æœ¯å®ç°ï¼Œæˆ‘æ˜¯ä¸ªå–œæ¬¢å†™ä»£ç çš„äººï¼Œæˆ‘å¯ä»¥åŠ ç­å‡ ç‚¹çš„èµ¶é¡¹ç›®è¿›åº¦ï¼Œåˆšå»çš„å‰ä¸¤ä¸ªæœˆå‡ ä¹æ˜¯æ¯å¤© 10 ç‚¹æ‰å¤šæ‰“è½¦å›å®¶ï¼Œåº¦è¿‡äº†é‚£æ®µå­¤å†›å¥‹æˆ˜çš„å²æœˆä¹‹åï¼Œ7æœˆå¤šé™†ç»­è¡¥ä¸Šäº†ä¸¤ä¸ªåŒäº‹ï¼Œé˜Ÿä¼å£®åˆ°äº† 3 äººï¼Œæˆ‘ä¸å†å­¤å•ï¼Œä»£ç ä¸Šä¹Ÿä¸æ¯«ä¸æ•¢éšæ„ï¼Œå› ä¸ºæˆ‘åŒäº‹å¾ˆå–œæ¬¢æ•´ç†ä»£ç ï¼Œä¹Ÿæœ‰å¼ºè¿«ç—‡ï¼Œæˆ‘ä»¬æœ‰ä¸ªå…±åŒçš„ç‰¹ç‚¹ â€” æœ€æ±‚å®Œç¾ï¼å“ªé‡Œä¸åˆé€‚ä»–ä¼šåŠæ—¶æå‡ºï¼Œå’Œæˆ‘å•†è®®åå†³å®šæ˜¯å¦è¦æ”¹ä¸‹ï¼Œæˆ‘æ‰¿è®¤ä¹‹å‰ä¸€ä¸ªäººæœ‰äº›åœ°æ–¹æ˜¯ä¸å¤ªåˆç†çš„ï¼Œéšç€ä¸šåŠ¡çš„å‘å±•ï¼Œæœ‰äº›é—®é¢˜å¼€å§‹æ˜¾éœ²å‡ºæ¥ï¼Œä¸è¿‡è¿˜å¥½ï¼Œæ²¡æœ‰å¾ˆå¤§çš„å‘ï¼Œæ¯•ç«Ÿä»£ç æ‰å‡ ä¸ªæœˆï¼Œæˆ‘è¿™ä¸ªä½œè€…è¿˜åœ¨ï¼Œä¸€åˆ‡éƒ½å¥½æ”¹ï¼ ä»Šå¹´æˆ‘ä»¬ åƒå¸†ç›´æ’­ SDK æä¾›ç»™è§†é¢‘å’Œæ–°é—»çš„ç‰ˆæœ¬è¿­ä»£äº† 8 æ¬¡ï¼Œæˆªæ­¢ç›®å‰åŸºç¡€åŠŸèƒ½å·²ç»å¤„äºå®Œå¤‡äº†ï¼Œå‰©ä¸‹çš„æ˜¯æƒ³å‡ºäº›å¥½ç©çš„ç‚¹å­ï¼Œè®©ç”¨æˆ·æœ‰ç²˜æ€§ï¼Œæ›´åŠ çš„æ´»è·ƒï¼å¦å¤–æ¥åˆ°é€šçŸ¥è¦åš å¤ºå® SDK äº†ï¼Œç±»ä¼¼äºç½‘æ˜“ä¸€å…ƒå¤ºå®ï¼Œå¤ºå®éœ€è¦å¥½å¥½æ¶æ„ï¼Œæœ‰äº›æŒ‘æˆ˜æ€§ï¼å› ä¸ºå¥¹å¯ä»¥ä½œä¸º åƒå¸†ç›´æ’­ SDK çš„ä¸€éƒ¨åˆ†ï¼Œé›†æˆåˆ°è§†é¢‘ï¼Œä¹Ÿå¯ä»¥å•ç‹¬è¾“å‡ºåˆ°åƒå¸†ç›´æ’­ä½¿ç”¨ï¼Œå› æ­¤éœ€è¦è®¾è®¡ä¸€ä¸ªæ¶æ„å‡ºæ¥æ‰è¡Œï¼Œç›®å‰å·²ç»æœ‰äº†æ€è·¯äº†ï¼Œæ—¥åå®ç°åå†å…±äº«å‡ºæ¥å§ã€‚ è¿™æ˜¯SDKçš„å…¥å£ä¹‹ä¸€ ç«–å±æ¨¡å¼ æ¨ªå±æ¨¡å¼ çœ‹åˆ°è¿™å¼ å›¾ï¼Œé¡ºä¾¿æä¸‹æ¨ªç«–å±è¿™å—è¿˜æ˜¯è›®æœ‰æŠ€æœ¯å«é‡çš„ï¼Œå…¶ä»–çš„UIè¿˜å¥½äº›ï¼Œç›´æ’­æµçš„å¤„ç†æŒºéº»çƒ¦çš„ï¼Œéœ€æ±‚æ˜¯è¿™æ ·çš„ï¼š PCç›´æ’­é—´ï¼šç«–å±æ˜¯åŠå±æ˜¾ç¤ºï¼Œè½¬ä¸ºæ¨ªå±æ—¶è¦å…¨å± æ‰‹æœºç›´æ’­é—´ï¼šæ¨ªç«–å±éƒ½æ˜¯å…¨å±çš„ï¼Œä½†æ˜¯ç›´æ’­æµçš„æ–¹å‘å§‹ç»ˆä¸å˜ï¼Œå› ä¸ºæœ‰çš„å¯èƒ½ä¼šæ¨ªå±å¼€æ’­ï¼Œå¦‚æœåšçš„æ›´ PC ä¸€æ ·æµè·Ÿéšå±å¹•è‡ªåŠ¨æ—‹è½¬çš„è¯ï¼Œä¼šå¯¼è‡´ä½ çœ‹çš„æ—¶å€™æ€»æ˜¯è·Ÿä½ ç›¸å·® 90 åº¦ï¼Œä½ ä¸å¾—ä¸æ­ªç€å¤´çœ‹ã€‚ æ‰‹æœºå’Œ PC å¯ä»¥éšæ—¶åˆ‡æ¢ ä¸‹æ’­ä¹‹åéšæ—¶å¯ä»¥å¼€æ’­ å®ç°æ–¹æ¡ˆï¼Œä»¥åæœ‰æ—¶é—´äº†ï¼Œæˆ‘å‡†å¤‡å†™ä¸ª demo å‡ºæ¥ã€‚ å¤©æ´¥å‰é¢è¯´äº†ï¼Œæˆ‘æ˜¯ 5 æœˆä»½åŠ å…¥äº†æ–°å›¢é˜Ÿï¼Œå…¶ä¸­æœ‰ä¸ªç¦åˆ©æ˜¯ï¼Œè§£å†³å¤©æ´¥æˆ·å£ï¼Œè€å®è¯´è¿™æ˜¯å¸å¼•æˆ‘åŠ å…¥çš„ä¸€ä¸ªé‡è¦å› ç´ ï¼Œæ‰€ä»¥åœ¨ 8 æœˆ 12 æ—¥åšå¥½äº†æ¬å®¶çš„å‡†å¤‡ï¼Œé‚£å¤©æˆ‘çš„åŒäº‹ â€” è€å¤´å­çš„æ•…äº‹ï¼ˆè¡«å“¥ï¼‰å¼€è½¦ä»åŒ—äº¬å‡ºå‘ï¼Œé€æˆ‘ä»¬åˆ°å¤©æ´¥ã€‚è·¯ä¸Šè¿˜ä¸‹äº†ç‚¹é›¨ï¼Œåˆ°è¾¾ååŸºæœ¬ä¸ä¸‹äº†ï¼Œå¼€å§‹æ¬ä¸œè¥¿åˆ°æ¥¼ä¸Šï¼Œç»“æœå·®ç‚¹å“åæˆ‘ï¼Œæˆ‘ä»¬æ¬ç€ä¸œè¥¿åˆ°äº† 22 å±‚ï¼Œå¼€äº†åŠå¤©å¼€ä¸å¼€é—¨äº†ï¼Œä¸€ä¸ªé™Œç”Ÿçš„åŸå¸‚ï¼Œç¬é—´æ„Ÿè§‰è¢«éª—äº†ï¼Œæˆ¿å­æ˜¯æˆ‘ä¸€æ˜ŸæœŸå‰å®šä¸‹çš„ï¼Œæˆ¿ç§Ÿéƒ½äº¤äº†å‘¢ï¼æ¥ç€å°±å¼€å§‹æ•²é—¨ï¼Œçªç„¶é—¨å¼€äº†ï¼Œå½»åº•æ‡µé€¼äº†ï¼Œäººå®¶ç›´æ¥é—®æˆ‘ä»¬æ˜¯å¹²å•¥çš„ï¼Œä¸ºå•¥å¼€ä»–å®¶çš„é—¨ï¼Œæˆ‘èµ¶ç´§æ‹¿åˆåŒå»çœ‹ï¼Œç»“æœæ˜¯ç§Ÿçš„æ˜¯æ¥¼ä¸‹ 21 å±‚çš„â€¦. å“ï¼Œå¯èƒ½æ˜¯çœ‹æ¬¢ä¹é¢‚çœ‹å¾—äº†å§ï¼Œè„‘è¢‹é‡Œæ®‹ç•™äº† 22 è¿™ä¸ªè®°å¿†ï¼Œå¥½åœ¨æœ‰æƒŠæ— é™©ï¼ å¤©æ´¥çš„ç”Ÿæ´»è¿˜å¥½ï¼Œç§Ÿçš„æˆ¿å­ç¦»å®¶å¾ˆè¿‘ï¼Œä¸­åˆè¿˜èƒ½å›å®¶åƒä¸ªé¥­ï¼Œè¿™åœ¨åŒ—äº¬ç¡®å®æ²¡æƒ³è¿‡ã€‚æ»¨æµ·æ–°åŒºä¹Ÿä¸é™å·ï¼Œå¤–åœ°è½¦ç¡®å®å¾ˆå¤šï¼Œè¿™é‡Œç¦»å¸‚åŒºæŒºè¿œçš„ï¼Œä¸€èˆ¬ä¹Ÿä¸å»å¸‚é‡Œé¢é€›ï¼Œæ‰“ç®—æ˜å¹´æš–å’Œäº†å¼€è½¦å»é™„ä»¶å¤šè½¬è½¬ï¼Œç°åœ¨è¯¥è¿‡å¹´äº†ï¼Œæˆ‘éœ€è¦å¤šç†Ÿæ‚‰ä¸‹è½¦ï¼Œè¿‡å¹´å‡†å¤‡å¼€è½¦å›å»ã€‚ ç»“å©š9 æœˆ 18 æ—¥æˆ‘ä»¬é¢†è¯äº†ï¼Œ22 æ—¥åœ¨è€å®¶ä¸¾åŠäº†å©šç¤¼ï¼Œæ„Ÿè°¢å®¶äººçš„å¿™ç¢Œï¼Œäº²æˆšæœ‹å‹çš„æ§åœºï¼Œæ„Ÿè°¢æˆ‘çš„åŒå­¦èƒ½å¤Ÿå»å‚åŠ ï¼Œä¹Ÿå¸®äº†ä¸å°‘çš„å¿™ï¼ å¹¿å·10 æœˆ å»äº†è¶Ÿå¹¿å·ï¼Œç›®çš„æ˜¯ç¡®å®šä¸‹æ”¯ä»˜ç›¸å…³æ–¹æ¡ˆï¼Œåƒå¸†ç›´æ’­ SDK è¦æ¥å†…è´­ï¼Œå»äº†æ²¡é—²ç€ï¼Œæ—©æ™¨å»ç©ï¼Œæ™šä¸Šçº¦æœ‹å‹ï¼Œç™½å¤©åœ¨ 56 å¿™å·¥ä½œï¼Œç”Ÿæ´»å¾ˆæƒ¬æ„ï¼Œå¹¿å·çš„ç¯å¢ƒçœŸæ˜¯å¥½ï¼Œè‹¥æ˜¯èƒ½å¤šå‘†å‡ å¤©å°±å¥½äº†â€¦ åå—ç†å·¥ æµ·ç æ¹–å…¬å›­ï¼Œæ¹¿åœ° å¹¿å·å¡” å¤©æ²³å…¬å›­ï¼Œçªç„¶ä¸‹å¤§é›¨æˆ‘å’Œéƒ‘å“¥è¢«å›°è¿‘ä¸€ä¸ªå°æ—¶o(â•¯â–¡â•°)o è¶Šç§€å…¬å›­ï¼Œäº”ç¾Šé›•åƒ ä¹°è½¦12 æœˆ 24 æ—¥æ˜¯å¹³å®‰å¤œï¼Œè¿™å¤©æˆ‘æ”¶åˆ°äº†çˆ±äººç»™æˆ‘çš„ä¸€ä¸ªå¤§ç¤¼åŒ…ï¼Œæˆ‘ä»¬ä¹°è½¦äº†ï¼Œè¿™å¤©å¥¹å’Œå“¥å“¥ä»éƒ‘å·å¼€åˆ°äº†å¤©æ´¥ï¼Œè€Œæˆ‘åœ¨åŠ ç­ã€‚åœ¨è¿™é‡Œæˆ‘æƒ³æ„Ÿè°¢ä¸‹æˆ‘çš„è€å©†å’Œå¤§èˆ…å“¥ï¼Œæ›¿æˆ‘æ“äº†ä¸å°‘å¿ƒï¼Œè®©æˆ‘å°‘äº†äº›å¥”æ³¢ï¼ŒèŠ‚çœä¸‹æ—¶é—´å»å®‰å®‰é™é™åœ°å·¥ä½œã€‚ä¸‹å›¾æ˜¯åæ¥è¡¥ä¸Šçš„ï¼Œ17å¹´æ˜¥èŠ‚å›å®¶æ‹çš„ï¼š æ€»ç»“ä»Šå¹´æ˜¯ä¸å¹³å‡¡çš„ä¸€å¹´ï¼Œä¹Ÿæ˜¯ä¸°æ”¶çš„ä¸€å¹´ï¼ åŠäº†äººç”Ÿä¸­çš„å¤§äº‹ï¼Œå¨¶åˆ°äº†æ¢¦å¯ä»¥æ±‚çš„è€å©†ï¼Œå©šåç”Ÿæ´»å¾ˆå¹¸ç¦ï¼Œè¿™å°±å¤Ÿäº†ï¼ å·¥ä½œä¸Šæ¢äº†å›¢é˜Ÿï¼Œæ¢äº†åœ°ç‚¹ï¼Œå‘ç”Ÿäº†å¾ˆå¤§çš„å˜åŒ–ï¼Œä¸è¿‡é¢†å¯¼å¯¹æˆ‘æ˜¯æ»¡æ„ï¼Œè¿™å°±å¤Ÿäº†ï¼ æŠ€æœ¯ä¸Šä¹Ÿæœ‰äº†å¾ˆå¤§è¿›æ­¥ï¼Œç§¯ç´¯äº†ä¸å°‘çš„åš SDK çš„æ¶æ„ç»éªŒï¼Œè¿™å°±å¤Ÿäº†ï¼ 2015 å¹´æ›¾ç»è¯´è¦åœ¨ä»Šå¹´å¤šçœ‹å¼€æºä»£ç çš„ï¼Œåšçš„ä¸å¥½ï¼Œæ²¡æ€ä¹ˆçœ‹ï¼Œä¸è¿‡ç½‘ç»œè¿™å—ç»è¿‡å‡ æ¬¡é‡æ„åï¼Œæ„Ÿè§‰å·²ç»å¾ˆä¸é”™äº†ï¼Œæ—¥åå‡†å¤‡å¼€æºï¼ 2016 å°±è¿™æ ·äº†â€¦ 2017 ä½ æƒ³æ€æ · ï¼Ÿè¯•ç€å»åŠªåŠ›å§ï¼Œä½ å°±èƒ½æ€æ · ï¼","categories":[],"tags":[{"name":"ä¸ªäººæ€»ç»“","slug":"ä¸ªäººæ€»ç»“","permalink":"http://debugly.cn/tags/ä¸ªäººæ€»ç»“/"}]},{"title":"åƒå¸† SDK Refactor: ä¼˜é›…çš„å¤„ç†èŠå¤©æ•°æ®æº","slug":"2016/12/03-qfsdk-refactor-chat","date":"2016-12-03T04:04:20.000Z","updated":"2018-03-27T14:45:15.690Z","comments":true,"path":"2016/12/03/2016/12/03-qfsdk-refactor-chat.html","link":"","permalink":"http://debugly.cn/2016/12/03/2016/12/03-qfsdk-refactor-chat.html","excerpt":"","text":"ä»¥ä¸‹è®¨è®ºåŸºäºçš„å‰ææ€æƒ³æ˜¯ï¼šCell å’Œ Model æ˜¯ç»‘å®šçš„ï¼Œä¸€ä¸€å¯¹åº”çš„ï¼›Cell æ˜¯æ•°æ®æºæ‰€å†³å®šçš„ï¼ŒCell è¦åšçš„å°±æ˜¯å±•ç¤ºæ•°æ®æºè€Œå·²ï¼Œæˆ–è€…è¯´æ˜¯å…ˆç¡®å®šçš„æ•°æ®æºè€Œä¸æ˜¯ Cellï¼Œå› æ­¤æˆ‘ä»¬ä»Šå¤©ä»¥è®¨è®º Model ä¸ºä¸»ã€‚ç®€å•çš„æ¦‚æ‹¬è¿™æ¬¡é‡æ„æ˜¯ä¸º Cell å»ºç«‹ä¸€ä¸ªCellModelï¼Œä»–æœ‰ä¸ªå®ç°æ„å»ºåè®®çš„å±æ€§ï¼Œå±•ç¤ºå‰é€šè¿‡åè®®æ–¹æ³•æ„å»º Celléœ€è¦çš„æ•°æ®å¹¶ä¸”å­˜å‚¨åˆ° CellModel é‡Œï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯éšä¾¿ä¸€ä¸ªModeléƒ½å¯ä»¥ä½œä¸ºæ•°æ®æºä½¿ç”¨ï¼Œåªéœ€å®ç°å¿…è¦çš„åè®®ï¼ŒCellä¹Ÿä¸å¿…å…³å¿ƒæ•°æ®æºåˆ°åº•æ˜¯è°æä¾›çš„ï¼ åŸºäºåè®®çš„CellModelç°çŠ¶ï¼šCell ç»‘å®š SLLiveRoomModelåƒå¸† SDK ç›´æ’­é—´çš„èŠå¤©æ˜¯é€šè¿‡ UITableview å±•ç¤ºçš„ï¼Œä»Šå¤©å°±æ¥èŠä¸€èŠå¦‚ä½•ä¼˜é›…çš„å¤„ç† UITableview æ•°æ®æºé—®é¢˜ã€‚æ—¢ç„¶è¿™ç¯‡æ–‡ç« å±äºé‡æ„ç¯‡ï¼Œå› æ­¤æˆ‘è¦è¯´å‡ºé‡æ„çš„ç†ç”±å“ˆï¼Œè¿™æ¬¡é‡æ„çš„å¯¼ç«çº¿æ˜¯èŠå¤©åŒºåŸŸè¦å±•ç¤ºç”¨æˆ·é€ç»™ä¸»æ’­çš„åƒå¸†ç››å…¸ç¥¨ã€‚ èŠå¤©æ˜¯ä» Chat ã€BCç­‰é€šé“è¿”å›çš„ï¼Œç‰¹ç‚¹æ˜¯æ•°æ®ç»“æ„ç±»ä¼¼ï¼Œæœ€é‡è¦çš„æ˜¯æ¯ä¸ªé€šé“åªæœ‰ä¸€ç§äº‹ä»¶ï¼ˆä¸€ç§ JOSN ç»“æ„ï¼Œæ²¡æœ‰ç±»å‹è€Œè¨€ï¼‰éœ€è¦å¤„ç†ï¼Œå› æ­¤æŠ½å–äº†ä¸€ä¸ªçˆ¶ç±»SLLiveRoomModel é‡‡ç”¨äº†å·¥å‚çš„å½¢å¼å»è§£æï¼Œé€šè¿‡å¢åŠ ä¸€ä¸ªæšä¸¾å±æ€§æ¥åŒºåˆ†å¼€ Modelï¼Œæ¯ä¸ªæšä¸¾éƒ½å¯¹åº”äº†ä¸€ä¸ªå­ç±»ï¼Œçˆ¶ç±»çš„ modelWithSocketJSON æ–¹æ³•é‡Œæ ¹æ® route å­—æ®µé€‰æ‹©å‡ºä¸€ä¸ªåˆé€‚çš„å­ç±»ï¼Œå¹¶ä¸”ç¡®å®šä¸€ä¸ªæšä¸¾å€¼; ç››å…¸ç¥¨çš„ JSON æ•°æ®æ˜¯ä» RC é€šé“è¿”å›çš„ï¼Œè¿™ä¸ªé€šé“çš„æœ‰ä¸ªtypeå­—æ®µï¼Œç”¨äºæ ‡è¯†ç±»å‹ï¼Œç››å…¸ç¥¨çš„typeæ˜¯47(ä»¥åç®€ç§°ä¸º RC47)ï¼Œä¸åŒç±»å‹å¯¹åº”ä¸åŒçš„ä¸šåŠ¡ï¼Œç›®å‰å·²ç»å¤„ç†äº†ä¸‰ç§ç±»å‹ï¼Œè¿™ä¸‰ç§ç±»å‹å¹¶ä¸ç‰µæ¶‰æ˜¾ç¤ºåˆ°èŠå¤©åŒºï¼Œç›®å‰çš„åšæ³•æ˜¯æŠ½å–ä¸€ä¸ª RCBaseModel çˆ¶ç±»ï¼ˆç›¸å½“äºå·¥åœºï¼‰ç”¨äºç»Ÿä¸€è§£æJSONä¸ºModelï¼› ç®€å•äº†è§£äº†ç°çŠ¶å’Œéœ€æ±‚ä¹‹åï¼Œæˆ‘ä»¬çœ‹ä¸‹é‡åˆ°çš„é—®é¢˜ï¼šRC47éœ€è¦æ˜¾ç¤ºåˆ°èŠå¤©åŒºï¼Œè€ŒèŠå¤©åŒºçš„æ•°æ®éƒ½æ˜¯ SLLiveRoomModel ç±»çš„å­ç±»ï¼ŒRC47 å´æ˜¯ RCBaseModel çš„å­ç±»ï¼Œè¿™å—æ— æ³•åšåˆ°ç»Ÿä¸€ï¼å¯¹æ­¤æˆ‘æƒ³äº†ä¸¤ä¸ªæ”¹åŠ¨æ¯”è¾ƒå°çš„æ–¹æ¡ˆï¼š å°† RC47 ç»§æ‰¿ SLLiveRoomModel ç±»; å¸¦æ¥çš„é—®é¢˜æ˜¯éœ€è¦åœ¨ RC é€šé“æ ¹æ® type è¿›è¡Œä¸åŒçš„è§£æï¼Œå°±ä¼šå‡ºç°åˆ†æ”¯ï¼ŒåŸæœ¬åº”è¯¥æ˜¯ RCBaseModel çš„å­ç±»ï¼Œç°åœ¨å´ææˆäº† SLLiveRoomModel çš„å­ç±»ï¼ŒModel è§£ææ—¶ä¸å†æ˜¯ç»Ÿä¸€ï¼å¦‚æœä»¥åå†å‡ºç° RC47 çš„ç±»ä¼¼æƒ…å†µï¼Œåˆ†æ”¯æ›´å¤šï¼Œæ—¶é—´ä¹…äº†é€»è¾‘å°±ä¼šç¢ç‰‡åŒ–ï¼ å°† Cell æ•°æ®æºæ”¹ä¸º id ,å†…éƒ¨é€šè¿‡åˆ¤æ–­ class å»è§£å†³ï¼›å¸¦æ¥çš„é—®é¢˜æ˜¯ Cell å†…éƒ¨çš„å¤„ç†æ˜¾å¾—ä¸å¤Ÿä¼˜é›…ï¼Œä¹…è€Œä¹…ä¹‹ä¹Ÿä¼šç¢ç‰‡åŒ–ï¼ æ”¹è¿›ï¼šCell ç»‘å®š SLLiveRoomCellModelä»¥ä¸Šä¸¤ç§æ–¹æ³•éƒ½æ˜¯æƒå®œä¹‹è®¡ï¼Œäºæ˜¯æˆ‘å’ŒåŒäº‹è¿›è¡Œäº†ä¸€ç•ªè®¨è®ºäº†ä¹‹åï¼Œé‡‡ç”¨æˆ‘ 15 å¹´åœ¨åˆ›ä¸šå…¬å¸çš„åšæ³•ï¼Œå¹¶ä¸”åšäº†ä¸ªå‡çº§(åŸºäºåè®®)ï¼Œæ›´åŠ ä¼˜ç§€äº†ï¼ä¸‹é¢è¯´ä¸‹ 16 ç‰ˆçš„å“ˆï¼š åŸºäºåè®®çš„ï¼Œå°† Cell éœ€è¦çš„æ•°æ®åè®®åŒ–ï¼ŒCell ä¸ä¾èµ–äºçœŸæ­£çš„æ•°æ®æºï¼ˆmodelï¼‰ï¼Œè€Œæ˜¯æ‹¥æœ‰ä¸€ä¸ªé€šç”¨çš„æ•°æ®æºï¼ˆcellModelï¼‰ï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯ Cell ä¸ä¼šå¯¹æ•°æ®æºï¼ˆmodelï¼‰äº§ç”Ÿä¾èµ–ï¼Œæ•°æ®æºå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼› æ•°æ®æºçš„æ„å»ºå¾ˆçµæ´»ï¼Œä¸åŒçš„æ•°æ®æºä»æ—§å¯ä»¥ä½¿ç”¨å„è‡ªçš„çˆ¶ç±»çš„é€šç”¨è§£ææ–¹å¼ï¼› æ•°æ®æºå¯æ³¨å†Œç‚¹å‡»äº‹ä»¶çš„ blockï¼Œä¸æ³¨å†Œæ„å‘³ç€ä¸éœ€è¦ç‚¹å‡»äº‹ä»¶ï¼Œé¡¶çº§åæ— ååº”ï¼› ä»å®é™…å‡ºå‘ï¼Œæˆ‘çš„ Cell éœ€è¦çš„å±•ç¤ºä¸€ä¸ªå±æ€§å­—ç¬¦ä¸²ï¼Œè·å–åˆ°è¡Œé«˜è€Œå·²ï¼Œå› æ­¤åˆ¶è®¢çš„åè®®å¦‚ä¸‹ï¼š 12345@protocol SLLiveRoomCellModelBuitProtocol &lt;NSObject&gt;@required;- (float)heightForCell;- (NSAttributedString *)attributedStringForCell;@end å†æ ¹æ®éœ€è¦åˆ¶è®¢ CellModelï¼Œéœ€è¦çš„æ˜¯å­˜å‚¨å±æ€§å­—ç¬¦ä¸²ã€è¡Œé«˜ã€çœŸæ­£çš„æ•°æ®æºmodelï¼Œå¦‚ä¸‹ï¼š 123456789@interface SLLiveRoomCellModel : NSObject@property (nonatomic, assign) float cellHeight;@property (nonatomic, strong) NSAttributedString * attributedText;@property (nonatomic, strong) id&lt;SLLiveRoomCellModelBuitProtocol&gt;model;//çœŸæ­£çš„æ•°æ®æ”¯æ’‘///æ„å»ºcellModelå¿…é¡»çš„è¡Œé«˜å’Œæ˜¾ç¤ºçš„å±æ€§å­—ç¬¦ä¸²- (void)buildit;@end å› æ­¤ä»»æ„modleå¦‚æœæƒ³è¦ä½œä¸º cell çš„çœŸæ­£æ•°æ®æºï¼Œåªè¦å®ç°å¿…è¦çš„æ–¹æ³•æ‰è¡Œäº†ï¼Œåˆ«å¦‚ RC47Modelã€SLLiveRoomModel ç­‰ã€‚ æ•´ç†è§£æCell æ•°æ®æºè¿™å—å·²ç»æ•´ç†å¥½äº†ï¼Œæ¥ä¸‹æ¥æ¢³ç†ä¸‹ä» Socket é€šé“æ¥æ”¶åˆ° JSON æ•°æ®åˆ°æ„å»ºå‡º SLLiveRoomCellModel çš„è¿‡ç¨‹ï¼š Parser JOSN-&gt;Model 1234- (SLCommonRCBaseModel *)parserCommRCJSON:(id)json&#123; return [SLCommonRCBaseModel modelWithSocketJSON:json];&#125; Build Model-&gt;CellModel 1234567- (SLLiveRoomCellModel *)buildCellModelFromCommRC47Model:(SLComRC47Model *)rcModel&#123; SLLiveRoomCellModel *model = [[SLLiveRoomCellModel alloc] init]; model.model = rcModel; [model buildit];//å‰é¢åŠ è¿‡æ³¨é‡Šçš„ï¼Œä¼šè°ƒç”¨åè®®æ–¹æ³•ç”¨äºæ„å»ºï¼› return model;&#125; Show RC47 JSON-&gt;Cell 123456789- (void)append2ChatListWithCommRC47Model:(SLComRC47Model *)model&#123; if (model) &#123; SLLiveRoomCellModel *cellModel = [self buildCellModelFromCommRC47Model:model]; if(cellModel)&#123; [self append2ChatCellModel:cellModel]; &#125; &#125;&#125; è¿™æ˜¯æ•´ä¸ªè¿‡ç¨‹ï¼Œç°åœ¨åˆèµ·æ¥çœ‹ä¸‹RCå¤„ç†çš„æ•´ä¸ªè¿‡ç¨‹ï¼š å¤„ç†é€šç”¨ç»„æ’­ 123456789101112131415161718192021222324252627- (void)handleComRCEvent:(NSDictionary *)json&#123; SLCommonRCBaseModel *baseModel = [self parserCommRCJSON:json]; switch (baseModel.rcType) &#123; case SLCommonRCType28: &#123; //ä¸éœ€è¦æ˜¾ç¤ºåˆ°èŠå¤©åŒºï¼Œè‡ªæœ‰åˆ«çš„å¤„ç†é€»è¾‘... &#125; break; case SLCommonRCType32: &#123; //ä¸éœ€è¦æ˜¾ç¤ºåˆ°èŠå¤©åŒºï¼Œè‡ªæœ‰åˆ«çš„å¤„ç†é€»è¾‘... &#125; break; case SLCommonRCType53: &#123; //ä¸éœ€è¦æ˜¾ç¤ºåˆ°èŠå¤©åŒºï¼Œè‡ªæœ‰åˆ«çš„å¤„ç†é€»è¾‘... &#125; break; case SLCommonRCType47: &#123; SLComRC47Model *rc47 = (SLComRC47Model *)baseModel; [self append2ChatListWithCommRC47Model:rc47]; &#125; break; &#125;&#125; å¯ä»¥çœ‹å‡ºï¼ŒRCçš„å¤„ç†æµç¨‹æ˜¯ç»Ÿä¸€çš„ï¼Œå…ˆè§£æä¸ºModelï¼Œç„¶åæ ¹æ® type åšä¸åŒçš„å¤„ç†ï¼Œå¯¹äºä¹‹å‰çš„èŠå¤©é€šé“çš„æ•°æ®å¤„ç†æ–¹å¼æ¯”è¿™ä¸ªæ›´ç®€å•ï¼Œå°±ä¸å†ç²˜è´´ä»£ç äº†ï¼Œå› ä¸ºé‚£äº›é€šé“æ²¡æœ‰ typeï¼Œæ¯”è¾ƒå•ä¸€ï¼Œå¤„ç†èµ·æ¥æ›´ç®€å•ï¼ æ•´ç†ç‚¹å‡»å¤„ç†é€»è¾‘æŠŠç‚¹å‡»äº‹ä»¶çš„å¤„ç†è·Ÿæ„å»ºCellModelçš„é€»è¾‘æ”¾åœ¨ä¸€å—ï¼è¿™æ˜¯æˆ‘çš„åŒäº‹ç»™æˆ‘æçš„å»ºè®®ï¼Œæˆ‘è§‰å¾—å¾ˆå¥½ï¼Œäºæ˜¯å°±ä¸º CellModel åŠ äº†å¦‚ä¸‹æ–¹æ³•ï¼Œä»¥ä¾¿äºæ”¯æŒæ³¨å†Œ Block å¤„ç†ç‚¹å‡»äº‹ä»¶ï¼š 123typedef void(^SLLiveRoomCellHandler)(SLLiveRoomCellModel *model);- (void)registerHandler:(SLLiveRoomCellHandler)handler;- (void)invokeHandler; é…åˆç‚¹å‡»çš„ä»£ç†æ–¹æ³•å®ç° block å›è°ƒï¼š 1234567- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath&#123; [tableView deselectRowAtIndexPath:indexPath animated:NO]; SLLiveRoomCellModel *cellModel = [self.dataSource objectOrNilAtIndex:indexPath.row]; [cellModel invokeHandler];//å›è°ƒblockï¼›&#125; çœ‹ä¸‹ä½¿ç”¨å§ï¼š 1234567891011121314- (SLLiveRoomCellModel *)buildCellModelFromChatModel:(SLLiveRoomModel *)cModel&#123; SLLiveRoomCellModel *model = [[SLLiveRoomCellModel alloc]init]; model.model = cModel; [model buildit]; ///åªæœ‰è¿™ç§ç±»å‹æ‰å»æ³¨å†Œç‚¹å‡»äº‹ä»¶ï¼› if (cModel &amp;&amp; SLLiveRoomMessageTypeBC == cModel.messageType) &#123; [model registerHandler:^(SLLiveRoomCellModel *model) &#123; ///å¤„ç†ç‚¹å‡»äº‹ä»¶é€»è¾‘... &#125;]; &#125; return model;&#125; çœ‹èµ·æ¥ä¸é”™å‘¢ï¼Œé€»è¾‘å¾ˆç´§å‡‘ï¼Œæ„å»ºå’Œç‚¹å‡»äº‹ä»¶çš„å¤„ç†éƒ½æ”¾åœ¨ä¸€å—äº†ï¼Œæ£€æŸ¥ä»£ç ï¼Œæˆ–è€…æŠŠè¿™ä¸€å—é€»è¾‘å°è£…ä¸ºä¸€ä¸ªæ–¹æ³•ç­‰éƒ½å¾ˆæ–¹ä¾¿ã€‚ ç»“æŸè¯­åˆ°æ­¤ï¼Œè¿™æ¬¡æ•°æ®æºå’Œè§£æçš„é‡æ„å°±ç»“æŸäº†ï¼Œç¡®å®åšåˆ°äº†åˆ†ç¦»ï¼Œå„æœ‰è‡ªå·±çš„ç»§æ‰¿ä½“ç³»ï¼Œæ²¡æœ‰è€¦åˆï¼›è¿™æ¬¡é‡æ„å¾ˆé€‚åˆç›´æ’­é—´çš„ä¸šåŠ¡é€»è¾‘ï¼Œå¯¹äºåˆ«çš„ä¸šåŠ¡è¿˜æ˜¯è¦å…·ä½“åˆ†ææ‰è¡Œï¼Œä¸å¯æ­»æ¬ç¡¬å¥—å“ˆï¼ æœ‰ä¸ªç»†èŠ‚æˆ‘æƒ³æä¸‹ï¼Œå°±æ˜¯ä» Socket é€šé“æ¥å—åˆ°æ•°æ®å¼€å§‹å‡ä¸ºå¼‚æ­¥çš„ï¼Œç›´åˆ°æ„å»ºå®Œ CellModelï¼Œå±•ç¤ºåˆ° Cell ä¸Šæ—¶æ‰å›åˆ°ä¸»çº¿ç¨‹ï¼Œæ‰€ä»¥å³ä½¿ç›´æ’­é—´ç«çˆ†ï¼Œä¸€ç›´åˆ·å±ä¹Ÿä¸ä¼šå› ä¸ºèŠå¤©è§£æå¯¼è‡´å¡é¡¿ï¼Œè¿™ä¸ªæ˜¯ç»è¿‡æµ‹è¯•çš„å‘¢ï¼","categories":[],"tags":[{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"SLNetwork æ”¯æŒé“¾å¼ç¼–ç¨‹","slug":"2016/12/02-network-support-chain","date":"2016-12-02T14:00:59.000Z","updated":"2018-03-27T14:45:15.690Z","comments":true,"path":"2016/12/02/2016/12/02-network-support-chain.html","link":"","permalink":"http://debugly.cn/2016/12/02/2016/12/02-network-support-chain.html","excerpt":"","text":"ä¹‹å‰ç”¨ Masonry å†™è¿‡ä¸€é˜µå­è‡ªåŠ¨å¸ƒå±€ï¼Œæ„Ÿè§‰å¾ˆæ˜¯æ–¹ä¾¿ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯ï¼šä½¿ç”¨blockï¼Œåœ¨blockå—å†…ç¼–å†™çº¦æŸå³å¯ï¼Œæ–¹ä¾¿ update çº¦æŸï¼Œå¹¶ä¸”æ”¯æŒé“¾å¼ç¼–ç¨‹ï¼Œäºæ˜¯æˆ‘ç ”ç©¶äº†ä¸‹å¦‚ä½•é“¾å¼ç¼–ç¨‹åï¼Œä¸ºæˆ‘çš„ç½‘ç»œè¯·æ±‚ä¹ŸåŠ äº†è¿™ä¸ªåŠŸèƒ½â€¦ æ€è€ƒå¦‚ä½•æ‰èƒ½åšåˆ°é“¾å¼å¿…é¡»æ»¡è¶³çš„ä¸€ä¸ªæ¡ä»¶è‚¯å®šæ˜¯è°ƒç”¨æ–¹æ³•ä¹‹åï¼Œæ–¹æ³•çš„è¿”å›å€¼è°ƒç”¨è€…æœ¬èº«å•¦ï¼›å¦‚ä½•ä¼˜é›…åœ°è¿”å›è‡ªèº«å¯¹è±¡å‘¢ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯è¿™æ ·ï¼Ÿ 12345- (SLNetworkRequest *)c_setResponseParser:(id&lt;SLNHTTPResponseParser&gt;)responseParser&#123; [self setResponseParser:responseParser]; return self;&#125; è¿™æ ·çš„è¯ï¼Œä½ ä¼šå‘ç°ä¸è¡Œï¼Œå› ä¸ºè°ƒç”¨çš„æ—¶å€™å¤ªä¸æ–¹ä¾¿äº†å•Šï¼Œä½ å¾—ä½¿ç”¨ä¸­æ‹¬å·çš„æ–¹å¼è°ƒç”¨ï¼Œç‚¹è¯­æ³•ä¹Ÿä¸è¡Œäº†ï¼Œå› ä¸ºä½¿ç”¨ç‚¹è¯­æ³•çš„è¯éœ€è¦æœ‰ç­‰å·å•Šï¼ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è§£å†³çš„æ˜¯ï¼š èƒ½å¤Ÿæ”¯æŒæ‰“ç‚¹è°ƒç”¨ï¼›æ‹¬å·ä¸æ–¹ä¾¿! ä¸èƒ½æœ‰å‚æ•°ï¼Œå¦åˆ™é€ æˆè°ƒç”¨çš„æ—¶å€™ä¼ å‚è¦ç”¨ç­‰å·ï¼ å¿…é¡»æœ‰è¿”å›å€¼ï¼›è¿”å›è‡ªèº«å¯¹è±¡ï¼› èƒ½å¤Ÿå¸¦å‚æ•°ï¼Œè¿™æ ·æ‰å®ç”¨ï¼› åŸºäºå‰ 3 ç‚¹å¯ä»¥å†™å¦‚ä¸‹æ–¹æ³•ï¼š 1234- (self)test;//è°ƒç”¨self.test; æ¥ä¸‹æ¥éœ€è¦åšçš„æ˜¯ç¬¬4ç‚¹è§£å†³ä¼ å‚é—®é¢˜ï¼Œè¿™æ ¹ç¬¬2ç‚¹æ˜¯çŸ›ç›¾çš„ï¼è¿™ä¸ªæ–¹æ³•æ˜¯ä¸èƒ½æ”¯æŒå‚æ•°çš„ï¼Œå¯ä¸æ”¯æŒå‚æ•°æ–¹æ³•å°±ä¼šæ˜¾å¾—å¾ˆä¸å®ç”¨ï¼æ¥ä¸‹æ¥æˆ‘é™·å…¥å›°å¢ƒï¼Œè²Œä¼¼ä¸€ä¸ª OC çš„æ™®é€šæ–¹æ³•æ˜¯æ— æ³•æ»¡è¶³è¿™æ ·è‹›åˆ»çš„æ¡ä»¶å•¦ï¼Œç„¶åæˆ‘å» github æ‰¾äº†ä¸‹ï¼Œç´¢æ€§è¿™æ²¡èƒ½éš¾ä½ç‰›å‰çš„å‰è¾ˆä»¬ï¼Œä½¿ç”¨ block æ¥è§£å†³ï¼Œæˆ‘ä»¬çŸ¥é“ block çš„å›è°ƒå½¢å¼æ˜¯è¿™æ ·çš„ï¼š 1ablock(@\"parameter\"); å¹¶ä¸” block æ˜¯æ”¯æŒè¿”å›å€¼çš„ï¼Œæˆ‘ä»¬è¦å°†blockæ”¯æŒè¿”å›å€¼å’Œå‚æ•°çš„ç‰¹æ€§å……åˆ†åˆ©ç”¨èµ·æ¥ï¼›æ—¢ç„¶ä¸Šé¢æˆ‘ä»¬è®¾è®¡çš„é“¾å¼ç¼–ç¨‹çš„åŸå‹æœ‰äº†ï¼Œæ‰€ä»¥æ¥ç€æ”¹é€ å§ï¼Œæˆ‘ä»¬æ²¡æœ‰åˆ«çš„é€‰æ‹©äº†ï¼Œé™¤äº†è¿”å›å€¼ä¹‹å¤–ï¼Œå› ä¸ºå¿…é¡»ä¿è¯è°ƒç”¨æ–¹å¼å•Šï¼äºæ˜¯ä¹ block å°±æœ‰äº†è¿™æ ·ä¸€ç§å¥‡ç‰¹çš„ç”¨æ³•ï¼Œå¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°ï¼Œæˆ‘è§‰å¾—åæœ‰å…«ä¹ä½ ä¼šä¸ç†è§£çš„ã€‚ å…ˆçœ‹ä¸‹æ–¹æ³•å£°æ˜ï¼š 1- (SLNetworkRequest *(^)(NSString *method))c_Method; å…ˆä¸è€ƒè™‘å®ç°ï¼Œå°±è°ƒç”¨ä¸‹è¯•è¯•ï¼šSLNetworkRequest * req = self.c_Method(@â€POSTâ€);å›°æƒ‘å—ï¼Ÿæ€ä¹ˆä¼ å‚æ•°ä½¿ç”¨å°æ‹¬å·äº†ï¼Ÿæ€è€ƒä¸‹åŸæ¥æ˜¯è¿™æ ·ï¼šself.c_Method çš„ä½œç”¨æ˜¯è·å–äº†ä¸€ä¸ªblockï¼Œå…¶å®å°±æ˜¯å›è°ƒ block(@â€POSTâ€);åˆ°æ­¤å¤–éƒ¨è°ƒç”¨å·²ç»é€šäº†ï¼Œæˆ‘ä»¬çœ‹ä¸‹æ€ä¹ˆå®ç°è¿™ä¸ªæ–¹æ³•å§ï¼š 1234567- (SLNetworkRequest *(^)(NSString *method))c_Method&#123; return ^ SLNetworkRequest * (NSString *method)&#123; self.httpMethod = method; return self; &#125;;&#125; åˆ›å»ºäº†ä¸€ä¸ª block ï¼Œblock çš„å‚æ•°ç›´æ¥ç»™å½“å‰å¯¹è±¡ä½¿ç”¨ï¼Œç„¶åæŠŠå½“å‰å¯¹è±¡ä½œä¸ºè¿™ä¸ª block çš„è¿”å›å€¼ï¼›block çš„è°ƒç”¨æ—¶æœºå¾ˆå·§å¦™ï¼Œä½ ä¼ å‚çš„åŒæ—¶å…¶å®å°±æ˜¯å›è°ƒ block ï¼è¿™åˆ°åº•æ˜¯è°å…ˆæƒ³èµ·æ¥çš„å‘¢ï¼Ÿè¶…èµï¼ æ•ˆæœäºæ˜¯æˆ‘å¹²äº†ä¸€ä¼šçš„ä½“åŠ›æ´»ï¼Œæœ€åçš„ç»“æœç»™å¤§å®¶çœ‹ä¸‹ï¼š æœ‰æœ¨æœ‰å¾ˆèµï¼Ÿå½“ç„¶ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œblock åé¢çš„å‚æ•° Xcode ä¸ä¼šè‡ªåŠ¨æç¤ºï¼","categories":[],"tags":[{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"åƒå¸† SDK Issue: TimeStamp","slug":"2016/11/30-qfsdk-issue-timestamp","date":"2016-11-30T13:03:04.000Z","updated":"2018-03-27T14:45:15.689Z","comments":true,"path":"2016/11/30/2016/11/30-qfsdk-issue-timestamp.html","link":"","permalink":"http://debugly.cn/2016/11/30/2016/11/30-qfsdk-issue-timestamp.html","excerpt":"","text":"ç®€ä»‹å»å¹´æˆ‘å†™è¿‡è¿™ä¹ˆä¸€ç¯‡æ–‡ç«  ã€Šå°å¿ƒ unsigned æ•°æ®ç±»å‹åŸ‹ä¸‹å‘ã€‹ ä¸»è¦è¯´æ˜äº†ä¸€ä¸ªé—®é¢˜ï¼Œä¸€å®šè¦å°å¿ƒä¸èƒ½å°†ä¸€ä¸ªå°äº 0 çš„å€¼èµ‹ç»™ unsigned ç±»å‹ï¼ä»Šå¤©è¦è¯´çš„æˆ‘ä»¬ç»å¸¸ä¼šç»™æœåŠ¡ä¼ ä¸ªæ—¶é—´æˆ³ï¼Œå®¢æˆ·ç«¯æœ€å¥½ä¸è¦ä½¿ç”¨ int ç±»å‹æ¥æ¥å—ï¼Œå› ä¸ºå¾ˆå¯èƒ½ç¨‹åºåªèƒ½æ­£å¸¸è¿è¡Œåˆ° 2038 å¹´ã€‚ æ—¶é—´æˆ³æœåŠ¡å™¨ç«¯éœ€è¦ä¸€ä¸ªä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´æˆ³ï¼ŒåŒäº‹æ˜¯è¿™ä¹ˆå†™çš„ï¼š 1NSInteger time = [[NSDate date] timeIntervalSince1970] * 1000; ç»“æœæµ‹è¯•å°±æŠ¥äº†ä¸€ä¸ªbug: âŒ iPhone 5 å‡ºç°ä¸Šæ¥å£è¿”å›å‚æ•°æ ¡éªŒé”™è¯¯â€¦ ä½ å¦‚æœè¶³å¤Ÿç»†å¿ƒä½ ä¼šæœ‰ä¸ªç–‘é—®ï¼Œä¸ºä½• iPhone5 èººæªäº†ï¼Ÿ5sã€6s æ€ä¹ˆæ²¡äº‹ï¼Œæ˜¯æ€§èƒ½é—®é¢˜å§? ğŸ™„æˆ‘ä»¬æ¥å…·ä½“åˆ†æä¸€ä¸‹å§ï¼Œè¿™ä¸ª timeIntervalSince1970 æ–¹æ³•è·å–çš„æ—¶é—´æˆ³æ˜¯ double ç±»å‹çš„ï¼Œæˆ‘å†™åšå®¢çš„æ—¶å€™æ˜¯ 1,480,511,599.854223;è¿™æ˜¯ç³»ç»Ÿçš„æ–¹æ³•ï¼Œä¸€èˆ¬ä¸ä¼šæœ‰é—®é¢˜ï¼Œé‚£ä¹ˆé—®é¢˜åº”è¯¥æ˜¯ NSInteger å¼•èµ·çš„ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªæ–°ç±»å‹ï¼Œæ˜¯ typedef å‡ºæ¥çš„ï¼Œæˆ‘ä»¬æŸ¥çœ‹å®ƒçš„å®šä¹‰ï¼š 1234567#if __LP64__ || (TARGET_OS_EMBEDDED &amp;&amp; !TARGET_OS_IPHONE) || TARGET_OS_WIN32 || NS_BUILD_32_LIKE_64typedef long NSInteger;typedef unsigned long NSUInteger;#elsetypedef int NSInteger;typedef unsigned int NSUInteger;#endif ç®€å•çš„è¯´å°±æ˜¯è·Ÿä½ çš„è®¾å¤‡æœ‰å…³ç³»ï¼Œè®¾å¤‡çš„ CPU å­—é•¿æ˜¯ 64 ä½çš„è¯é‚£ä¹ˆ NSInteger æ˜¯ long ,å¦åˆ™å°±æ˜¯ int ; iOS è®¾å¤‡ä» 5s å¼€å§‹ä»¥åéƒ½æ˜¯ 64 ä½çš„ï¼Œæ‰€ä»¥æµ‹è¯•ç”¨çš„ iPhone5 æ˜¯32ä½çš„æœºå™¨ï¼ŒNSInteger å…¶å®å°±æ˜¯ int ï¼æˆ‘æƒ³é—®ä½ å¤©å¤©ç”¨çš„ int èƒ½å¤Ÿè¡¨ç¤ºçš„æœ€å¤§èŒƒå›´æ˜¯å¤šå°‘ä½ çŸ¥é“å—ï¼Ÿè¿™ä¸ªå¯ä»¥è®¡ç®—å‡ºæ¥ï¼Œä¸éœ€è¦è®°å¿†çš„ï¼š int åœ¨ iOS é‡Œå†…å­˜ç©ºé—´æ˜¯ 4 ä¸ªå­—èŠ‚ï¼Œæ¯ä¸ªå­—èŠ‚æ˜¯ 8 ä¸ªäºŒè¿›åˆ¶ä½ï¼Œå› æ­¤ int ç±»å‹çš„èŒƒå›´å°±æ˜¯ 2 çš„ 32(4x8) æ¬¡å¹‚å‡ 1ï¼Œèƒ½è¡¨ç¤ºçš„æœ€å¤§å€¼æ˜¯: 4,294,967,295 æ‰€ä»¥é—®é¢˜å°±æ‰¾åˆ°äº†ï¼Œ32 ä½æœºå™¨ä¸Šæ—¶é—´æˆ³æ—©å°±è¶…å‡ºäº† int èƒ½å¤Ÿè¡¨ç¤ºçš„æœ€å¤§å€¼äº†ï¼Œå› ä¸ºä¸€ç›´éƒ½æ˜¯æœ€å¤§å€¼ 2147483648 ï¼Œå³ä½¿ä½¿ç”¨ unsigned int ä¹Ÿä¸èƒ½æ”¾ä¸‹ï¼ åœ¨ 5s ç­‰ 64 ä½çš„æœºå™¨ä¸Š NSInteger æ˜¯ long ï¼Œlong çš„æœ€å¤§èŒƒå›´æ¯”è¾ƒå¤§ï¼Œå› æ­¤ä¸ä¼šå‡ºé—®é¢˜! å› æ­¤æˆ‘ä»¬ä¸ºæ¯«ç§’çº§çš„æ—¶é—´æˆ³æ‰¾ä¸ªåˆé€‚çš„æ•°æ®ç±»å‹å°±è¡Œäº†ï¼Œæ—¶é—´æˆ³æ²¡æœ‰è´Ÿå€¼ï¼Œå› æ­¤ä½¿ç”¨ unsigned æ¯”è¾ƒåˆé€‚ï¼Œä½¿ç”¨4ä¸ªå­—èŠ‚çš„ç±»å‹ä¸å¤Ÿç”¨ï¼Œéœ€è¦ä½¿ç”¨8ä¸ªå­—èŠ‚çš„ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº† UInt64 ï¼Œå®ƒä¹Ÿæ˜¯ typedef å‡ºæ¥çš„ï¼Œä¸è¿‡ä¸è®ºä»€ä¹ˆæœºå™¨ï¼Œè¿™ä¸ªç±»å‹æ°¸è¿œéƒ½æ˜¯å  64 ä¸ªäºŒè¿›åˆ¶ä½! 1UInt64 ts = [[NSDate date] timeIntervalSince1970] * 1000; æ€»ç»“ ä»¥ç§’ä¸ºå•ä½çš„æ—¶é—´æˆ³å¦‚æœä½¿ç”¨ int ç±»å‹å¯ä»¥ç”¨åˆ° 2038 å¹´ï¼Œä½¿ç”¨ unsigned int ç±»å‹å¯ä»¥ç”¨åˆ° 2106 å¹´; ä»¥æ¯«ç§’ä¸ºå•ä½çš„æ—¶é—´æˆ³ä¸èƒ½ä½¿ç”¨ int ç±»å‹ï¼Œå¿…é¡»ä½¿ç”¨ 64 ä½çš„ç±»å‹ï¼ long ç±»å‹ä¸åŒå­—é•¿çš„æœºå™¨ä¸Šä¸åŒï¼Œå› æ­¤é€‰æ‹© long long æˆ–è€… UInt64 æœ€ä¸ºå¦¥å½“ï¼64 ä½ç±»å‹çš„èŒƒå›´å¾ˆå¤§ï¼Œå­˜å‚¨æ—¶é—´æˆ³è¶³å¤Ÿäº†ï¼Œä¸ä½¿ç”¨ unsigned ç±»å‹ä¹Ÿå¯ä»¥ï¼ ä¸‹é¢æ˜¯è¿™ä¸ªè¡¨æ˜¯ä¸åŒ CPU å­—é•¿å„æ•°æ®ç±»å‹å ç”¨çš„é•¿åº¦ï¼š ç±» å‹ ï¼ˆ32ä½æœºå™¨ï¼‰é•¿åº¦ ï¼ˆ64ä½æœºå™¨ï¼‰é•¿åº¦ Byte 1 1 char 1 1 short 2 2 int 4 4 long 4 8 long long 8 8 å…¶å®åªæœ‰ long è¿™ä¸ªæ•°æ®ç±»å‹æœ‰å˜åŒ–è€Œå·²ï¼","categories":[],"tags":[{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"åƒå¸† SDK Refactor: NetWork","slug":"2016/11/28-qfsdk-refactor-network","date":"2016-11-28T13:16:43.000Z","updated":"2018-03-27T14:45:15.689Z","comments":true,"path":"2016/11/28/2016/11/28-qfsdk-refactor-network.html","link":"","permalink":"http://debugly.cn/2016/11/28/2016/11/28-qfsdk-refactor-network.html","excerpt":"","text":"é‡æ„ï¼Œä¸æ˜¯è¯´è¯´è€Œå·²ï¼Œä¹Ÿä¸æ˜¯ä¸æƒ³çœ‹åˆ«äººçš„çƒ‚ä»£ç è‡ªå·±é‡å†™ä¸€éï¼Œè€Œæ˜¯çœŸçš„é‡åˆ°äº†ä¼šç ´åå½“å‰æ¶æ„çš„å®é™…é—®é¢˜äº†ï¼Œæˆ–è€…ä¹‹å‰å°±æ²¡æƒ³é‚£ä¹ˆå¤šï¼Œç»§ç»­å¾€ä¸‹å†™åªä¼šå°†ä¸šåŠ¡é€»è¾‘æå¾—æ”¯ç¦»ç ´ç¢ï¼Œæ¯«æ— æ¡ç†è€Œè¨€ï¼Œæ—¥åç»´æŠ¤è´Ÿæ‹…å¤§ï¼Œç›¸åŒçš„é€»è¾‘å†™äº†å¤šéä¹‹æ—¶ï¼Œæ‰éœ€è¦é‡æ„;æˆ‘å°†ä¼šç»“åˆå®é™…åˆ†äº«å‡ ç¯‡SDKå†…å…³äºé‡æ„çš„æ–‡ç« ã€‚ ç½‘ç»œè¯·æ±‚çš„ç°çŠ¶é‡æ„è¦æœ‰åˆé€‚çš„åŠ¨æœºï¼Œä¸èƒ½å‡ºå¸ˆæ— åï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æˆ‘ä¸ºä½•å†³å®šè¦é‡æ„ç½‘ç»œè¯·æ±‚ï¼›ç›®å‰SDKçš„æ‰€æœ‰ï¼ˆæ¥å£ï¼Œé™¤å›¾ç‰‡ä¸‹è½½å¤–çš„ï¼‰è¯·æ±‚å‡æ˜¯ç”±ä¸Šå±‚ Service å‘èµ·ï¼Œåº•å±‚è°ƒç”¨ SLNetWork å®Œæˆï¼Œè¡¨ç°ç¨³å®šï¼Œä½† SLNetWork ä¸º Service å±‚æä¾›çš„è°ƒç”¨æ¥å£å¤ªå¤šï¼Œå°†å“åº”æ•°æ®è§£æä¸º Modelçš„å¤„ç†é€»è¾‘ç³…åˆåœ¨ Service å±‚å’Œåº•å±‚ï¼Œå›¾ç‰‡ä¸‹è½½æ²¡æœ‰ä½¿ç”¨ SLNetWork è€Œæ˜¯å¦å¤–ä¸€å¥—é€»è¾‘ã€‚ SLNetWork åº“ç®€ä»‹è¿™ä¸ªç½‘ç»œåº“æ˜¯æˆ‘ä»Šå¹´ 4 æœˆä»½å†™çš„ï¼Œç”¨äºæœç‹è§†é¢‘çš„ä¸Šä¼ æ¨¡å—ï¼Œé‚£æ—¶å€™è¿˜æ²¡æœ‰åƒå¸† SDKï¼Œæˆ‘è¿˜æ˜¯è§†é¢‘ä¸»çº¿çš„ä¸€ä¸ªæ–°äººï¼Œåšè¿™å—ä¸šåŠ¡çš„æ—¶å€™ï¼Œä¸»ç®¡è¯´è¿™å—è¦å†™æˆä¸€ä¸ªå•ç‹¬çš„æ¨¡å—ï¼Œæ—¥åå¯èƒ½ä¼šæä¾›ç»™åˆ«çš„éƒ¨é—¨ç”¨ï¼Œäºæ˜¯å°±æ²¡æœ‰ä½¿ç”¨è§†é¢‘å†…éƒ¨ç°æœ‰çš„ç½‘ç»œåº“ï¼Œè€Œæ˜¯é‡æ–°é€ çš„è½®å­ SVPNetWorkï¼›åæ¥æˆ‘æ¢äº†éƒ¨é—¨æ¥åšåƒå¸†SDKäº†ï¼Œåš SDK çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å°½å¯èƒ½çš„å‡å°‘å¯¹å¤–éƒ¨çš„ä¾èµ–ï¼Œå‡å°‘å®¿ä¸» App çš„å·¥ä½œé‡ï¼Œå°½ç®¡åƒå¸† SDK ç›®å‰ä»…æä¾›ç»™è§†é¢‘å’Œæ–°é—»ç”¨ï¼Œä½†æ˜¯ä¸ä¾èµ–å¤–éƒ¨è¿™ä¸ªç†å¿µæ˜¯å§‹ç»ˆè¦ç»•åœ¨æˆ‘çš„è„‘æµ·ï¼Œäºæ˜¯ä¸ºäº†å¿«é€Ÿå¼€å‘è€Œåˆä¸é€ æˆä¾èµ–çš„æƒ…å†µä¸‹ï¼Œæˆ‘å°±æŠŠ SVPNetWork åº“ç›´æ¥å¸¦äº†è¿‡æ¥ï¼Œç”¨äºæ‹…ä»»ç›´æ’­é—´è¯·æ±‚çš„åº•å±‚ã€‚ è¿™é‡Œæœ‰ä¸€ç‚¹è¦è¯´çš„æ˜¯ï¼ŒSVPNetWork åº“é‡Œæ‰€æœ‰çš„ç±»éƒ½è¦æ”¹ä¸‹å‰ç¼€ï¼Œå› ä¸ºOCæ²¡æœ‰å‘½åç©ºé—´ï¼ è¿™æ ·åŸæœ¬åœ¨è§†é¢‘é‡Œçš„ SVPNetWork å°±æˆäº†åƒå¸† SDK é‡Œçš„ SLNetWork äº†ã€‚ SLNetWork åº“è®¾è®¡æ€è·¯æ ¸å¿ƒç±»æœ‰ä¸¤ä¸ªï¼š SLNetworkService è´Ÿè´£å‘èµ·ï¼Œç®¡ç†è¯·æ±‚ å†…éƒ¨å¤„ç†ä¸ç³»ç»Ÿ NSURLSession çš„äº¤äº’ï¼ˆè¯·æ±‚çš„ä»£ç†å¤„ç†ï¼‰ ä¸åŒçš„é˜¶æ®µï¼ŒæŠŠ request ç½®ä¸ºä¸åŒçš„çŠ¶æ€ï¼Œrequest æ ¹æ®çŠ¶æ€å›è°ƒå¯¹åº”çš„ callback ï¼› SLNetworkRequest ç½‘ç»œè¯·æ±‚çš„æŠ½è±¡,åŒ…å«äº†è¯·æ±‚çš„ç›¸å…³éƒ¨åˆ† URL: è¯·æ±‚åœ°å€ Method: HTTPè¯·æ±‚æ–¹å¼ï¼ŒGETï¼ŒPOSTç­‰ Headers: HTTPè¯·æ±‚çš„Headerï¼ŒåŒ…å«äº†Content-Typeï¼ŒCookieï¼ŒUAç­‰ä¿¡æ¯ Progress: ä¸Šä¼ è¿›åº¦ï¼ŒSDKæš‚æ—¶æ²¡ç”¨åˆ° State: è¯·æ±‚çš„çŠ¶æ€ï¼Œæ¯”å¦‚Startæ˜¯å¼€å§‹ï¼ŒCompletedå’ŒErroræ—¶è§¦å‘å›è°ƒå›è°ƒç»™ä¸Šå±‚ç­‰ Response: å“åº”æ•°æ®ï¼Œæä¾›çš„ä¾¿åˆ©æ–¹æ³•æœ‰ï¼Œè·å–stringï¼Œè·å–JSONç­‰ ç®€å•çš„è¯´å°±æ˜¯ SLNetworkService ç®¡ç† SLNetworkRequestï¼Œç»´æŒä»–çš„çŠ¶æ€ï¼ŒSLNetworkRequest æ ¹æ®çŠ¶æ€åšå‡ºç›¸åº”çš„åŠ¨ä½œã€‚å¦ç™½çš„è¯´è¿™ä¸ªè®¾è®¡æ€è·¯æ˜¯ä» MKNetWork å€Ÿé‰´çš„ã€‚å‘èµ·ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼š 12345678910111213141516NSString *url = @\"your url\"SLNetworkRequest *request = [[SLNetworkRequest alloc]initWithURLString:url params:nil httpMethod:@\"GET\"];///set cookie NSMutableDictionary *cookieHeader = [NSMutableDictionary dictionary];if (cookieStr) &#123; [cookieHeader setObject:cookieStr forKey:@\"Cookie\"];&#125;[request addHeaders:cookieHeader];///æ·»åŠ è¯·æ±‚å®Œæ¯•çš„å¤„ç†ï¼Œæ”¯æŒæ·»åŠ å¤šä¸ª[request addCompletionHandler:^(SLNetworkRequest *request) &#123; NSDictionary *result = request.respAsJSON;&#125;];///start[[SLNetworkService alloc]startRequest:request]; SLNetWork åº“å¢åŠ ä¾¿åˆ©æ–¹æ³•ä¸€èˆ¬è¯·æ±‚å‡æ˜¯ GETï¼ŒPOSTï¼Œå› æ­¤ä¸ºäº†å‘é€è¯·æ±‚æ–¹ä¾¿ï¼Œæ‰€ä»¥åœ¨ SLNetworkService+Simple ç±»åˆ«é‡Œæä¾›äº†ä¸€äº›ä¾¿åˆ©çš„æ–¹æ³•ï¼š 123456789//å¯è®¾ç½®è‡ªåŠ¨å–æ¶ˆ- (SLNetworkRequest *) Post2:(NSString *)url params:(NSDictionary *)params cancelOwner:(id)owner completion:(SLNKHandler)chandler;- (SLNetworkRequest *) Post2:(NSString *)url params:(NSDictionary *)params completion:(SLNKHandler)chandler;//å¯è®¾ç½®è‡ªåŠ¨å–æ¶ˆ- (SLNetworkRequest *) Get:(NSString *)url params:(NSDictionary *)params completion:(SLNKHandler)chandler;- (SLNetworkRequest *) Get:(NSString *)url completion:(SLNKHandler)chandler;- (SLNetworkRequest *) Get:(NSString *)url params:(NSDictionary *)params cancelOwner:(id)owner completion:(SLNKHandler)chandler;- (SLNetworkRequest *) Get:(NSString *)url cancelOwner:(id)owner completion:(SLNKHandler)chandler; è‡ªåŠ¨å–æ¶ˆæ˜¯æŒ‡ï¼Œå¯ä»¥å°†ç½‘ç»œè¯·æ±‚ç»‘å®šåˆ°æŸä¸ªå¯¹è±¡ä¸Šï¼Œå½“è¯¥å¯¹è±¡é”€æ¯æ—¶ï¼Œè‡ªåŠ¨å–æ¶ˆè¯¥è¯·æ±‚ï¼Œåœ¨ä»¥åçš„åšå®¢é‡Œä»‹ç»å§ã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œç”šè‡³åœ¨ SLNetworkService ç±»é‡Œè¿˜æä¾›äº†å•åˆ©æ–¹æ³•ï¼Œè¿™æ ·æ™®é€šçš„è¯·æ±‚éƒ½æ˜¯ç”¨è¿™ä¸ªå•åˆ©å°±å¥½äº†ï¼š 12///å•åˆ©çš„ï¼Œä¸è¿‡æ”¯æŒå¤šå®ä¾‹ï¼+ (instancetype)sharedService; è‡³æ­¤ï¼ŒSLNetWork åº“çš„å°è£…å®Œæ¯•ã€‚æˆ‘ä»¬æš‚ä¸è®¨è®ºè¿™ä¹ˆè®¾è®¡æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Œå› ä¸ºå¥½çš„æ¶æ„ä¸æ˜¯å¹å‡ºæ¥çš„ï¼Œè¯„åˆ¤çš„æ ‡å‡†æ˜¯çœ‹æ˜¯å¦ç¬¦åˆå½“å‰é¡¹ç›®ä¸šåŠ¡å±‚çš„ä½¿ç”¨ï¼Œä¸šåŠ¡å±‚æ˜¯å¦ç”¨ç€å¾ˆçˆ½ï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹å®Œä¸šåŠ¡å±‚åœ¨æ¥åšå®¢è§‚è¯„ä»·å§ã€‚ Serviceå±‚çš„è°ƒç”¨æ–¹å¼SLNetWork æä¾›äº†æœ€åŸºç¡€çš„å‘èµ·è¯·æ±‚çš„æ–¹å¼ï¼Œåœ¨ä¸šåŠ¡å±‚æˆ‘ä»¬è¦æ ¹æ®ä¸šåŠ¡å’Œ SLNetWork åº•å±‚æä¾›çš„æ–¹æ³•ï¼Œè¿›è¡Œå†æ¬¡å°è£…ï¼Œç”±äºåº•å±‚æ²¡æœ‰æä¾›å°† JOSN è§£æä¸º Model çš„æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªå·¥ä½œå°±ç•™ç»™äº†ä¸šåŠ¡å±‚äº†ï¼Œæˆ‘æ˜¯è¿™ä¹ˆå¤„ç†çš„ï¼š 123456789101112131415161718// Created on 16/5/13.// ç½‘ç»œè¯·æ±‚æœåŠ¡å±‚ï¼›åŸºäº SLNetworkService å‘é€è¯·æ±‚ å’Œ SLJSONUtil è¿›è¡ŒJOSNè§£æï¼›// æ›´åŠ ä¸Šå±‚ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œæ•°æ®éªŒè¯å’ŒJOSNè§£æä¸ºModelï¼›æ–¹ä¾¿ä¸šåŠ¡é€»è¾‘è°ƒç”¨ï¼›#import \"SLNetworkService.h\"#import \"SLNetworkService+Simple.h\"typedef void(^SLNetWorkHandler)(SLNetworkRequest *request,id result,NSError *err);@interface SLNetworkService (JSONParser)- (SLNetworkRequest *) Post2:(NSString *)url params:(NSDictionary *)params checkKeyPath:(NSString *)kp checkHandler:(BOOL (^)(id value))checkHandler modelKayPath:(NSString *)mkp modelName:(NSString *)mName completion:(SLNetWorkHandler)chandler;- (SLNetworkRequest *) Get:(NSString *)url params:(NSDictionary *)params checkKeyPath:(NSString *)kp checkHandler:(BOOL (^)(id value))checkHandler modelKayPath:(NSString *)mkp modelName:(NSString *)mName completion:(SLNetWorkHandler)chandler;- (SLNetworkRequest *) Get:(NSString *)url checkKeyPath:(NSString *)kp checkHandler:(BOOL (^)(id value))checkHandler modelKayPath:(NSString *)mkp modelName:(NSString *)mName completion:(SLNetWorkHandler)chandler;- (SLNetworkRequest *) Get:(NSString *)url checkKeyPath:(NSString *)kp checkHandler:(BOOL (^)(id value))checkHandler modelKayPath:(NSString *)mkp completion:(SLNetWorkHandler)chandler; ç„¶åéšä¾¿æ‰¾ä¸€ä¸ªä¸šåŠ¡å±‚çš„æ¥å£çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨JSONParserè¿™ä¸€å±‚ï¼ˆè¿™é‡Œè¯´å±‚ä¸ä¸¥è°¨ï¼‰ï¼š 1234567891011121314151617181920- (void)requestNeighborOnlineAnchorsWithRoomid:(NSString *)rid comp:(void(^)(id result,NSError *err))comp&#123; if (rid.length == 0 ) &#123; return; &#125; NSDictionary *param = @&#123;@\"roomid\":rid&#125;; NSString *url = @\"...\"; SLNetworkRequest *request = [[SLNetworkService sharedService] Get:url params:param checkKeyPath:@\"status\" checkHandler:^BOOL(id value) &#123; return ([value intValue] == 200); &#125; modelKayPath:@\"message\" modelName:@\"SLNeighborAnchorModel\" completion:^(SLNetworkRequest *request, id result, NSError *err) &#123; comp(result,err); &#125;]; [self addCancleRef:request];&#125; æ ¹æ®æœåŠ¡å™¨è¿”å›çš„æ•°æ®ï¼Œæ¥è§£é‡Š checkKeyPathã€modelKayPathã€modelName è¿™äº›å‚æ•°éƒ½æ˜¯å¹²å˜›ç”¨çš„ï¼š 123456789&#123; status:200, message: &#123; anchor:5006697, avator:http://img, nickName:ä¹ˆä¹ˆå“’ &#125;&#125; checkKeyPath: éœ€ç”¨è¯¥å­—æ®µåšæ¥å£æ£€æŸ¥ï¼Œæ”¯æŒ keypathï¼Œæ¯”å¦‚:aa/status checkHandler: å†…éƒ¨è¿”å›é€šè¿‡ checkKeyPath å­—æ®µå–å‡ºæ¥çš„å€¼ï¼Œblock å›è°ƒè¿‡æ¥ï¼Œç„¶åè¿”å›æ˜¯å¦æ£€éªŒé€šè¿‡ï¼›åªæœ‰é€šè¿‡æ‰èƒ½è§£æä¸º Model modelKayPath: æ ¹æ®è¯¥å‚æ•°å»æœåŠ¡å™¨è¿”å›çš„ json æ•°æ®é‡ŒæŸ¥æ‰¾ ç›®æ ‡ jsonï¼Œæ¯”å¦‚è¿™ä¸ªä¾‹å­çš„ç›®æ ‡å°±æ˜¯messageçš„å†…å®¹ modelName: å°†é€šè¿‡ modelKayPath æ‰¾åˆ°çš„ json è§£æä¸ºç±»åä¸º modelName çš„ modelå®ä¾‹ completion: ç½‘ç»œè¯·æ±‚çš„ç€é™†ç‚¹ï¼Œåˆ¤æ–­ä¸‹errï¼Œå¦‚æœæ²¡æœ‰errï¼Œresult å°±æ˜¯ä½ æƒ³è¦çš„ model äº†ï¼Œè¿™é‡Œå›è°ƒç»™ä¸Šå±‚ è‡³æ­¤ï¼ŒSDK çš„ç½‘ç»œåº“ä½¿ç”¨ç°çŠ¶å·²ç»æ¯«æ— ä¿ç•™çš„ç»™å¤§å®¶ä»‹ç»äº†ã€‚ ç½‘ç»œè¯·æ±‚æ”¹è¿›æ–¹å‘çŸ¥é“äº†ç½‘è·¯è¯·æ±‚çš„ç°çŠ¶åï¼Œæˆ‘ä»¬æ‰èƒ½æœ‰é’ˆå¯¹æ€§çš„å»æ”¹è¿›ä»–ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸»è¦çš„é—®é¢˜æ˜¯ï¼š SLNetworkService æä¾›äº†å¤ªå¤šçš„å‘é€è¯·æ±‚çš„ä¾¿åˆ©æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯æ”¯æŒ JSON è½¬ Model ä¹‹åï¼Œå¯èƒ½å°±æ˜¯ä¸€ä¸ªå‚æ•°ä¹‹å·®å°±éœ€è¦å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œä¸æ–¹ä¾¿ä¹‹å¤„ä¹Ÿæ˜¾è€Œæ˜“è§ï¼ŒXcode è‡ªåŠ¨æç¤ºçš„æ—¶å€™ï¼Œéƒ½ä»–å¦ˆä¸èƒ½å®Œå…¨æ˜¾ç¤ºäº†ï¼Œè¢«çœç•¥äº†ï¼Œè¿™æ ·åè€Œé™ä½äº†å¼€å‘çš„æ•ˆç‡å‘¢ï¼ å“åº”è§£æå¤„ç†ä¸å¤Ÿå¥½ï¼Œç³…åˆåœ¨åº•å±‚çš„ä¸Šå±‚ä¹‹é—´ï¼Œæ²¡æœ‰æ‰©å±•æ€§ï¼Œæ¯”å¦‚æˆ‘æƒ³æŠŠå›¾ç‰‡çš„è¯·æ±‚ä¹Ÿç»Ÿä¸€è¿‡æ¥ï¼Œç›®å‰æ¥çœ‹å¾ˆéš¾åšåˆ°ï¼ å› æ­¤ï¼Œæ¥ä¸‹æ¥ä¸»è¦é’ˆå¯¹ä¸è°ƒç”¨æ–¹å¼å’Œå“åº”è§£æè¿›è¡Œé‡æ„ï¼ é‡æ„è¯·æ±‚å“åº”å¤„ç†é€»è¾‘ç›®å‰ä¼˜ç§€çš„å¼€æºåº“æœ‰å¯ä»¥å€Ÿé‰´çš„åœ°æ–¹å—ï¼Ÿæœ‰ï¼Œæ¯”å¦‚æœ€æµè¡Œçš„ AFNetworking çš„å“åº”è§£æå¤„ç†çš„å¾ˆå¥½å‘¢ï¼Œè·Ÿ SLNetwork åº“çš„åŒºåˆ«æ˜¯ä¸æ”¯æŒ JSON è½¬ Modelï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜æˆ‘è§‰å¾—é‡‡ç”¨ç»§æ‰¿å»è§£å†³æ¯”è¾ƒåˆé€‚ï¼Œæ‰€ä»¥å»ºç«‹çš„ä¸‹é¢çš„å‡ ä¸ªç±»ï¼š Model ç»§æ‰¿è‡ª JSONï¼ŒJSON ç»§æ‰¿è‡ª HTTPï¼› è¿™å—å®Œå…¨æ¨¡ä»¿è‡ª AFNetworking ï¼Œä½†è¿˜æ˜¯å¤šå°‘æœ‰äº›åˆ›å»ºä¹‹å¤„ï¼Œå› ä¸ºç›®å‰æœåŠ¡å“åº”é‡Œéƒ½æœ‰ä¸ªçŠ¶æ€ç ï¼Œæ¯”å¦‚ä¸Šé¢æˆ‘ä¸¾ä¾‹æ¥å£ä¸­çš„ status å­—æ®µï¼Œå½“ status ç­‰äº 200 æ—¶ï¼Œå°±æ˜¯æ¥å£æ­£å¸¸è¿”å›äº†æ•°æ®ï¼Œæ‰èƒ½è¿›è¡Œ Model è§£æï¼š è¿™ä¸ªå­ç±»æ¥å¤„ç† Model è§£æçš„ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œæä¾›äº† keypath çš„æ¦‚å¿µï¼š è¿™æ˜¯å¤„ç†é€»è¾‘ï¼Œè¿™ä¸ªä½¿ç”¨çš„æ˜¯æˆ‘ä¹‹å‰å†™çš„ JOSN è½¬ Model çš„å°æ¡†æ¶ï¼Œä½¿ç”¨æ–¹å¼å¯å‚è€ƒæˆ‘çš„å¼€æºé¡¹ç›®ï¼š è¿™é‡Œé€‰æ‹©è¿™ä¸ªå°æ¡†æ¶æ˜¯å› ä¸ºä»–æ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œéå¸¸å°ä¼—åŒ–ï¼ŒåŠ ä¸Šç›®å‰ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæœ€å¤§çš„å¥½å¤„æ˜¯ SDK ä¸ä¼šé€ æˆä¾èµ–ï¼å‡å¦‚ä½¿ç”¨å¼€æºçš„ Mantle çš„è¯å°±å¾ˆå®¹æ˜“å’ŒåµŒå…¥çš„ Appé€ æˆå†²çªï¼Œä¸å‡‘å·§çš„æ˜¯ App ä¿®æ”¹äº†é‡Œé¢çš„é€»è¾‘ï¼Œè¿™å°±æ›´ç³Ÿç³•äº†ã€‚ åˆ°æ­¤ï¼Œè§£æå“åº”æ•°æ®è¿™å—å°±é‡æ„å®Œäº†ï¼Œå¥½å¤„æ˜¯ç”±åº•å±‚å®Œæˆï¼Œä¸Šå±‚ä¸å¿…å…³ç³»è¿™ä¸ªè¿‡ç¨‹ï¼›è¿˜æœ‰æ‰©å±•æ€§æ¯”è¾ƒå¼ºï¼Œæœªæ¥æ³¨å®šè¿˜ä¼šæœ‰ä¸€æ¬¡é‡æ„ï¼šå°†ç½‘ç»œè¯·æ±‚å’Œå›¾ç‰‡è¯·æ±‚ç»Ÿä¸€ï¼é‚£æ—¶å°±å¯ä»¥å†å†™ä¸ª SLNHTTPResponseParser çš„å­ç±»å¤„ç†å›¾ç‰‡å°±å¥½äº†ï¼Œæƒ³æƒ³éƒ½è§‰å¾—ä¸é”™å‘¢ï¼æ„Ÿè°¢ AFNetworking ä½œè€…æä¾›çš„å¥½æ€è·¯ï¼ é‡æ„è°ƒç”¨æ–¹å¼ï¼Œå‡å°‘ä¸å¿…è¦çš„æ–¹æ³•è¿™ä¸ªé—®é¢˜æ˜¯è€äººå¯»å‘³çš„ï¼Œæˆ‘çš„ç›®æ ‡æ˜¯å†™ä¸€ä¸ªæ–¹æ³•ï¼Œå°±èƒ½å¤Ÿå®ç°å‘é€è¯·æ±‚ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‚æ•°çš„å·®å¼‚å°±è¦ä¸ºä¹‹å†™ä¸ªæ–¹æ³•ï¼Œå¦‚æœåœ¨åŠ ä¸Šæ™®é€šè¯·æ±‚çš„ç±»å‹ï¼ˆGETï¼ŒPOSTï¼‰ï¼Œæ–¹æ³•æ•°å°±è¦ä¹˜ä»¥ 2 äº†ï¼è¿™ç®€ç›´æ˜¯ç¾éš¾ï¼Œå›æƒ³ä¸‹æˆ‘åˆšæ‰ä¸¾ä¾‹é‚£ä¸ªè¯·æ±‚å§ï¼Œå…±æœ‰ 6 ä¸ªå‚æ•°ï¼Œæˆ‘ä¸èƒ½ä¿è¯è¿™ 6 ä¸ªå¿…é¡»çš„æœ‰å‡ ä¸ªï¼Œæˆ‘ä¹Ÿä¸æƒ³å°±æä¾›ä¸€ä¸ªå¸¦ 6 ä¸ªå‚æ•°çš„æ–¹æ³•ï¼Œé‚£æ ·å¤±å»äº†çµæ´»æ€§! è§£å†³è¿™ä¸ªé—®é¢˜çš„æ—¶å€™æˆ‘æ˜¯æœ‰çµæ„Ÿçš„ï¼Œå…¶å®é‡æ„ä¹‹å‰çµæ„Ÿå°±æœ‰äº†ï¼Œå¦åˆ™æˆ‘ä¹Ÿä¸ä¼šå»é‡æ„äº†ï¼›å› ä¸ºå»å¹´æˆ‘å°±åšè¿‡ç±»ä¼¼çš„äº‹æƒ…ï¼Œé‚£ä¸ªæ—¶å€™æˆ‘è¿˜åœ¨åˆ›ä¸šå…¬å¸åšé¡¹ç›®ï¼Œè¿™æ˜¯ä½¿ç”¨çš„æ–¹å¼ï¼š 12345678910111213141516///Make è¿™ä¸ªæ¥å£éœ€è¦çš„å‚æ•°ï¼Œå†…éƒ¨æœ‰ç­¾åNSDictionary *paramDic = MakeHttpParam(^(NSMutableDictionary *const make) &#123; [make setObject:phone forKey:@\"phone\"]; [make setObject:type forKey:@\"template\"]; &#125;);///ä¼ å…¥ç­¾è¿‡åçš„å‚æ•°ï¼Œå‘é€è¯·æ±‚[self PostPath:@\"/mobile/sendmsg\" parems:paramDic SuccBlock:^(NSDictionary * json) &#123; if (succBlock) &#123; succBlock(); &#125;&#125; FailedBlock:^(NSError *error, id resultJson) &#123; if (errorBlock) &#123; errorBlock(error); &#125;&#125;]; è¿™é‡Œçš„ MakeHttpParam æ˜¯æ–¹ä¾¿æ„å»ºè¯·æ±‚å‚æ•°çš„ï¼Œä¸ºä½•è¿™ä¹ˆå†™ï¼Ÿæ˜¯å› ä¸ºæ–¹ä¾¿ï¼ŒMakeHttpParam å†…éƒ¨ä¼šå°†å‚æ•°æŒ‰ç…§è§„åˆ™è¿›è¡Œä¸€æ¬¡ç­¾åï¼Œç„¶åè¿”å›ï¼Œå› æ­¤ paramDic å°±æ˜¯å¤„ç†å¥½çš„å‚æ•°å­—å…¸ï¼Œå¯ç›´æ¥ç”¨äºç½‘ç»œè¯·æ±‚ï¼å…¶å®è¿™ä¹ˆå¤„ç†çš„æ€è·¯ä¹Ÿä¸æ˜¯æˆ‘å‡­ç©ºæƒ³è±¡å‡ºæ¥çš„ï¼Œæ˜¯æˆ‘åœ¨ä½¿ç”¨ Masonry çš„è¿‡ç¨‹ä¸­ï¼Œå­¦ä¹ åˆ°çš„ï¼Œç¨å¾®ä¿®æ”¹äº†ä¸‹è€Œå·²ï¼Œè¿™é‡Œä¹Ÿè¦æ„Ÿè°¢ Masonry ä½œè€…æä¾›çš„å¥½æ€è·¯ï¼ æˆ‘ç®€å•æ€»ç»“äº†ä¸‹ï¼Œåªè¦æ»¡è¶³è¿™æ ·ä¸€ä¸ªæ¡ä»¶å°±å¯ä»¥ä½¿ç”¨é‡‡ç”¨è¿™ä¸ªæ€è·¯ï¼š block é‡Œéœ€è¦æä¾›ä¸€ä¸ª makerï¼Œè¿™ä¸ª maker èƒ½å¤Ÿå¤„ç†åŸæœ¬é€šè¿‡å½¢å‚ä¼ é€’è¿›æ¥çš„å‚æ•°ï¼ å› æ­¤æˆ‘ä»¬æ¥çœ‹ä¸‹ SLNetworkService æ»¡è¶³è¿™ä¸ªæ¡ä»¶å—ï¼Ÿå“ˆå“ˆï¼Œæ»¡è¶³ï¼Œå› ä¸º SLNetworkService æä¾›çš„è¿™äº›æ–¹æ³•çš„å‚æ•°æœ€ç»ˆéƒ½ä¼ ç»™äº† SLNetworkRequest ï¼æ‰€ä»¥è¿™ä¸ª maker å°±æ‰¾äº†ï¼Œå°±æ˜¯ SLNetworkRequest ï¼ æ€è·¯æœ‰äº†ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯ä½“åŠ›æ´»äº†ï¼ŒæŠŠä¹‹å‰çš„ Simpleï¼ŒJOSN ç±»åˆ«éƒ½åˆ äº†ï¼Œç„¶ååˆ›å»ºä¸€ä¸ª Maker çš„ç±»åˆ«ï¼ŒåŒæ ·ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨é¢å¤–æä¾›äº† GET å’Œ POST: å› æ­¤ Service å±‚çš„è°ƒç”¨æ–¹å¼å°±æ”¹æˆäº†è¿™æ ·ï¼š è¿™æ ·ä¸€æ¥ï¼Œå°±ç®—æ˜¯å†å¤šçš„å‚æ•°ï¼Œä¸ç®¡å“ªä¸ªå‚æ•°æœ‰æˆ–è€…æ²¡æœ‰ï¼Œéƒ½å¯ä»¥åœ¨è¿™ä¸ª block é‡Œå®Œæˆï¼Œä½¿ç”¨è¿™ä¸­æ–¹å¼å†™äº†å‡ ä¸ªè¯·æ±‚ä¹‹åå‘ç°è¿™ç»Ÿç»Ÿè¿™ä¸éƒ½æ˜¯å¯¹ç½‘ç»œè¯·æ±‚çš„é…ç½®ä¹ˆï¼ä¸çŸ¥é“ä½ æœ‰è¿™ä¸ªæ„Ÿè§‰æ²¡ï¼Ÿ æœ¬æ¬¡å¯¹ç½‘ç»œè¯·æ±‚çš„é‡æ„å°±åˆ°è¿™é‡Œå•¦ï¼Œå¦‚æœ‰é—®é¢˜è¯·ç•™è¨€ç»™æˆ‘ã€‚ä¸‹æ¬¡ç½‘ç»œé‡æ„çš„å†…å®¹å¯èƒ½æ˜¯ï¼š å›¾ç‰‡è¯·æ±‚æ”¶å…¥ SLNetwork éº¾ä¸‹ï¼Œå½»åº•å®ç°ç½‘ç»œè¯·æ±‚å¤§ä¸€ç»Ÿã€‚","categories":[],"tags":[{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"ä»€ä¹ˆæ˜¯åƒå¸†ç›´æ’­ SDK","slug":"2016/11/28-qf-sdk-introduction","date":"2016-11-28T04:11:01.000Z","updated":"2018-03-27T14:45:15.689Z","comments":true,"path":"2016/11/28/2016/11/28-qf-sdk-introduction.html","link":"","permalink":"http://debugly.cn/2016/11/28/2016/11/28-qf-sdk-introduction.html","excerpt":"","text":"åƒå¸†ç›´æ’­SDKç®€ä»‹ è¯´èµ·åƒå¸†ç›´æ’­SDKï¼Œä»–åŒ…å«äº†ä¸¤ä¸ªä¿¡æ¯ï¼Œä¸€ä¸ªæ˜¯ åƒå¸†ç›´æ’­ï¼Œä¸€ä¸ªæ˜¯ SDK ï¼Œä¸‹é¢æˆ‘ä»¬å°±è¯´ä¸‹ä»–ä»¬çš„å…³ç³»å§ã€‚ åƒå¸†ç›´æ’­ æ˜¯æœç‹æ——ä¸‹çš„ä¸€ä¸ªç›´æ’­å¹³å°ï¼Œæä¾›äº†ä¸°å¯Œçš„ç²¾å½©çš„ç¾å¥³ç›´æ’­ï¼Œä¸»è¦å±äºç§€åœºç±»ï¼Œæ­£åœ¨å…¨åŠ›æ‰“é€ æˆä¸€ä¸ªå“ç‰Œã€‚å¼€å‘å›¢é˜Ÿåœ¨å¹¿å·éƒ¨é—¨ï¼Œå‰èº«æ˜¯ 56 è§†é¢‘ ï¼ˆ14å¹´10æœˆè¢«æœç‹æ”¶è´­ï¼‰ï¼Œåƒå¸†ç›´æ’­å¹³å°æ‹¥æœ‰ç‹¬ç«‹çš„ç§»åŠ¨ç«¯(iOSï¼Œå®‰å“çš„è¯·åˆ°å„æ¸ é“ä¸‹è½½)å’Œ PCç«¯ï¼Œæ‹¥æœ‰å‡ åƒåç­¾çº¦ä¸»æ’­ã€‚ åƒå¸†ç›´æ’­SDK ç®€ç§°åƒå¸†SDKï¼Œæ˜¯åœ¨å…±äº«åƒå¸†ç›´æ’­å¹³å°èµ„æºçš„æƒ…å†µä¸‹ï¼Œç”±åŒ—äº¬çš„å¼€å‘å›¢é˜Ÿè´Ÿè´£çš„å¼€å‘çš„ä¸€ä¸ªSDKï¼Œæä¾›ç»™æœç‹è§†é¢‘ã€æ–°é—»åµŒå…¥ä½¿ç”¨ã€‚äºä»Šå¹´5æœˆé¡¹ç›®å¯åŠ¨ï¼Œæˆ‘æ˜¯è¿™ä¸ªå›¢é˜Ÿçš„è´Ÿè´£äººï¼ˆè´Ÿè´£è‡ªå·±å“ˆğŸ˜¢ï¼‰ï¼Œåšäº†2æœˆåé™†ç»­è¡¥ä¸Šäº†ä¸¤ä¸ªåŒäº‹ï¼Œè¿™é‡Œæ„Ÿè°¢ä¸‹ä»–ä»¬ï¼Œæ²¡æœ‰ä»–ä»¬ï¼Œæˆ‘å°±ä¸èƒ½åœ¨å›½åº†å‰åä¼‘æˆ‘çš„å©šå‡äº†ï¼ç»è¿‡å‡ ä¸ªæœˆçš„è¿­ä»£ï¼Œæˆ‘ä»¬å¼€å‘äº†å¥½å‡ ä¸ªç‰ˆæœ¬ï¼Œç§¯ç´¯äº†å¾ˆå¤šåš SDK çš„å¿ƒå¾—ï¼Œè¿˜æœ‰æˆ‘ä»¬è‡ªå·±å°è£…çš„åº“ï¼Œè¿™äº›åº“ä¹Ÿæ„ˆå‘åˆç†ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨é‡æ„ä»–ä»¬ï¼åœ¨åç»­çš„æ–‡ç« é‡Œï¼Œæˆ‘ä¼šè·Ÿå¤§å®¶åˆ†äº«ï¼Œæ•¬è¯·å…³æ³¨ã€‚ åƒå¸†SDKå®ç°çš„åŠŸèƒ½æˆ‘è§‰å¾—ä½¿ç”¨è¡¨æ ¼çš„å½¢å¼ä¼šæ›´åŠ å¥½ç†è§£ï¼Œå°±ä¸å†™å¤§æ®µçš„æ–‡å­—å»æè¿°äº†ï¼Œé‚£æ ·ä½ çœ‹èµ·æ¥ä¹Ÿå¾ˆè´¹åŠ²ï¼›è§†é¢‘å’Œæ–°é—»æ›´æ–°çš„åŠŸèƒ½æœ‰æ‰€å·®å¼‚ï¼Œå¹¶ä¸”ä¸åŒ…å«ä¼˜åŒ–ï¼Œè¿™é‡Œä»¥è§†é¢‘ä¸ºä¸»ï¼š Version Update Note 1.0 1.è§‚çœ‹ç›´æ’­å’ŒèŠå¤© 2.ä¾§æ»‘éšè—èŠå¤© 3.å¹¿æ’­ï¼Œç‚¹å‡»æ¨èè¿›å…¥åˆ«çš„ç›´æ’­é—´ 4.å¼¹æ¡†æç¤ºå®‰è£…æˆ–æ‰“å¼€åƒå¸†App 5.å¯é€5ä¸ªåƒå¸†æ˜Ÿ 1.1 1.ä¸Šä¸‹æ»‘åŠ¨åˆ‡æ¢ç›´æ’­é—´ï¼Œå·¦æ»‘éšè—èŠå¤©ä¿¡æ¯ï¼Œå³æ»‘é€€å‡ºç›´æ’­é—´ï¼› 2.æ™®é€šè¿å‡»è¿é€åŠ¨ç”» 3.ç»„åˆç¤¼ç‰©åŠ¨ç”» 4.ç¤¼ç‰©å›¾ç‰‡ä¿¡æ¯å­˜å‚¨åˆ°æœ¬åœ° 5.Appå¤±å»Activeæ—¶æ’­æ”¾å™¨ä¸æš‚åœ 1.2 1.å°å›¾ç€‘å¸ƒæµåˆ—è¡¨ 2.é¦–é¡µå¤§å›¾åˆ—è¡¨ 3.æ”¯æŒæ¸¸å®¢å‘é€èŠå¤© 4.ç›´æ’­æµç”±RTMPæ”¹ä¸ºHTTP(FLV) 1.3 1.ç›´æ’­é—´åˆ†äº« 2.ç›´æ’­é—´æ”¯æŒè‡ªåŠ¨æ—‹è½¬ï¼ˆæ¨ªå±è§‚çœ‹ï¼‰ 3.è±ªåç¤¼ç‰©ç‰¹æ•ˆï¼ˆWebpï¼‰ 4.å¢åŠ æ’è¡Œæ¦œ 1.4 1.åƒå¸†å¯¼é‡ 2.0 1.è´¦æˆ·æ‰“é€šï¼ˆå¯ä½¿ç”¨æœç‹è´¦å·ç™»é™†ï¼‰ 2.é€ç¤¼ 3.å……å€¼ï¼ˆå†…è´­ï¼‰ 4.åƒå¸†å¯¼é‡ä¿®æ”¹ 2.0.1 1.åƒå¸†å¯¼é‡ä¿®æ”¹ 2.æ‹‰èµ·åƒå¸†å¼€æ’­ 3.åˆ†äº«å¥–åŠ± â€¦ â€¦ æ›´å¤šç‰ˆæœ¬æ­£åœ¨å¼€å‘ä¹‹ä¸­â€¦","categories":[],"tags":[{"name":"åƒå¸†SDK","slug":"åƒå¸†SDK","permalink":"http://debugly.cn/tags/åƒå¸†SDK/"}]},{"title":"ä½¿ç”¨ Jekyll æ­å»ºåšå®¢","slug":"2016/11/27-blog-use-jekyll","date":"2016-11-27T08:21:35.000Z","updated":"2018-03-27T14:45:15.689Z","comments":true,"path":"2016/11/27/2016/11/27-blog-use-jekyll.html","link":"","permalink":"http://debugly.cn/2016/11/27/2016/11/27-blog-use-jekyll.html","excerpt":"","text":"åšå®¢å¤§æ”¹ç‰ˆåœ¨æ­¤ä¹‹å‰ä½¿ç”¨çš„æ˜¯ Octopress åšå®¢ç³»ç»Ÿï¼Œæˆ–è®¸æ˜¯åŒå€¦äº†å§ï¼Œå› æ­¤æ”¹ä¸ºç›´æ¥ä½¿ç”¨ Jekyll æ¥æ­å»º,èŠ±äº†å‡ ä¸ªæ™šä¸Šçš„æ—¶é—´ï¼Œä¸€æ­¥æ­¥æ‘¸ç´¢ç€åšäº†ä¸ª Jekyll çš„ä¸»é¢˜å‡ºæ¥ï¼Œæ¯•ç«Ÿ Jekyll çš„ä¸»é¢˜ä¸æ˜¯ä¸€ä¸ª Geek æƒ³è¦çš„ï¼Œæˆ‘å‰ç«¯èƒ½åŠ›æœ‰é™ï¼Œæ‰€ä»¥ç›®å‰è¿™ä¸ªä¸»é¢˜åªæ˜¯èƒ½ç”¨è€Œå·²ï¼Œso å°±æ²¡ä¸åšä¸»é¢˜åŒ…ï¼ˆä¸¢äººç°çœ¼ï¼‰äº†ï¼Œå¦‚æœæœ‰éœ€è¦çš„è¯·è”ç³»æˆ‘ï¼Œæˆ‘ï¼ˆåšç€è„¸çš®ï¼‰åšä¸€ä¸ªã€‚ äº²èº«æ„Ÿå—å¦‚æœä½ çœ‹åˆ°äº†æˆ‘çš„åšå®¢ï¼Œé‚£ä¹ˆæˆ‘çš„å»ºè®®æ˜¯å»æŠ˜è…¾ä¸€ä¸‹è‡ªå·±å§ï¼Œä¸è¦ç›´æ¥ä½¿ç”¨è¿™äº›å·²ç»åšå¥½çš„ç³»ç»Ÿï¼Œå¦‚æœä½ æœ‰æ—¶é—´å’Œå…´è¶£çš„è¯ï¼Œå› ä¸ºä½ ä¼šä»ä¸­å­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œä½ å¯èƒ½è¦å­¦ä¹ è¿™äº›ï¼š DIV + CSS ï¼ˆSASSï¼‰ Pygments Jekyll Liquid Ruby â€˜s Task DIV + CSS: æ’ç‰ˆå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ä¸ªä½“åŠ›æ´»ï¼Œæˆ‘æ›´å¤šçš„æ˜¯åœ¨çº ç»“ä½•æ—¶åº”è¯¥ä½¿ç”¨ id è¿˜æ˜¯ class !è¿˜æœ‰ä¸€äº›æˆ‘ä»¬éœ€è¦çŸ¥é“çš„å°æŠ€å·§ï¼Œæ¯”å¦‚æˆ‘ä»¬çŸ¥é“ä¸€ä¸ª class ç±»å‹çš„æ ·å¼ï¼Œå¯ä¾›å¤šä¸ª HTML å…ƒç´ ä½¿ç”¨ï¼Œä½†æœ‰çš„æ—¶å€™ä½ æƒ³å¯¹æŸä¸€ç§ä½¿ç”¨äº†æ”¹classçš„å…ƒç´ é¢å¤–åŠ æ ·å¼åº”è¯¥æ€ä¹ˆå†™ï¼Ÿè¿™ä¸ªå…¶å®å¾ˆç®€å•ï¼Œä½†å¯¹äºéå‰ç«¯å·¥ç¨‹å¸ˆè€Œè¨€ï¼Œä½ ä¸å¾—ä¸å» Google åº¦å¨˜äº†å§ï¼š 1234///åªæœ‰ä½¿ç”¨ highlight æ ·å¼çš„ pre æ ‡ç­¾èƒŒæ™¯è®¾ç½®ä¸º #dedede.pre.highlight&#123; background:#dedede;&#125; Pygments : æ˜¯ç”¨æ¥åšä»£ç é«˜äº®ä½¿ç”¨çš„ï¼Œä½ éœ€è¦åšçš„å¾ˆç®€å•ï¼Œå°±æ˜¯é€‰ä¸ªæ¨¡æ¿è€Œå·²ï¼Œä½ å¯ä»¥åœ¨çº¿é€‰æ‹©ï¼Œè¿™æ˜¯æˆ‘åˆ›å»ºçš„ä¸€ä¸ª OC demo: oc methodï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆä¸€ä¸ªæ ·å¼ï¼Œç„¶åä½ æ”¾è¿›ä½ çš„ç½‘ç«™é‡Œï¼Œåœ¨HTMLé‡Œå¼•å…¥å°±å¯ä»¥äº†ï¼š 1pygmentize -S xcode -f html &gt; pygments.css Jekyll : å³ä½¿ä½ ä»€ä¹ˆéƒ½ä¸å»äº†è§£ï¼Œè¿™ä¸ªåšå®¢ç³»ç»Ÿä¹Ÿæ˜¯å®Œæ•´çš„ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªç½‘ç«™å“¦ï¼è‡ªæœ‰åƒæˆ‘ä¸€æ ·ï¼Œæƒ³è‡ªå·±å†™ä¸»é¢˜ï¼Œä½ æ‰éœ€è¦å­¦ä¹ è¿™ä¹ˆå¤šï¼Œæ¯”å¦‚éœ€è¦äº†è§£å†…ç½®å˜é‡ï¼Œå› ä¸ºä½ è‚¯å®šéœ€è¦è·å–åšå®¢çš„æ—¥æœŸã€æ ‡é¢˜ã€å†…å®¹ç­‰ï¼Œè¿™äº›æ˜¯æœ‰å¯¹åº”çš„å†…ç½®å˜é‡çš„å»æŸ¥æ–‡æ¡£å°±å¥½äº†ï¼›è¿˜æœ‰ä¸€äº›å‘½ä»¤ï¼Œæˆ‘çš„è‡ªåŠ¨åŒ–éƒ¨ç½²å…¶å®ä¹Ÿæ˜¯å°è£…çš„è¿™äº›å‘½ä»¤å’Œ Git æ“ä½œçš„å‘½ä»¤è€Œå·²ã€‚ Liquid : ä»–çš„ä½œç”¨æ˜¯å¸®åŠ©ä½ å®ç°åŠ¨æ€åŒ–ï¼Œä½ å°±åªç®¡å†™å¸ƒå±€å¥½äº†ï¼Œç”Ÿæˆçš„æ—¶å€™ï¼Œä¼šæŠŠä½ å†™çš„åšå®¢å†…å®¹æ›¿æ¢ä¸ºå¯¹åº”çš„æ¨¡æ¿æ ‡ç­¾ï¼›ä½œä¸ºä¸€ä¸ªæ¨¡æ¿å¼•æ“ï¼Œæˆ‘è§‰å¾—å¾ˆèµçš„æ˜¯ä»–å†…ç½®çš„å¾ˆå¤š Filtersï¼Œä»¥åŠè¿™ç§ç¼–ç¨‹èŒƒå¼ï¼Œæ¯”å¦‚ï¼š 1234&#123;% raw %&#125;&#123;&#123; article.published_at | date: \"%Y\" &#125;&#125;//2016&#123;% endraw %&#125; Ruby: è¿™é—¨è¯­è¨€æˆ‘å¹¶æ²¡æœ‰ç³»ç»Ÿçš„å­¦ä¹ è¿‡ï¼Œéƒ½æ˜¯ç”¨åˆ°å“ªå»æŸ¥å“ªï¼Œæ‰€ä»¥ä¸æ•¢å¤šè¯´ï¼Œè§‰å¾—ä»–çš„ block ä¹Ÿæ˜¯å¾ˆèµçš„ï¼Œ Liquid çš„ Filter è·Ÿè¿™ä¸ªç±»ä¼¼ï¼Œæ¯”å¦‚ï¼š 12(Dir[&quot;#&#123;deploy_dir&#125;/*&quot;]).each &#123; |f| rm_rf(f) &#125;//eachåé¢çš„æ‹¬å·å°±æ˜¯blockä½“ ä¸€èˆ¬æˆ‘ä»¬å†™ Task éƒ½æ˜¯ç”¨äºå®Œæˆä¸€äº›æµç¨‹åŒ–çš„å·¥ä½œï¼Œä»è€ŒèŠ‚çœæ—¶é—´å’Œä½“åŠ›ï¼Œä»Šå¤©ä¸‹åˆå€Ÿé‰´äº† Octopress çš„ Rakefileï¼Œå€Ÿé‰´çš„å‰ææ˜¯è¦ç†è§£ï¼Œæ‰€ä»¥ç»è¿‡è¿™ä¹ˆä¸€æŠ˜è…¾ï¼Œå¯¹äº Octopress çš„ç†è§£ä¹ŸåŠ æ·±äº†ä¸å°‘ï¼Œç„¶åæˆ‘è‡ªå·±ä¹Ÿä¸ºæˆ‘çš„åšå®¢ç³»ç»Ÿå†™äº†ä¸€ä¸ªï¼Œä¿æŒç›¸åŒçš„å‘½åï¼Œæ¯•ç«Ÿæˆ‘å·²ç»ä¹ æƒ¯äº†ä½¿ç”¨ rake deployï¼Œrake preview ç­‰å‘½ä»¤ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„ Rake Task ï¼š 123456789desc \"Task description\"task :printit, [:msg] do |t, args| puts args[:msg]end//executerake printit['Hello.']//resultHello. æ€ä¹ˆæ ·ï¼ŸåŸºæœ¬äº†è§£äº†è‡ªå»ºä¸»é¢˜éœ€è¦çš„çŸ¥è¯†åï¼Œå¯¹ä½ è€Œè¨€æœ‰å›°éš¾å—ï¼Ÿæ˜¯è®©ä½ æ›´åŠ ç•æƒ§äº†ï¼Œè¿˜æ˜¯ç«‹é©¬æœ‰å…´è¶£è¦å¼€æäº†ï¼Ÿ è¿™äº›ç½‘ç«™ä¹Ÿè®¸å¯¹ä½ æœ‰äº›å¸®åŠ©ï¼š http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html http://www.ruanyifeng.com/blog/2012/06/sass.html http://havee.me/internet/2013-08/support-pygments-in-jekyll.html http://9leg.com/other/2015/01/11/create-jekyll-markdown-by-java.html http://www.sassmeister.com/ http://xh.5156edu.com/page/z1015m9220j18754.html http://cobwwweb.com/4-ways-to-pass-arguments-to-a-rake-task https://docs.ruby-lang.org/en/2.1.0/Rake/FileList.html http://suanfazu.com/t/copy-a-file-creating-directories-as-necessary-in-ruby/12396 http://zhaoyuxiang.cn/bohu-jekyll-theme/index http://yongyuan.name/blog/collect-jekyll-theme.html https://liungkejin.github.io/about.html","categories":[],"tags":[{"name":"Script","slug":"Script","permalink":"http://debugly.cn/tags/Script/"}]},{"title":"ç»Ÿä¸€ç®¡ç†ç½‘ç»œå˜åŒ–","slug":"2016/06/19-SLReachability","date":"2016-06-19T15:26:50.000Z","updated":"2018-03-27T14:45:15.689Z","comments":true,"path":"2016/06/19/2016/06/19-SLReachability.html","link":"","permalink":"http://debugly.cn/2016/06/19/2016/06/19-SLReachability.html","excerpt":"æ•…äº‹èƒŒæ™¯Reachability åªèƒ½æ£€æµ‹ç½‘ç»œçš„å˜åŒ–ï¼ŒåŒ…æ‹¬ WiFi ï¼ŒWWAN å’Œ NoReachable ä¸‰ç§çŠ¶æ€ï¼›å¥¹ä¸èƒ½ç»†åˆ† WWAN ç½‘ç»œï¼Œä¸èƒ½å‚ä¸ç”¨æˆ·çš„è®¾ç½®ï¼ˆæŸäº›Appåœ¨è®¾ç½®é‡Œè®¾æœ‰å…è®¸ä½¿ç”¨3Gçš„å¼€å…³ï¼‰ï¼Œä½†æ˜¯å®é™…ä¸šåŠ¡ä¸­æˆ‘ä»¬ä¼šé‡è§è¿™äº›æƒ…æ™¯ï¼Œä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„è·å–ã€ç®¡ç†ç½‘ç»œçš„å„ç§çŠ¶æ€ï¼ŒSLReachability å°±è¿åº”è€Œç”Ÿäº†ï¼Œç°åœ¨å¥¹å·²ç»åœ¨ä¸¤ä¸ªé¡¹ç›®é‡ŒæŠ•å…¥ä½¿ç”¨äº†ï¼Œæ„Ÿè§‰è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ï¼Œç°åœ¨æ‹¿æ¥åˆ†äº«ä¸‹ã€‚ SLReachability ä¸ Reachability çš„åŒºåˆ«SLReachability å®Œå…¨å…¼å®¹ Reachability ï¼Œå› ä¸ºå†…éƒ¨å…³äºç½‘ç»œå˜åŒ–çš„å®ç°æ˜¯å’Œ Reachability ä¸€æ ·çš„ï¼Œè€å®è¯´å°±æ˜¯å®Œå…¨ copy è¿‡æ¥çš„ï¼›åœ¨ Reachability çš„åŸºç¡€ä¹‹ä¸Šï¼Œå¢åŠ äº†æ£€æµ‹ WWAN å˜åŒ–çš„åŠŸèƒ½ï¼Œå¹¶ä¸”è€ƒè™‘åˆ°äº†ç”¨æˆ·å¯èƒ½ä¼šå¢åŠ å…è®¸ä½¿ç”¨ WWAN çš„å¼€å…³ï¼›SLReachability å°±æ˜¯æŠŠä»¥ä¸Šå‡ ç§ç½‘ç»œæƒ…å†µæœ€ç»ˆä½œäº†ä¸ªå¤§ç»Ÿä¸€ï¼Œæ›´åŠ æ–¹ä¾¿å¼€å‘è€…è·å–ç½‘ç»œçš„çŠ¶æ€ï¼ è¿™æ˜¯é™ªä¼´æˆ‘å¥½ä¹…çš„ Reachability æºç åœ°å€. è®¾è®¡æ€è·¯æ¸…æ¥šäº†éœ€æ±‚åï¼Œå°±æ˜¯ä¸€æ­¥æ­¥å®ç°äº†ï¼Œé¦–è¦éœ€è¦çš„æ˜¯å®Œå…¨å…¼å®¹ Reachability ï¼Œå…·å¤‡ Reachability çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå…¶æ¬¡è¿˜è¦æ‹¥æœ‰ä¸Šé¢æåˆ°çš„æ£€æµ‹ WWAN å˜åŒ–çš„éœ€æ±‚å’Œå…è®¸ç”¨æˆ·å¢åŠ å¼€å…³ï¼›å…ˆçœ‹ä¸‹å¦‚ä½•å…¼å®¹ï¼š å®Œå…¨å…¼å®¹ï¼ˆcopyï¼‰ Reachability å®ç° 1234567typedef NS_ENUM(NSInteger,SLReachStatus) &#123; SLNotReachable = 0, SLReachableViaWiFi, SLReachableViaWWAN&#125;;@property (nonatomic, assign, readonly) SLReachStatus reachStatus; è¿™ä¸ªæ²¡ä»€ä¹ˆéš¾ç†è§£çš„ï¼Œä¸å†ç»†è¯´äº†ï¼› ä¸‹é¢æ˜¯æ£€æµ‹ WWAN å˜åŒ–çš„å®ç°ï¼Œè¿™é‡Œæœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼Œå…¶ä¸­ SLNetWorkStatusWWANRefused è¡¨ç¤ºç”¨æˆ·è®¾ç½®å¼€å…³æ˜¯å…³ï¼Œä¸å…è®¸ä½¿ç”¨ WWAN ç½‘ç»œï¼Œå‡ºç°çš„æ¡ä»¶æ˜¯ï¼šæ²¡æœ‰WiFiï¼Œç”¨æˆ·ä¸å…è®¸ä½¿ç”¨ WWANï¼› 1234567891011typedef NS_ENUM(NSUInteger, SLWWANStatus) &#123; SLWWANNotReachable = SLNotReachable, ///ä¸å…è®¸WWANç½‘ç»œï¼›é»˜è®¤å…è®¸ SLNetWorkStatusWWANRefused = 3, ///ä½¿ç”¨WWANï¼› SLNetWorkStatusWWAN4G = 4, SLNetWorkStatusWWAN3G = 5, SLNetWorkStatusWWAN2G = 6,&#125;;@property (nonatomic, assign, readonly) SLNetWorkStatus wwanType;","text":"æ•…äº‹èƒŒæ™¯Reachability åªèƒ½æ£€æµ‹ç½‘ç»œçš„å˜åŒ–ï¼ŒåŒ…æ‹¬ WiFi ï¼ŒWWAN å’Œ NoReachable ä¸‰ç§çŠ¶æ€ï¼›å¥¹ä¸èƒ½ç»†åˆ† WWAN ç½‘ç»œï¼Œä¸èƒ½å‚ä¸ç”¨æˆ·çš„è®¾ç½®ï¼ˆæŸäº›Appåœ¨è®¾ç½®é‡Œè®¾æœ‰å…è®¸ä½¿ç”¨3Gçš„å¼€å…³ï¼‰ï¼Œä½†æ˜¯å®é™…ä¸šåŠ¡ä¸­æˆ‘ä»¬ä¼šé‡è§è¿™äº›æƒ…æ™¯ï¼Œä¸ºäº†æ›´åŠ æ–¹ä¾¿çš„è·å–ã€ç®¡ç†ç½‘ç»œçš„å„ç§çŠ¶æ€ï¼ŒSLReachability å°±è¿åº”è€Œç”Ÿäº†ï¼Œç°åœ¨å¥¹å·²ç»åœ¨ä¸¤ä¸ªé¡¹ç›®é‡ŒæŠ•å…¥ä½¿ç”¨äº†ï¼Œæ„Ÿè§‰è¿˜æ˜¯æŒºæ–¹ä¾¿çš„ï¼Œç°åœ¨æ‹¿æ¥åˆ†äº«ä¸‹ã€‚ SLReachability ä¸ Reachability çš„åŒºåˆ«SLReachability å®Œå…¨å…¼å®¹ Reachability ï¼Œå› ä¸ºå†…éƒ¨å…³äºç½‘ç»œå˜åŒ–çš„å®ç°æ˜¯å’Œ Reachability ä¸€æ ·çš„ï¼Œè€å®è¯´å°±æ˜¯å®Œå…¨ copy è¿‡æ¥çš„ï¼›åœ¨ Reachability çš„åŸºç¡€ä¹‹ä¸Šï¼Œå¢åŠ äº†æ£€æµ‹ WWAN å˜åŒ–çš„åŠŸèƒ½ï¼Œå¹¶ä¸”è€ƒè™‘åˆ°äº†ç”¨æˆ·å¯èƒ½ä¼šå¢åŠ å…è®¸ä½¿ç”¨ WWAN çš„å¼€å…³ï¼›SLReachability å°±æ˜¯æŠŠä»¥ä¸Šå‡ ç§ç½‘ç»œæƒ…å†µæœ€ç»ˆä½œäº†ä¸ªå¤§ç»Ÿä¸€ï¼Œæ›´åŠ æ–¹ä¾¿å¼€å‘è€…è·å–ç½‘ç»œçš„çŠ¶æ€ï¼ è¿™æ˜¯é™ªä¼´æˆ‘å¥½ä¹…çš„ Reachability æºç åœ°å€. è®¾è®¡æ€è·¯æ¸…æ¥šäº†éœ€æ±‚åï¼Œå°±æ˜¯ä¸€æ­¥æ­¥å®ç°äº†ï¼Œé¦–è¦éœ€è¦çš„æ˜¯å®Œå…¨å…¼å®¹ Reachability ï¼Œå…·å¤‡ Reachability çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå…¶æ¬¡è¿˜è¦æ‹¥æœ‰ä¸Šé¢æåˆ°çš„æ£€æµ‹ WWAN å˜åŒ–çš„éœ€æ±‚å’Œå…è®¸ç”¨æˆ·å¢åŠ å¼€å…³ï¼›å…ˆçœ‹ä¸‹å¦‚ä½•å…¼å®¹ï¼š å®Œå…¨å…¼å®¹ï¼ˆcopyï¼‰ Reachability å®ç° 1234567typedef NS_ENUM(NSInteger,SLReachStatus) &#123; SLNotReachable = 0, SLReachableViaWiFi, SLReachableViaWWAN&#125;;@property (nonatomic, assign, readonly) SLReachStatus reachStatus; è¿™ä¸ªæ²¡ä»€ä¹ˆéš¾ç†è§£çš„ï¼Œä¸å†ç»†è¯´äº†ï¼› ä¸‹é¢æ˜¯æ£€æµ‹ WWAN å˜åŒ–çš„å®ç°ï¼Œè¿™é‡Œæœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼Œå…¶ä¸­ SLNetWorkStatusWWANRefused è¡¨ç¤ºç”¨æˆ·è®¾ç½®å¼€å…³æ˜¯å…³ï¼Œä¸å…è®¸ä½¿ç”¨ WWAN ç½‘ç»œï¼Œå‡ºç°çš„æ¡ä»¶æ˜¯ï¼šæ²¡æœ‰WiFiï¼Œç”¨æˆ·ä¸å…è®¸ä½¿ç”¨ WWANï¼› 1234567891011typedef NS_ENUM(NSUInteger, SLWWANStatus) &#123; SLWWANNotReachable = SLNotReachable, ///ä¸å…è®¸WWANç½‘ç»œï¼›é»˜è®¤å…è®¸ SLNetWorkStatusWWANRefused = 3, ///ä½¿ç”¨WWANï¼› SLNetWorkStatusWWAN4G = 4, SLNetWorkStatusWWAN3G = 5, SLNetWorkStatusWWAN2G = 6,&#125;;@property (nonatomic, assign, readonly) SLNetWorkStatus wwanType; ç»Ÿä¸€æ‰€æœ‰çš„ç½‘ç»œçŠ¶å†µï¼Œè¿™æ˜¯æ‰æ˜¯ä»Šå¤©çš„ä¸»è¦å·¥ä½œï¼š 12345678910111213typedef NS_ENUM(NSUInteger, SLNetWorkStatusMask) &#123; SLNetWorkStatusMaskUnavailable = 1 &lt;&lt; SLNotReachable, SLNetWorkStatusMaskReachableWiFi = 1 &lt;&lt; SLReachableViaWiFi,//è¿™é‡Œç›´æ¥ä½¿ç”¨è¿™ä¸ªæšä¸¾å³å¯ SLNetWorkStatusMaskWWANRefused = 1 &lt;&lt; SLNetWorkStatusWWANRefused, SLNetWorkStatusMaskReachableWWAN4G = 1 &lt;&lt; SLNetWorkStatusWWAN4G, SLNetWorkStatusMaskReachableWWAN3G = 1 &lt;&lt; SLNetWorkStatusWWAN3G, SLNetWorkStatusMaskReachableWWAN2G = 1 &lt;&lt; SLNetWorkStatusWWAN2G, SLNetWorkStatusMaskReachableWWAN = (SLNetWorkStatusMaskReachableWWAN2G | SLNetWorkStatusMaskReachableWWAN3G | SLNetWorkStatusMaskReachableWWAN4G), SLNetWorkStatusMaskNotReachable = (SLNetWorkStatusMaskUnavailable | SLNetWorkStatusMaskWWANRefused), SLNetWorkStatusMaskReachable = (SLNetWorkStatusMaskReachableWiFi | SLNetWorkStatusMaskReachableWWAN),&#125;; æ ¹æ®ç½‘ç»œçš„æƒ…å†µå®šä¹‰äº†ä»¥ä¸Šæšä¸¾ï¼Œè¿™é‡Œç®€å•è§£é‡Šä¸‹ï¼š â€“Maskâ€“ â€“å«ä¹‰â€“ SLNetWorkStatusMaskReachableWWAN åªè¦å½“å‰æ˜¯ 2Gï¼Œ3Gï¼Œ4G ç½‘ç»œçš„ä¸€ç§å±äºReachableWWAN SLNetWorkStatusMaskNotReachable å½“å‰æ²¡æœ‰ç½‘ç»œ æˆ–è€… å½“å‰æ˜¯WWANç½‘ç»œ (ç”¨æˆ·ä¸å…è®¸) SLNetWorkStatusMaskReachable å½“å‰æ˜¯WiFiç½‘ç»œ æˆ–è€… å½“å‰æ˜¯WWANç½‘ç»œï¼ˆç”¨æˆ·å…è®¸ï¼‰ å®ç°åŸç†ä½¿ç”¨ Reachability æ£€æµ‹ç½‘ç»œçš„å˜åŒ–ï¼Œ ä½¿ç”¨ iOS7 æ–°å¢çš„ API æ£€æµ‹ WWAN çš„å˜åŒ–ï¼Œä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼Œæ‰€ä»¥ SLReachability ä» iOS7 å¼€å§‹æ”¯æŒï¼›æ¯å½“æ£€æµ‹åˆ°å˜åŒ–ä¹‹åå°±å°±å»æ›´æ–°ç½‘ç»œçŠ¶æ€ mask ï¼Œå¦‚æœå‰åä¸ä¸€è‡´å°±æ›´æ–°ï¼Œå¹¶ä¸”å‘é€é€šçŸ¥ï¼Œåä¹‹åˆ™å¿½ç•¥ï¼›è¿™é‡Œå¯¹äºä¸ä¸€è‡´çš„åˆ¤æ–­æ˜¯é‡å†™äº† setter æ–¹æ³•æ¥å®ç°çš„ï¼Œä¸‹é¢ç®€å•çœ‹ä¸‹ä»£ç ï¼š è¿™æ˜¯ Reachability æ£€æµ‹åˆ°ç½‘ç»œå˜åŒ–åçš„å›è°ƒï¼Œæˆ‘çš„å¤„ç†æ˜¯ç»™å±æ€§èµ‹å€¼ï¼Œå…·ä½“æ›´æ–°çš„æ–¹æ³•åœ¨ setter é‡Œå»å®ç°ï¼ 123456789101112///ç½‘ç»œçŠ¶å†µå˜åŒ–å›è°ƒï¼›static void ReachabilityCallback(SCNetworkReachabilityRef target, SCNetworkReachabilityFlags flags, void* info)&#123;#pragma unused (target, flags) if(info == NULL) return; if(![(__bridge NSObject*) info isKindOfClass: [SLReachability class]]) return; SLReachability* noteObject = (__bridge SLReachability *)info; ///update noteObject.reachStatus = [noteObject currentReachabilityStatus];&#125; ä¸‹é¢çœ‹ä¸‹å¯¹ WWAN çš„æ£€æµ‹ï¼Œéœ€è¦åˆ›å»ºè¿™æ ·ä¸€ä¸ªå¯¹è±¡æ‰èƒ½å»è§‚å¯Ÿå“¦ï¼š 123456_radioAccessInfo =[[CTTelephonyNetworkInfo alloc]init];[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(WWANDidChanged:) name:CTRadioAccessTechnologyDidChangeNotification object:nil]; çœ‹ä¸‹é€šçŸ¥å›è°ƒçš„å¤„ç†ï¼š 12345678- (void)WWANDidChanged:(NSNotification *)notifi&#123; dispatch_async(dispatch_get_main_queue(), ^&#123; NSString *radioAcc = [notifi object]; SLWWANStatus wwanType = WWANTypeWithRadioAccessTechnology(radioAcc); self.wwanType = wwanType; &#125;);&#125; éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå›è°ƒä¸åœ¨ä¸»çº¿é‡Œï¼å¤„ç†åŒæ ·å¾ˆç®€å•ï¼Œç»™å±æ€§èµ‹å€¼ï¼å› æ­¤å¦‚æœå…³ç³» WWAN çš„å˜åŒ–ï¼Œå¯ä»¥ç›´æ¥ Observe è¿™ä¸ªå±æ€§ï¼Œéœ€è¦äº†è§£çš„æ˜¯å½“å‰ç½‘ç»œå³ä½¿æ˜¯ WiFi ï¼Œè¿™ä¸ªå±æ€§ä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™è·Ÿä½ çš„ç§»åŠ¨ç½‘ç»œæœ‰å…³ç³»ï¼Œä½†æ˜¯ä¸ä¼šå½±å“åˆ° mask ï¼Œå› ä¸º mask æ˜¯ WiFi ï¼ ä¸‹é¢çœ‹ä¸‹é‡å†™ setter æ–¹æ³•å§ï¼š 12345678910111213141516171819202122232425262728- (void)setWwanType:(SLWWANStatus)wwanType&#123; if (_wwanType != wwanType) &#123; _wwanType = wwanType; [self updateNetworkStatusMask]; [self postNotifi:kSLReachabilityWWANChanged]; &#125;&#125;//ä¿®æ”¹äº†è®¾ç½®é‡Œçš„å¼€å…³- (void)setAllowUseWWAN:(BOOL)allowUseWWAN&#123; if(_allowUseWWAN != allowUseWWAN) &#123; _allowUseWWAN = allowUseWWAN; [self updateNetworkStatusMask]; &#125;&#125;- (void)setReachStatus:(SLReachStatus)reachStatus&#123; if(_reachStatus != reachStatus) &#123; _reachStatus = reachStatus; [self updateNetworkStatusMask]; [self postNotifi:kSLReachabilityReachStatusChanged]; &#125;&#125; é€šè¿‡é‡å†™ setter çš„æ–¹æ³•å»è¢«åŠ¨å‘ç°ç½‘ç»œå˜åŒ–äº†ï¼Œæœ€ç»ˆé€šè¿‡ updateNetworkStatusMask æ–¹æ³•å»æ›´æ–° mask : 12345678910- (void)updateNetworkStatusMask&#123; //update SLNetWorkStatusMask mask = [self netWorkStatusMaskWithNetStatus:_reachStatus WWANType:_wwanType WWANReachable:_allowUseWWAN]; self.netWorkMask = mask; //log it#ifdef DEBUG NSLog(@\"net is: [%@]\",SLNetWorkStatusMask2String(mask));#endif&#125; updateNetworkStatusMask æ–¹æ³•æ ¹æ®å½“å‰çš„ç½‘ç»œå’ŒWWANæƒ…å†µå’Œç”¨æˆ·è®¾ç½®çš„é€‰é¡¹ç»¼åˆå‡ºæ¥ä¸€ä¸ªæœ€ç»ˆçš„ mask ï¼Œå½“ mask å˜äº†ä¹‹åå°±ä¼šå‘é€é€šçŸ¥å‘ŠçŸ¥å‘ç”Ÿäº†å˜åŒ–ï¼ 12345678- (void)setNetWorkMask:(SLNetWorkStatusMask)netWorkMask&#123; if(_netWorkMask != netWorkMask) &#123; _netWorkMask = netWorkMask; [self postNotifi:kSLReachabilityMaskChanged]; &#125;&#125; ä»¥ä¸Šå°±æ˜¯å®ç°çš„åŸç†ï¼Œå…³äº allowUseWWAN è¿™ä¸ªå±æ€§ï¼Œä½ å¯ä»¥å†™ä¸ª SLReachability çš„å­ç±»ï¼Œå­ç±»æ£€æµ‹åˆ°å¼€å…³å˜åŒ–åå»æ›´æ”¹è¿™ä¸ªå±æ€§ï¼›ä¸åŒçš„ä¸šåŠ¡ä¹Ÿè®¸ä¼šæœ‰å¤šä¸ªå¼€å…³ï¼Œè¿™æ˜¯ä¸€ä¸€åˆ›å»ºå­ç±»å°±è¡Œäº†ï¼ ä¾¿åˆ©æ–¹æ³•ï¼šåˆ¤æ–­å½“å‰ç½‘ç»œæ˜¯ä¸æ˜¯ WiFiï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ‰©å±•æ›´å¤šï¼š 123456789NS_INLINE BOOL isWiFiWithMask(SLNetWorkStatusMask mask)&#123; return mask &amp; SLNetWorkStatusMaskReachableWiFi;&#125;NS_INLINE BOOL isWiFiWithStatus(SLReachStatus status)&#123; return mask == SLReachableViaWiFi;&#125; ä½¿ç”¨æ–¹æ³•112345_reach = [SLReachability reachabilityForInternetConnection]; //æ·»åŠ  observer [_reach addObserver:self forKeyPath:@\"netWorkMask\" options:NSKeyValueObservingOptionNew context:nil]; //è·å–å½“å‰çš„ç½‘ç»œçŠ¶æ€ï¼› SLNetWorkStatusMask mask = _reach.netWorkMask; å¤„ç†ç½‘ç»œå˜åŒ–ï¼š 123456- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary&lt;NSString *,id&gt; *)change context:(void *)context&#123; NSNumber *statusNum = [change objectForKey:NSKeyValueChangeNewKey]; SLNetWorkStatusMask mask = [statusNum intValue]; //æ ¹æ®å½“å‰ç½‘ç»œåšå‡ºå¤„ç†ï¼›&#125; ä½¿ç”¨æ–¹æ³•2é™¤äº†å¯ä»¥ Observe å±æ€§ä¹‹å¤–ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ³¨å†Œé€šçŸ¥ï¼š 123456///ç½‘ç»œçŠ¶æ€å˜åŒ–ï¼ŒåŒ ReachabilityFOUNDATION_EXTERN NSString *const kSLReachabilityReachStatusChanged;///WWANå˜åŒ–ï¼›WiFiç½‘ç»œä¹Ÿä¼šå˜ï¼Œè·Ÿå½“å‰ç½‘ç»œæœ‰å…³ï¼›FOUNDATION_EXTERN NSString *const kSLReachabilityWWANChanged;///ç»Ÿä¸€åçš„ç½‘ç»œå˜åŒ–FOUNDATION_EXTERN NSString *const kSLReachabilityMaskChanged; æ ¹æ®ä½ çš„éœ€è¦å»æ³¨å†Œï¼Œä½ å¯èƒ½è¦æ³¨æ„ä¸‹ä»–ä»¬ 3 ä¸ªä¹‹é—´çš„å…³ç³»ï¼ IPv6 SupportSLReachability å®Œå…¨æ”¯æŒ IPv6 ï¼Œå…·ä½“å¯å‚ç…§ Reachability çš„è§£é‡Šæˆ–è€…æŸ¥çœ‹æºç ã€‚ Demo å·¥ç¨‹è¿™æ˜¯ Github åœ°å€: https://github.com/debugly/SLReachabilityDemo","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"ä½¿ç”¨ UIBezierPath ç»˜åˆ¶åœ†è§’å…­è¾¹å½¢","slug":"2016/05/29-bezier-demo","date":"2016-05-29T14:42:49.000Z","updated":"2018-03-27T14:45:15.688Z","comments":true,"path":"2016/05/29/2016/05/29-bezier-demo.html","link":"","permalink":"http://debugly.cn/2016/05/29/2016/05/29-bezier-demo.html","excerpt":"UIBezierPath èƒ½ç»˜åˆ¶å„ç§å›¾å½¢ï¼Œé¡¹ç›®é‡Œæ€»æ˜¯ç”¨åˆ°ï¼Œè¿™é‡Œå†™ä¸ª demo å§ï¼š åœ†è§’ï¼Œå…­è¾¹å½¢ å®ç°æ•ˆæœï¼š åˆ†æè¿‡ç¨‹ï¼š åœ†å¼§","text":"UIBezierPath èƒ½ç»˜åˆ¶å„ç§å›¾å½¢ï¼Œé¡¹ç›®é‡Œæ€»æ˜¯ç”¨åˆ°ï¼Œè¿™é‡Œå†™ä¸ª demo å§ï¼š åœ†è§’ï¼Œå…­è¾¹å½¢ å®ç°æ•ˆæœï¼š åˆ†æè¿‡ç¨‹ï¼š åœ†å¼§ éœ€æ±‚ï¼š å®ç°æ•ˆæœï¼š å®Œæºç åœ°å€ : https://github.com/debugly/UIBezierDemo","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"ä½¿ç”¨ Mac å¼€å‘å¿…å¤‡ç¥å™¨","slug":"2016/05/06-new-mac-need-install-softwares","date":"2016-05-06T15:31:00.000Z","updated":"2018-03-27T14:45:15.688Z","comments":true,"path":"2016/05/06/2016/05/06-new-mac-need-install-softwares.html","link":"","permalink":"http://debugly.cn/2016/05/06/2016/05/06-new-mac-need-install-softwares.html","excerpt":"","text":"èƒŒæ™¯ä»Šå¤©å…¬å¸é…çš„æ–° Mac Book Pro åˆ°äº†ï¼Œæ¯”æˆ‘ä¸ªäººçš„ç”µè„‘é…ç½®ç¨é«˜äº†ä¸€ç‚¹å“ˆ(å›ºæ€ç¡¬ç›˜æ˜¯ 512G çš„,è§¦æ‘¸æ¿æœ‰ Force Touch åŠŸèƒ½ï¼‰; æ‹¿åˆ°æ‰‹å…ˆç™»å½•ä¸‹Apple è´¦å·ï¼Œç®€å•è®¾ç½®ä¸‹ç½‘ç»œå°±å¼€å§‹ç”¨å–½ï¼æˆ‘è§‰å¾—ä»ä¸€ä¸ªæ–°ç”µè„‘å…¥æ‰‹åˆ°æ‰“é€ å‡ºé¡ºæ‰‹çš„å¼€å‘ç¯å¢ƒè¿˜æ˜¯è´¹äº†ä¸å°‘åŠ›æ°”çš„ï¼Œè¿™é‡Œå°±è®°å½•ä¸‹ï¼Œä»¥åå†é…ç½®å°±ç›´æ¥å»ä¸‹è½½å°±å¥½äº†ï¼Œçœæ—¶çœåŠ›ï¼ä¸‹é¢æ˜¯æˆ‘æ‰“é€ å¼€å‘æœºå™¨å®‰è£…çš„è½¯ä»¶æ¸…å•ä»¥åŠä¸‹è½½åœ°å€ï¼Œéšç€ä»¥åçš„é™†ç»­å®‰è£…æˆ‘ä¹Ÿä¼šå†æ›´æ–°è¿™ä¸ªæ¸…å•çš„ã€‚ Charles Chrome ImageOptim Lantern Snip MacDown Xcode é±¼æ‘†æ‘† SourceTree å¦‚æœä½ æœ‰ä»€ä¹ˆå¥½ç”¨çš„è½¯ä»¶åƒä¸‡ä¸è¦åå•¬å“¦ï¼Œè¦æ‹¿å‡ºæ¥ï¼Œå…±åŒæé«˜å¼€å‘æ•ˆç‡O(âˆ©_âˆ©)O ~ ç»™æˆ‘ç•™è¨€æˆ–è€…å¾®ä¿¡é‚®ç®±éƒ½è¡Œï¼Œæˆ‘ä¸ºäººäººï¼Œäººäººä¸ºæˆ‘ï¼Œä¸æ˜¯ä¹ˆâ€¦","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"è§£å†³ CALayerInvalidGeometry é—®é¢˜","slug":"2016/03/28-calayerinvalidgeometry","date":"2016-03-28T14:08:16.000Z","updated":"2018-03-27T14:45:15.688Z","comments":true,"path":"2016/03/28/2016/03/28-calayerinvalidgeometry.html","link":"","permalink":"http://debugly.cn/2016/03/28/2016/03/28-calayerinvalidgeometry.html","excerpt":"ä»Šå¤©é‡åˆ°äº†å¾ˆå¤š calyer è®¾ç½®åæ ‡çš„å´©æºƒï¼ŒåŸå› å¦‚ä¸‹ï¼š Fatal Exception: CALayerInvalidGeometryCALayer position contains NaN: [nan 8] åæ ‡ç«Ÿç„¶æ˜¯ NaN (éæ•°å­—)ï¼è¿™è¿˜å¾—äº†ï¼Œé©¬ä¸Šæ’æŸ¥ï¼ï¼ï¼ä¸‹é¢æ˜¯å…·ä½“å´©æºƒä¿¡æ¯ï¼š 12345678910Thread : Fatal Exception: CALayerInvalidGeometry0 CoreFoundation 0x23a2a5f7 __exceptionPreprocess1 libobjc.A.dylib 0x3129cc77 objc_exception_throw2 CoreFoundation 0x23a2a53d -[NSException initWithCoder:]3 QuartzCore 0x268f01cf CA::Layer::set_position(CA::Vec2&lt;double&gt; const&amp;, bool)4 QuartzCore 0x268f00d3 -[CALayer setPosition:]5 QuartzCore 0x268f0065 -[CALayer setFrame:]6 UIKit 0x26ec8fe3 -[UIView(Geometry) setFrame:]7 SOHUVideo 0xa937d -[DiskStatusView updateDiskStatus] (DiskStatusView.m:65)...","text":"ä»Šå¤©é‡åˆ°äº†å¾ˆå¤š calyer è®¾ç½®åæ ‡çš„å´©æºƒï¼ŒåŸå› å¦‚ä¸‹ï¼š Fatal Exception: CALayerInvalidGeometryCALayer position contains NaN: [nan 8] åæ ‡ç«Ÿç„¶æ˜¯ NaN (éæ•°å­—)ï¼è¿™è¿˜å¾—äº†ï¼Œé©¬ä¸Šæ’æŸ¥ï¼ï¼ï¼ä¸‹é¢æ˜¯å…·ä½“å´©æºƒä¿¡æ¯ï¼š 12345678910Thread : Fatal Exception: CALayerInvalidGeometry0 CoreFoundation 0x23a2a5f7 __exceptionPreprocess1 libobjc.A.dylib 0x3129cc77 objc_exception_throw2 CoreFoundation 0x23a2a53d -[NSException initWithCoder:]3 QuartzCore 0x268f01cf CA::Layer::set_position(CA::Vec2&lt;double&gt; const&amp;, bool)4 QuartzCore 0x268f00d3 -[CALayer setPosition:]5 QuartzCore 0x268f0065 -[CALayer setFrame:]6 UIKit 0x26ec8fe3 -[UIView(Geometry) setFrame:]7 SOHUVideo 0xa937d -[DiskStatusView updateDiskStatus] (DiskStatusView.m:65)... ç«‹é©¬å®šä½åˆ° DiskStatusView ç±»çš„ updateDiskStatus æ–¹æ³•ï¼Œå‘ç°ä»–çš„ä¸€ä¸ªå­ view çš„å®½åº¦åœ¨æŸç§æƒ…å†µä¸‹ä¼šå‡ºç°éæ•°å­—çš„æƒ…å†µï¼çŸ¥é“é—®é¢˜æ‰€åœ¨å°±å¥½æ”¹äº†ï¼Œåˆ¤æ–­ä¸‹å°± OK å•¦ï¼ è¯´æ¥ä¹Ÿæ€ªï¼Œå®½åº¦æ˜¯éæ•°å­—ï¼Œä¸ºä½•å¼‚å¸¸å´æ˜¯ï¼šCALayer position contains NaN: [nan 8] å‘¢ï¼Ÿï¼è¿™ä¸ª 8 æ˜¯å“ªé‡Œæ¥çš„ï¼Œy åæ ‡æœ¬æ¥è®¾ç½®çš„æ˜¯ 0 å•Šï¼Œè¿™ç‚¹çœŸä¸ç†è§£å‘¢ â€¦ NaN : éæ•°å­—ï¼Œä¸€èˆ¬éƒ½æ˜¯ 0 ä½œé™¤æ•°çš„ç»“æœï¼ ç®€å•çš„è¯´ï¼šrect é‡Œé¢ä¸èƒ½åŒ…å«éæ•°å­—ï¼Œå¦åˆ™å°±ä¼šæŠ¥ CALayerInvalidGeometry å¼‚å¸¸ï¼è§£å†³åŠæ³•å°±æ˜¯ä»”ç»†æ£€æŸ¥ rect çš„4ä¸ªå€¼ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"æ·±å…¥ç†è§£å…³è”å¼•ç”¨","slug":"2016/03/06-Objc-Associations-Advanced","date":"2016-03-06T01:58:46.000Z","updated":"2018-03-27T14:45:15.688Z","comments":true,"path":"2016/03/06/2016/03/06-Objc-Associations-Advanced.html","link":"","permalink":"http://debugly.cn/2016/03/06/2016/03/06-Objc-Associations-Advanced.html","excerpt":"","text":"ä»Šæ—¥åƒé¥±äº†ï¼Œç¡®å®æ’‘å¾—æ…Œï¼Œæ‰¾äº†æˆ‘çš„é‚»å±…-é˜¿æ°ä¸€èµ·æ•£æ­¥ï¼Œèµ°äº†å¥½å¤§ä¸€åœˆï¼Œæœ€ååœ¨å°åŒºä¸‹èŠèµ·äº†æŠ€æœ¯ï¼Œä»YYKitï¼ŒSDWebImage ç­‰ç¬¬ä¸‰æ–¹åº“ï¼Œæ‰¯åˆ°äº†å…³è”å¼•ç”¨ï¼Œå› ä¸ºä»–ä»¬éƒ½ç”¨åˆ°äº†è¿™ä¸ªæŠ€æœ¯ï¼Œç„¶è€Œæˆ‘åˆæƒ³åˆ°äº†å•ä¾‹ï¼Œå•ä¾‹å’Œå…³è”å¼•ç”¨åœ¨å®ç°ä¸Šæœ‰ä¸€ä¸ªç›¸åŒç‚¹â€”éƒ½éœ€è¦ä¸€ä¸ªé™æ€å˜é‡ï¼›é‚£ä¹ˆç–‘é—®å°±æ¥äº†ï¼šåŒæ ·éƒ½éœ€è¦ä¸€ä¸ªé™æ€å˜é‡ï¼Œä¸ºä»€ä¹ˆç»“æœä¸ä¸€æ ·å‘¢ï¼Ÿæˆ–è®¸ä½ è¿˜æ²¡æ˜ç™½æˆ‘çš„ç–‘é—®æ˜¯ä»€ä¹ˆï¼Œè¯·ç»§ç»­é˜…è¯»å§ï¼ ä¸€ã€å›é¡¾å•ä¾‹æˆ‘ç®€å•çš„å†™äº†ä¸ªå•ä¾‹ç±» SingletonObject ï¼ŒæŠŠé™æ€å˜é‡ instance æ”¾åœ¨ sharedInstance ç±»æ–¹æ³•é‡Œçœ‹èµ·æ¥å¯èƒ½æ›´å¥½ä¸€äº›ï¼Œæ”¾åœ¨å¤–é¢ä¹Ÿæ˜¯å¯ä»¥çš„ï¼ŒäºŒè€…çš„åŒºåˆ«æ˜¯ä½œç”¨åŸŸä¸åŒï¼Œç”Ÿå‘½å‘¨æœŸä¹Ÿå·®ä¸å¤šï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢æ”¾åœ¨æ–¹æ³•å†…éƒ¨ï¼Œå› ä¸ºå¤–éƒ¨ä¸€èˆ¬ä¸éœ€è¦ç›´æ¥è·å–ï¼Œè¿™é‡Œæ”¾åœ¨å¤–éƒ¨æ˜¯ä¸ºäº†å’Œæˆ‘ä»¬ä»Šå¤©çš„è§’å„¿è¿›è¡Œå¯¹æ¯”ï¼Œæå‡ºæˆ‘çš„ç–‘é—®åšé“ºå«ã€‚ 1234567891011121314@implementation SingletonObjectstatic id instance;+ (instancetype)sharedInstance&#123; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; instance = [[self alloc]init]; &#125;); return instance;&#125;@end è¯·é—®ä½ æœ‰æ²¡æœ‰æ€è€ƒè¿‡ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œå¯ä»¥å®ç°å•ä¾‹ï¼Œinstance å˜é‡ä¸æ˜¯æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä»½å—ï¼Ÿå½“ç„¶ä¸æ˜¯çš„ï¼è¿™ä¸ª instance é™æ€å˜é‡çš„åœ°å€æ˜¯å’Œç±» SingletonObject æ˜¯å¯¹åº”çš„ï¼Œä¹Ÿå°±è¯´ instance é™æ€å˜é‡çš„åœ°å€æ˜¯ç¡®å®šçš„ï¼Œåªè¦è¿™ä¸ªç±»çš„åœ°å€ç¡®å®šäº†ï¼Œä»–ä¹Ÿå°±æ˜¯ç¡®å®šçš„äº†ï¼Œå› æ­¤å¯ä»¥ç®€å•çš„ç†è§£ä¸º instance é™æ€å˜é‡æ˜¯å±äºç±»çš„ï¼Œå§‘ä¸”ç§°ä¹‹ä¸º â€œç±»å˜é‡â€ï¼Œä¸å®ä¾‹å˜é‡ç›¸å¯¹åº”ã€‚ å®é™…ä¸Šè¿™é‡Œæ‰€è°“çš„ â€œç±»å˜é‡â€ ä¸ Java ä¹‹ç±»çš„é¢å‘å¯¹è±¡è¯­è¨€é‡Œçš„ç±»å˜é‡ä¸æ˜¯ä¸€ä¸ªæ„æ€ï¼ŒObjective C æ˜¯æ²¡æœ‰ç±»å˜é‡ï¼Œè¿™é‡Œåªæ˜¯é€šè¿‡é™æ€å˜é‡è¾¾åˆ°è¿™ç§æ•ˆæœç½¢äº†ï¼Œå› æ­¤è¿™é‡Œæˆ‘å°†å¥¹ç§°ä¹‹ä¸º â€œç±»å˜é‡â€ã€‚ äºŒã€æå‡ºç–‘é—®æˆ‘ä»¬å·²ç»çŸ¥é“äº†é™æ€å˜é‡æ˜¯ä¸ªâ€œç±»å˜é‡â€ï¼Œæˆ‘ä»¬ä¹Ÿéƒ½ç”¨è¿‡ SDWebImageï¼Œå…¶å†…éƒ¨å®ç°æ­£æ˜¯ä½¿ç”¨äº†å…³è”å¼•ç”¨ï¼Œæ‰ä½¿å¾—æˆ‘ä»¬ä½¿ç”¨èµ·æ¥æ˜¯é‚£ä¹ˆçš„æ–¹ä¾¿ï¼Œå›¾ç‰‡å¯ä»¥å‡†ç¡®æ— è¯¯çš„ä¸‹è½½æ˜¾ç¤ºå‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ª imageView å¯¹åº”å›¾ç‰‡éƒ½æ˜¯è‡ªå·±æƒ³è¦çš„ï¼Œä¸€ä¸€å¯¹åº”çš„ï¼Œæˆ‘çš„é—®é¢˜æ¥äº†ï¼Œæ—¢ç„¶å…³è”å¼•ç”¨ä¹Ÿä½¿ç”¨äº†â€œç±»å˜é‡â€ï¼Œé‚£ä¹ˆä¸åº”è¯¥æ˜¯ imageView æœ€ç»ˆéƒ½è¦æ˜¾ç¤ºä¸ºåŒä¸€å¼ å›¾ç‰‡æ‰å¯¹å˜›ï¼Ÿï¼è™½ç„¶ä½ åˆ›å»ºäº† N ä¸ª imageView ï¼Œä½†æ˜¯ imageView çš„ â€œç±»å˜é‡â€ï¼ˆå…³è”å¼•ç”¨çš„ keyï¼‰ æ˜¯å”¯ä¸€çš„å•Šï¼Œè¿™æ˜æ˜¾æ˜¯ä¸ªä¸€å¯¹å¤šçš„å…³ç³»ï¼å¯ä¸ºä»€ä¹ˆä½¿ç”¨ SDWebImage çš„æ—¶å€™ä¸€åˆ‡éƒ½é‚£ä¹ˆæ­£å¸¸ï¼Œæœ€ç»ˆå›¾ç‰‡éƒ½ä¸€ä¸€å¯¹åº”ä¸Šäº†ï¼Œä½ æ€ä¹ˆçœ‹å‘¢ï¼Ÿæˆ‘è§‰å¾—æ­¤äº‹å¿…æœ‰è¹Šè··ï¼ ä¸‰ã€å¤§èƒ†æ¨æµ‹æˆ‘æœ€åç»™é˜¿æ°åšäº†ä¸€ä¸ªè¿™æ ·çš„æ¨æµ‹ï¼šé—®é¢˜è‚¯å®šåœ¨å…³è”å¼•ç”¨çš„å¤„ç†ä¸Šï¼Œè¦ä¸ç„¶æˆ‘ä»¬å°±æ²¡å¿…è¦åœ¨ä½¿ç”¨çš„æ—¶å€™ä¼ ä¸ª key è¿›å»äº†ï¼Œæˆ–è®¸æ­£æ˜¯æ ¹æ®è¿™ä¸ª key åšäº†ä¸€ä¸ªåœ°å€åç§»ä»€ä¹ˆçš„ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½èƒ½è·å–å…ƒç±»ä¿¡æ¯ï¼Œç„¶åç»™è‡ªèº«åŠ ä¸ªåç§»å­˜å‚¨ä¸‹è¿™ä¸ªå…³è”çš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ‰“å°é™æ€å˜é‡åœ°å€ï¼Œæ‰“å°å †æ ˆä¿¡æ¯ï¼Œruntimeæºç å…¥æ‰‹â€¦ ç„¶åå°±å„å›å„å®¶ï¼Œå„æ‰¾å„å¦ˆäº†â€¦ å››ã€æ­å¼€ç¥ç§˜é¢çº±è¿™ä¹ˆå¤§çš„ç–‘é—®æ”¾å¿ƒé‡Œï¼Œè‚¯å®šç¡ä¸ç€çš„ï¼Œå›å®¶å°±å¼€å§‹æ‰¾æºç äº†ï¼Œæ‰¾åˆ°äº†å†…éƒ¨å®ç°ä»£ç ï¼Œç°åœ¨æ‹¿å‡ºæ¥ä»”ç»†åˆ†æä¸‹å†…éƒ¨å®ç°ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455//è¿™æ˜¯æˆ‘ä»¬è°ƒç”¨çš„æ–¹æ³•void objc_setAssociatedObject(id object, const void *key, id value, objc_AssociationPolicy policy)&#123; objc_setAssociatedObject_non_gc(object, key, value, policy);&#125;//è¿™æ˜¯å†…éƒ¨çš„ç§æœ‰æ–¹æ³•ï¼›void objc_setAssociatedObject_non_gc(id object, const void *key, id value, objc_AssociationPolicy policy) &#123; _object_set_associative_reference(object, (void *)key, value, policy);&#125;//è®¾ç½®å…³è”å¼•ç”¨å¯¹è±¡ï¼Œæœ€ç»ˆå°†è°ƒç”¨è¿™ä¸ªæ–¹æ³•void _object_set_associative_reference(id object, void *key, id value, uintptr_t policy) &#123; // è¿™æ®µä»£ç æœ‰ç‚¹åƒé‡å†™ setter æ–¹æ³•çš„æ„Ÿè§‰ï¼›oldå°±æ˜¯èµ‹å€¼ä¹‹å‰çš„è€å€¼ï¼Œè¦è¢«é‡Šæ”¾æ‰çš„ï¼›ObjcAssociation ä¸‹é¢ä¼šä»‹ç»ï¼› ObjcAssociation old_association(0, nil); // acquireValueï¼šå¯¹ä¼ å…¥çš„ value åš reatain,copy ç­‰ç­–ç•¥ id new_value = value ? acquireValue(value, policy) : nil; &#123; AssociationsManager manager;//è¿™æ˜¯é‡ç‚¹ï¼Œæ¯ä¸ªç±»éƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ª manager ç®¡ç†å…³è”çš„å¯¹è±¡ï¼Œä¸è¿‡ manager ç®¡ç†çš„ HashMap ä¸€ç›´éƒ½æ˜¯ä¸€ä¸ªï¼Œå¹¶ä¸”æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ AssociationsHashMap &amp; (manager.associations());//è·å–å”¯ä¸€çš„ map å¼•ç”¨ï¼› disguised_ptr_t disguised_object = DISGUISE(object);//æŠŠå¯¹è±¡ä¼ªè£…ä¸‹ï¼Œè¯´å¾—ç›´ç™½äº›å°±æ˜¯å°†å¯¹è±¡çš„åœ°å€è½¬åŒ–ä¸ºä¸€ä¸ª unsigned long çš„æ•´å‹ï¼› if (new_value) &#123; //å¦‚æœæ–°å€¼ä¸æ˜¯ç©ºçš„ // è¿™é‡Œæ˜¯ c++ è¯­æ³•ï¼ŒæŒ‰ç…§ key æŸ¥æ‰¾ map é‡Œçš„é”®å€¼å¯¹ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ª iteratorï¼› AssociationsHashMap::iterator i = associations.find(disguised_object); if (i != associations.end()) &#123; //è¯´æ˜æ‰¾åˆ°äº†å¯¹è±¡å¯¹åº”çš„ map äº†ï¼› ObjectAssociationMap *refs = i-&gt;second; //å– valueï¼Œfirst æ˜¯å– key http://www.cplusplus.com/reference/unordered_map/unordered_map/ ObjectAssociationMap::iterator j = refs-&gt;find(key); if (j != refs-&gt;end()) &#123; //è¯´æ˜åœ¨å¯¹è±¡å¯¹åº”çš„ map é‡Œæ‰¾åˆ°äº† key å¯¹åº”çš„ map ï¼› old_association = j-&gt;second; //å–å€¼èµ‹ç»™ oldï¼Œåé¢ä¼šé‡Šæ”¾ï¼› j-&gt;second = ObjcAssociation(policy, new_value); //èµ‹ä¸Šæ–°å€¼ï¼›è¿™é‡ŒåŒ…è£…äº†ä¸‹ï¼Œä¸æ˜¯ç›´æ¥èµ‹å€¼ï¼Œå¯æ€è€ƒä¸‹ä¸ºä»€ä¹ˆï¼Ÿ &#125; else &#123; //è¯´æ˜åœ¨å¯¹è±¡å¯¹åº”çš„ map é‡Œæ²¡èƒ½æ‰¾åˆ° key å¯¹åº”çš„ map ï¼ (*refs)[key] = ObjcAssociation(policy, new_value); &#125; &#125; else &#123; //æ‰¾ä¸åˆ°å¯¹è±¡å¯¹åº”çš„ map ï¼›ç¬¬ä¸€æ¬¡è‚¯å®šéƒ½æ‰¾ä¸åˆ°ï¼Œéœ€è¦åˆ›å»ºï¼› // create the new association (first time). ObjectAssociationMap *refs = new ObjectAssociationMap; associations[disguised_object] = refs; //åˆ›å»ºä¸€ä¸ª map ï¼Œå¯¹è±¡æ˜¯ key; (*refs)[key] = ObjcAssociation(policy, new_value); //ç„¶åæŠŠå…³è”å¯¹è±¡æ”¾åˆ°å¯¹è±¡å¯¹åº”çš„ç©º map é‡Œï¼›keyå°±æ˜¯å…³è”å¼•ç”¨ä½¿ç”¨çš„é‚£ä¸ªé™æ€å˜é‡ï¼› object-&gt;setHasAssociatedObjects(); //åšä¸ªæ ‡è®°ï¼›ä¸‹æ¬¡å°±èƒ½å¤Ÿæ‰¾åˆ°äº†ï¼› &#125; &#125; else &#123; //å¦‚æœæ–°å€¼æ˜¯ç©ºçš„ï¼Œç›¸å½“äº set äº† nil ï¼› // setting the association to nil breaks the association. AssociationsHashMap::iterator i = associations.find(disguised_object); if (i != associations.end()) &#123; //æ‰¾åˆ°äº†å¯¹è±¡å¯¹åº”çš„ map äº†ï¼› ObjectAssociationMap *refs = i-&gt;second; //å–å‡ºå¯¹è±¡å¯¹åº”çš„ map ObjectAssociationMap::iterator j = refs-&gt;find(key); //æŸ¥æ‰¾ key å¯¹åº”çš„ ObjcAssociation if (j != refs-&gt;end()) &#123; old_association = j-&gt;second; //å–å€¼èµ‹ç»™ oldï¼Œåé¢ä¼šé‡Šæ”¾ï¼› refs-&gt;erase(j); //ä» map é‡Œæ“¦é™¤ï¼› &#125; &#125; &#125; &#125; // é‡Šæ”¾ old if (old_association.hasValue()) ReleaseValue()(old_association);&#125; ä»”ç»†é˜…è¯»å®Œæºç åï¼Œç–‘é—®é©¬ä¸Šæ²¡äº†ï¼Œä¹ŸæŒºå¥½ç†è§£çš„ï¼Œåªä¸è¿‡éœ€è¦ä¸€ç‚¹ c++ çš„çŸ¥è¯†ï¼ŒåŸºæœ¬æ¯ä¸€è¡Œéƒ½åŠ äº†æ³¨é‡Šï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è¯´äº†ï¼Œåšä¸ªç®€å•çš„æ€»ç»“ï¼š 1.ä½¿ç”¨AssociationsManagerç±»ç®¡ç†æ‰€æœ‰ç±»å…³è”çš„å¯¹è±¡ï¼Œå…¶å†…éƒ¨ç”¨é™æ€çš„ï¼ˆä¹Ÿå°±æ˜¯å”¯ä¸€çš„ï¼‰ AssociationsHashMap å­˜å‚¨ï¼Œmap å­˜çš„æ˜¯é”®å€¼å¯¹ï¼Œè¿™é‡Œçš„é”®å°±æ˜¯è¿™ä¸ªç±»çš„å¯¹è±¡ï¼ˆéœ€è¦å¤„ç†ä¸‹ï¼‰ï¼Œå€¼æ˜¯ ObjectAssociationMapã€‚ï¼ˆè¿™ä¸¤ä¸ª map æœ‰ç€ä¸åŒçš„çˆ¶ç±»ï¼‰ç®€å•çœ‹ä¸‹AssociationsManagerï¼š 12345678910111213class AssociationsManager &#123; static spinlock_t _lock; //è¿˜ç”¨åˆ°äº†è‡ªæ—‹é” static AssociationsHashMap *_map; // associative references: object pointer -&gt; PtrPtrHashMap.public: AssociationsManager() &#123; spinlock_lock(&amp;_lock); &#125; ~AssociationsManager() &#123; spinlock_unlock(&amp;_lock); &#125; AssociationsHashMap &amp;associations() &#123; //c++ çš„å¼•ç”¨ï¼Œå¥½éš¾ç†è§£æ¸…æ¥šå¼•ç”¨å’ŒæŒ‡é’ˆ if (_map == NULL) _map = new AssociationsHashMap(); return *_map; &#125;&#125;; 2.æ¯ä¸ªå¯¹è±¡çš„ObjectAssociationMapé‡Œå­˜çš„å½“ç„¶ä¹Ÿæ˜¯é”®å€¼å¯¹ï¼Œè¿™é‡Œçš„é”®å°±æ˜¯ä½ å®šä¹‰çš„å…³è”å¯¹è±¡çš„ keyï¼Œå€¼æ˜¯ ObjcAssociation ï¼Œè¿™é‡Œåšäº†ä¸€æ¬¡åŒ…è£…ï¼Œçœ‹ä¸‹ä»–çš„æºç ï¼š 123456789101112class ObjcAssociation &#123; uintptr_t _policy; //å­˜å‚¨ç­–ç•¥ï¼Œè¿™ä¸ªåœ¨é”€æ¯å¯¹è±¡çš„æ—¶å€™éœ€è¦ç”¨åˆ°ï¼› id _value;//è¢«åŒ…è£…çš„å¯¹è±¡ public: ObjcAssociation(uintptr_t policy, id value) : _policy(policy), _value(value) &#123;&#125; ObjcAssociation() : _policy(0), _value(nil) &#123;&#125; uintptr_t policy() const &#123; return _policy; &#125; id value() const &#123; return _value; &#125; bool hasValue() &#123; return _value != nil; &#125;//è¿˜è®°å¾—ä¸Šé¢ç”¨åˆ°è¿™ä¸ªæ–¹æ³•äº†å—ï¼Ÿ &#125;; 3.æ˜ç™½äº†setteræ–¹æ³•ä¹‹åï¼Œå¾ˆå®¹æ˜“ç†è§£getteræ–¹æ³•ï¼Œç®€å•çœ‹ä¸‹objc_getAssociatedObjectå†…éƒ¨çš„ç»†èŠ‚ï¼š12345678910111213141516171819202122232425262728293031323334353637//è¿™æ˜¯æˆ‘ä»¬è°ƒç”¨çš„æ–¹æ³•id objc_getAssociatedObject(id object, const void *key)&#123; return objc_getAssociatedObject_non_gc(object, key);&#125;//è¿™æ˜¯å†…éƒ¨çš„ç§æœ‰æ–¹æ³•ï¼›id objc_getAssociatedObject_non_gc(id object, const void *key) &#123; return _object_get_associative_reference(object, (void *)key);&#125;//è·å–å…³è”å¼•ç”¨å¯¹è±¡ï¼Œæœ€ç»ˆå°†è°ƒç”¨è¿™ä¸ªæ–¹æ³•id _object_get_associative_reference(id object, void *key) &#123; id value = nil; uintptr_t policy = OBJC_ASSOCIATION_ASSIGN; &#123; AssociationsManager manager; AssociationsHashMap &amp;associations(manager.associations()); disguised_ptr_t disguised_object = DISGUISE(object); AssociationsHashMap::iterator i = associations.find(disguised_object); if (i != associations.end()) &#123; ObjectAssociationMap *refs = i-&gt;second; ObjectAssociationMap::iterator j = refs-&gt;find(key); if (j != refs-&gt;end()) &#123; ObjcAssociation &amp;entry = j-&gt;second; value = entry.value(); policy = entry.policy(); //ä¸Šé¢çš„è¿˜æ˜¯é‚£ä¸¤æ­¥ï¼Œæœ€åæ ¹æ®keyæ‰¾åˆ°å¯¹åº”çš„å…³è”å¯¹è±¡ï¼›è¿™é‡Œå†’å‡ºæ¥ä¸€ä¸ª getter policyï¼Œå€’æ˜¯å¾ˆå°‘é‡è§ï¼æˆ–è®¸åœ¨ copy å¯¹è±¡çš„æ—¶å€™æ‰ä¼šé‡è§å§... if (policy &amp; OBJC_ASSOCIATION_GETTER_RETAIN) ((id(*)(id, SEL))objc_msgSend)(value, SEL_retain); &#125; &#125; &#125; if (value &amp;&amp; (policy &amp; OBJC_ASSOCIATION_GETTER_AUTORELEASE)) &#123; ((id(*)(id, SEL))objc_msgSend)(value, SEL_autorelease); &#125; return value;&#125; äº”ã€å†…å­˜å¦‚ä½•ç®¡ç†å…³è”å¼•ç”¨å¯¹è±¡æ˜¯ä¸éœ€è¦ç®¡ç†å†…å­˜çš„ï¼Œè¿™é‡Œçœ‹ä¸‹æºç å°±çŸ¥é“æ€ä¹ˆå›äº‹äº†ï¼›é”€æ¯å¯¹è±¡çš„æ—¶å€™ï¼Œå†…éƒ¨è°ƒç”¨äº†è¿™ä¸ªæ–¹æ³•ï¼š1234567891011121314151617181920212223242526/************************************************************************ objc_destructInstance* Destroys an instance without freeing memory.* Calls C++ destructors.* Calls ARR ivar cleanup.* Removes associative references.* Returns `obj`. Does nothing if `obj` is nil.* Be warned that GC DOES NOT CALL THIS. If you edit this, also edit finalize.* CoreFoundation and other clients do call this under GC.**********************************************************************/void *objc_destructInstance(id obj)&#123; if (obj) &#123; // Read all of the flags at once for performance. bool cxx = obj-&gt;hasCxxDtor(); bool assoc = !UseGC &amp;&amp; obj-&gt;hasAssociatedObjects(); bool dealloc = !UseGC; // This order is important. if (cxx) object_cxxDestruct(obj); if (assoc) _object_remove_assocations(obj);//ç§»é™¤å…³è”çš„å¯¹è±¡ if (dealloc) obj-&gt;clearDeallocating(); &#125; return obj;&#125; ä¸‹é¢çœ‹ä¸‹ _object_remove_assocations(obj) æ–¹æ³•ï¼š 123456789101112131415161718192021void _object_remove_assocations(id object) &#123; vector&lt; ObjcAssociation,ObjcAllocator&lt;ObjcAssociation&gt; &gt; elements; &#123; AssociationsManager manager; AssociationsHashMap &amp;associations(manager.associations()); if (associations.size() == 0) return; disguised_ptr_t disguised_object = DISGUISE(object); AssociationsHashMap::iterator i = associations.find(disguised_object); if (i != associations.end()) &#123; // copy all of the associations that need to be removed. ObjectAssociationMap *refs = i-&gt;second; for (ObjectAssociationMap::iterator j = refs-&gt;begin(), end = refs-&gt;end(); j != end; ++j) &#123; elements.push_back(j-&gt;second);//Add element at the end //http://www.cplusplus.com/reference/vector/vector/ &#125; // remove the secondary table. delete refs; associations.erase(i); &#125; &#125; // the calls to releaseValue() happen outside of the lock. for_each(elements.begin(), elements.end(), ReleaseValue());&#125; ä» manager é‡Œå–å‡ºç±»å¯¹åº”çš„ AssociationsHashMapï¼Œç„¶åæŸ¥æ‰¾å½“å‰å¯¹è±¡å¯¹åº”çš„AssociationsHashMap ï¼›å¦‚æœæ‰¾åˆ°äº†ï¼Œè¯´æ˜è¿™ä¸ªå¯¹è±¡ç¡®å®ä½¿ç”¨äº†å…³è”å¼•ç”¨ï¼Œç„¶åå–å‡ºå¯¹åº”çš„ ObjectAssociationMap ï¼› æ¥ç€æšä¸¾ ObjectAssociationMap ï¼Œå–å‡ºå…³è”çš„å¯¹è±¡ï¼Œç„¶åæ”¾åˆ° vector çš„æœ«å°¾ï¼› æœ€åé€šè¿‡ for_each æ“ä½œ vector é‡Œçš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œéƒ½å»è°ƒç”¨ ReleaseValueï¼ˆï¼‰æ–¹æ³•ï¼› å‰é¢å·²ç»è§è¿‡ReleaseValue()è¿™ä¸ªæ–¹æ³•äº†ï¼Œè¿™é‡Œçœ‹ä¸‹æºç ï¼š 12345678910111213static void releaseValue(id value, uintptr_t policy) &#123; if (policy &amp; OBJC_ASSOCIATION_SETTER_RETAIN) &#123;//è¿™å°±æ˜¯ä¸ºä½•è¦æŠŠå…³è”çš„å¯¹è±¡åŒ…è£…ä¸€ä¸‹çš„åŸå› ï¼ ((id(*)(id, SEL))objc_msgSend)(value, SEL_release);//å‘é€releaseæ¶ˆæ¯ï¼› &#125;&#125;struct ReleaseValue &#123; //åº”è¯¥æ˜¯é‡è½½è¿ç®—ç¬¦äº†ï¼Œæˆ‘çš„c++çŸ¥è¯†å¿˜å…‰äº†è€¶ï¼› void operator() (ObjcAssociation &amp;association) &#123; releaseValue(association.value(), association.policy()); &#125;&#125;; ç”±æ­¤çœ‹æ¥ï¼Œæˆ‘ä»¬æ— éœ€å…³ç³»å…³è”å¯¹è±¡çš„å†…å­˜ç®¡ç†ï¼Œå½“ä¸€ä¸ªå¯¹è±¡é‡Šæ”¾çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨å»é‡Šæ”¾è¢«å…³è”çš„å¯¹è±¡ï¼è¿™ä¹Ÿæ­£å¥½ç¬¦åˆå†…å­˜ç®¡ç†çš„æ³•åˆ™ï¼šè°ä½¿ç”¨è°ç®¡ç†ï¼ å…­ã€éªŒè¯ç±»å˜é‡æˆ‘è§‰å¾—æˆ‘çš„çŒœæµ‹åº”è¯¥æ˜¯é è°±çš„ï¼Œå› æ­¤æˆ‘æ‰“å°äº†ç±»çš„èµ·å§‹åœ°å€å’Œç»“æŸåœ°å€ï¼Œå„ç§ç±»å˜é‡åœ°å€ï¼Œå…¨å±€å˜é‡åœ°å€ï¼Œä»¥åŠå¯¹è±¡åœ°å€ï¼Œç»“æœå¦‚ä¸‹ï¼š 12345678910111213141516172016-03-06 14:17:42.056 StudyAssociationSourceCode[27561:2531350]-------------ç±»æ–¹æ³•çš„åœ°å€:0x100001770èµ·å§‹åœ°å€:0x100002320ç»“æŸåœ°å€:0x100002328@implementationä¹‹å†…ï¼Œæ–¹æ³•ä¹‹å¤–å…¨å±€å˜é‡åœ°å€:0x100002348å®ä¾‹æ–¹æ³•å†…çš„é™æ€å˜é‡åœ°å€:0x100002360@implementationä¹‹å¤–ï¼Œé™æ€å˜é‡åœ°å€:0x100002361@implementationä¹‹å†…ï¼Œæ–¹æ³•ä¹‹å¤–é™æ€å˜é‡åœ°å€:0x100002362å¯¹è±¡çš„èµ·å§‹åœ°å€:0x1002005e0å¯¹è±¡çš„ç»“æŸåœ°å€:0x1002005e8--------------------------2016-03-06 14:17:42.056 StudyAssociationSourceCode[27561:2531350] association key:0x100002363 1.å¯ä»¥çœ‹å‡ºè¿™å‡ ä¸ªçš„åœ°å€æ˜¯è¿ç»­çš„ï¼š 12340x100002360 :å®ä¾‹æ–¹æ³•å†…çš„é™æ€å˜é‡åœ°å€0x100002361 :@implementationä¹‹å¤–ï¼Œé™æ€å˜é‡åœ°å€0x100002362 :@implementationä¹‹å†…ï¼Œæ–¹æ³•ä¹‹å¤–é™æ€å˜é‡åœ°å€0x100002363 :@implementationä¹‹å¤–çš„ association key é™æ€å˜é‡åœ°å€ã€ä¸åŒçš„æ–‡ä»¶ã€‘ è¿™è¯´æ˜ç±»å˜é‡ä¸ç®¡å†™åˆ°å“ªé‡Œéƒ½æ˜¯æ”¾åˆ°äº†ä¸€èµ·çš„ï¼Œéƒ½åœ¨ä¸€ä¸ªåŒºåŸŸå†…ï¼› 2.è¿™å‡ ä¸ªçš„å†…å­˜ç©ºé—´æ˜¯ç›¸è¿‘çš„ï¼š 1234560x100001770 :ç±»æ–¹æ³•çš„åœ°å€0x100002320 :ç±»èµ·å§‹åœ°å€0x100002328 :ç±»ç»“æŸåœ°å€0x100002348 :å…¨å±€å˜é‡åœ°å€0x100002360 :é™æ€å˜é‡å˜é‡åœ°å€... è¿™é‡Œçœ‹èµ·æ¥å¾ˆæ˜¯æ€ªå¼‚ï¼Œç±»æ–¹æ³•çš„åœ°å€ç«Ÿç„¶åœ¨ç±»çš„åœ°å€ç©ºé—´ä¹‹å‰ï¼ï¼è¦æƒ³è§£é‡Šè¿™ä¸ªç°è±¡å°±éœ€è¦çŸ¥é“ OC å¯¹è±¡çš„ç»§æ‰¿ä½“ç³»ã€å…ƒç±»ã€Classç»“æ„ä½“ç­‰ï¼Œè¿™é‡Œå…ˆå–ä¸ªå…³å­ï¼Œåç»­åšå®¢ä»‹ç»ã€‚ å¤§ä½“ä¸Šçœ‹ï¼Œå‡¡æ˜¯è·Ÿç±»ç›¸å…³çš„å˜é‡ï¼Œæ— è®ºæ˜¯å…¨å±€çš„è¿˜æ˜¯é™æ€çš„å˜é‡æˆ–æ–¹æ³•çš„å†…å­˜éƒ½æ˜¯åœ¨ä¸€å—é€»è¾‘åŒºåŸŸå†…åˆ†é…çš„ï¼› 3.å¯¹æ¯”ç±»åœ°å€å’Œå¯¹è±¡åœ°å€ï¼š 120x100002320 :ç±»èµ·å§‹åœ°å€0x100600450 :å¯¹è±¡çš„èµ·å§‹åœ°å€ å¯ä»¥çœ‹å‡ºä»–ä»¬çš„å†…å­˜ç©ºé—´å·®çš„å¾ˆå¤šï¼Œè¿™è¯´æ˜äº†åœ¨å†…å­˜åˆ†é…ä¸Šç±»å’Œå¯¹è±¡æ˜¯åˆ†å¼€çš„ï¼æ›´åŠ å…·ä½“çš„ç»†èŠ‚ä»¥åéªŒè¯å§ï¼Œæˆ‘ç°åœ¨ä¹Ÿä¸èƒ½æŠŠä»–ä»¬è¯´æ˜ç™½ã€‚ è¿™æ˜¯æˆ‘æµ‹è¯•å·¥ç¨‹çš„åœ°å€ï¼šhttps://github.com/debugly/StudyAssociationSourceCode ä¸ƒã€æ€»ç»“ä¸€åˆ‡éƒ½æ¸…æ¥šäº†ï¼Œå¯¹äº â€œç±»å˜é‡â€ çš„ç†è§£ä¹Ÿæ˜¯æ²¡é”™çš„ï¼Œç®€å•çš„è¯´ï¼šç±»å˜é‡æ˜¯å±äºç±»çš„ï¼Œå®ä¾‹å˜é‡æ˜¯å±äºå¯¹è±¡çš„ï¼Œæ¸…æ¥šè¿™ä¸€ç‚¹æœ‰åˆ©äºæˆ‘ä»¬åœ¨ç¼–ç è¿‡ç¨‹ä¸­æ­£ç¡®çš„ä½¿ç”¨ä½¿ç”¨ç±»å˜é‡ï¼Œè¿…é€Ÿæ‰¾åˆ°ä½¿ç”¨ç±»å˜é‡åŸ‹ä¸‹å‘ï¼Œç±»å˜é‡å±äºç±»è¿™ä¸€ç‰¹æ€§æœ‰æ—¶å€™çœŸçš„å¯èƒ½ä¼šç»™ä½ å¸¦æ¥é—®é¢˜ï¼Œæ¯”å¦‚ä½ å†™ä¸€ä¸ªå±€éƒ¨é™æ€å˜é‡ï¼Œé¡µé¢æ¯æ¬¡è¿›æ¥éƒ½ä¿®æ”¹ä¸‹è¿™ä¸ªå€¼ï¼Œå¯æ˜¯ä½ ä¼šå‘ç°ç¬¬äºŒæ¬¡è¿›æ¥çš„æ—¶å€™ä»–ä»æ—§æ˜¯ä¸Šæ¬¡ä¿®æ”¹è¿‡çš„ï¼Œæˆ–è®¸è¿™ä¸æ˜¯ä½ æƒ³çœ‹åˆ°çš„ï¼ å…³è”å¼•ç”¨çš„å®ç°å¦‚æ­¤å·§å¦™ï¼Œå…ƒç±»å¦‚æ­¤çš„è¿·äººï¼Œè¿™äº›éƒ½éœ€è¦ç»§ç»­æ·±å…¥å­¦ä¹ æ‰èƒ½ä½“ä¼šå¾—åˆ°ï¼è‹¹æœæŠŠ Runtime å¼€æºäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æœ‰å¿…è¦å»çœ‹çœ‹æºç ï¼Œå³ä½¿æˆ‘ä»¬ä¸èƒ½ä¸ºä¹‹ä½œå‡ºä»€ä¹ˆè´¡çŒ®ï¼Œä½†è‡³å°‘å¯ä»¥æå‡è‡ªèº«ï¼Œå¯¹äºçŸ¥è¯†ä½“ç³»çš„å½¢æˆéƒ½æœ‰å¾ˆå¤§å¸®åŠ©ï¼ ä¸è¶³ä¹‹å¤„è¯·å¤šå¤šæŒ‡æ­£ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"å…³è”å¼•ç”¨çš„ä½¿ç”¨æ–¹æ³•","slug":"2016/03/05-Objc-Associations-Useage","date":"2016-03-05T14:57:36.000Z","updated":"2018-03-27T14:45:15.687Z","comments":true,"path":"2016/03/05/2016/03/05-Objc-Associations-Useage.html","link":"","permalink":"http://debugly.cn/2016/03/05/2016/03/05-Objc-Associations-Useage.html","excerpt":"","text":"å®é™…å¼€å‘ä¸­ï¼Œå…³è”å¼•ç”¨çš„ä½¿ç”¨æ˜¯å¾ˆå¹¿æ³›å¹¶ä¸”å®ç”¨çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬ç†ŸçŸ¥çš„ SDWebImage,ä¸‹æ‹‰åˆ·æ–°æ§ä»¶ï¼ŒYYKitç­‰åº“é‡Œå‡æœ‰ä½¿ç”¨ï¼›æˆ‘ 14 å¹´çœ‹ EGO ä¸‹æ‹‰åˆ·æ–°å®ç°çš„æ—¶å€™å‘ç°äº†è¿™ç§ç”¨æ³•ï¼Œé‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¥è§¦ï¼Œè¿™é‡Œç®€å•çš„ä»‹ç»ä¸‹ä½¿ç”¨æ–¹æ³•â€¦ å‡å¦‚ç°æœ‰å·¥ç¨‹é‡Œå·²ç»æœ‰ä¸ªç±» SingletonObjectï¼Œæˆ‘æƒ³ç»™ä»–åŠ ä¸ªå±æ€§ï¼Œæˆ‘ä»¬çŸ¥é“ç±»åˆ«æ˜¯ä¸å¯ä»¥åŠ å±æ€§çš„ï¼Œè¿™é‡Œå°±è¦ä½¿ç”¨ Runtime çš„æŠ€æœ¯äº†â€”å…³è”å¼•ç”¨ï¼› 1.ç¬¬ä¸€æ­¥åˆ›å»ºä¸ªç±»åˆ«æ–‡ä»¶ï¼Œå£°æ˜ä¸€ä¸ªé™æ€å˜é‡ï¼Œç”¨äºè¢«å…³è”å¯¹è±¡çš„å’Œæ¬¡å¯¹è±¡äº§ç”Ÿå…³ç³»ï¼› 1234static char keyAddress;@implementation SingletonObject (association)@end 2.å¯¼å…¥å¤´æ–‡ä»¶ï¼š#import &lt;objc/runtime.h&gt; ï¼›æä¾›getterå’Œsetteræ–¹æ³•ï¼› 1234567891011- (void)setTestAddNum:(NSNumber *)testAddNum&#123; objc_setAssociatedObject(self, &amp;keyAddress, testAddNum, OBJC_ASSOCIATION_RETAIN_NONATOMIC);&#125;- (NSNumber *)testAddNum&#123; NSLog(@\"@implementationä¹‹å¤–çš„ association key:%p\",&amp;keyAddress); NSNumber *value = objc_getAssociatedObject(self, &amp;keyAddress); return value;&#125; 3.æŠŠ getter å’Œ setter æ–¹æ³•æš´æ¼åˆ°å¤´æ–‡ä»¶ä¸­å°±è¡Œäº†ï¼Œä¸è¿‡æˆ‘ä»¬ä¹ æƒ¯äº†å±æ€§ï¼Œå› æ­¤æˆ‘æè¿°äº†ä¸€ä¸ªå±æ€§ï¼› 123456@interface SingletonObject (association)//é€šè¿‡å…³è”å¼•ç”¨ç»™ SingletonObjectåŠ ä¸Šä¸€ä¸ª testAddNum å±æ€§ï¼›@property (nonatomic, retain) NSNumber *testAddNum;@end 4.è¿™å°±OKå•¦ï¼Œæµ‹è¯•ä¸‹å§ï¼š 123SingletonObject *single = [SingletonObject sharedInstance];single.testAddNum = @(3597);NSLog(@\"---%@\",single.testAddNum); ç»“æœå¿…é¡»æ˜¯æ‰“å°â€œâ€”3597â€å•¦ï¼ 5.è¿™é‡Œæˆ‘å†™çš„æ˜¯ä¸ªå•ä¾‹ç±»ï¼Œä¸è¿‡æ²¡å…³ç³»å•¦ï¼Œå•åˆ©åªæ˜¯ä¿è¯åªæœ‰ä¸€ä¸ªå¯¹è±¡è€Œå·²ï¼Œæˆ‘ç»™è¿™ä¸ªå¯¹è±¡å…³è”ä¸€ä¸ª num å¯¹è±¡æ˜¯æœ¨æœ‰é—®é¢˜çš„ï¼ æ€»ç»“å…³è”å¼•ç”¨+ç±»åˆ« æœ‰ç€ç»§æ‰¿æ— æ³•æ¯”æ‹Ÿçš„ä¼˜åŠ¿ï¼ä¸éœ€è¦åˆ›å»ºæ–°ç±»å°±å¯ä»¥å¢åŠ æ–°çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹äºå·²æœ‰ç±»æ²¡æœ‰ä¾µå®³ï¼Œä¸ç”¨ä¿®æ”¹ç»§æ‰¿ä½“ç³»ï¼å¹¶ä¸”ä½¿ç”¨å…³è”å¼•ç”¨æ— éœ€ç®¡ç†å†…å­˜ï¼Œè¯¦ç»†çš„å†…éƒ¨å®ç°ä»‹ç»è¯·çœ‹ä¸‹ç¯‡åšå®¢: æµ…æå…³è”å¼•ç”¨ï¼› æµ‹è¯•å·¥ç¨‹çš„åœ°å€ï¼šhttps://github.com/debugly/StudyAssociationSourceCode","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"æˆ‘çš„ 2015","slug":"2015/12/31-my2015","date":"2015-12-31T14:01:58.000Z","updated":"2018-03-27T14:45:15.687Z","comments":true,"path":"2015/12/31/2015/12/31-my2015.html","link":"","permalink":"http://debugly.cn/2015/12/31/2015/12/31-my2015.html","excerpt":"ä»Šå¤©æ˜¯ 2015 å¹´çš„æœ€åä¸€å¤©äº†ï¼Œåœ¨ 7æœˆ 7å·é‚£å¤©æˆ‘æ­å»ºäº†å±äºè‡ªå·±çš„åšå®¢ï¼Œ6ä¸ªæœˆçš„æ—¶é—´å‘å¸ƒäº† 20ç¯‡åšå®¢ï¼Œè¿˜æœ‰éœ€è¦å®Œå–„çš„ 11ç¯‡æ²¡æœ‰å‘å¸ƒï¼Œç­‰æ—¥åå®Œå–„å¥½äº†ï¼Œå¯ä»¥æ‹¿å‡ºæ¥æ™’æ™’çš„æ—¶å€™å†å‘å‡ºæ¥å§ï¼Œæ¯•ç«Ÿæˆ‘ä¸éœ€è¦è¿½æ±‚æ•°é‡ï¼›ç°åœ¨ç®€å•å›é¡¾ä¸‹è¿‡å»çš„è¿™ä¸¤å¹´æˆ‘ç»å†äº†ä»€ä¹ˆï¼Œæ”¶è·äº†ä»€ä¹ˆï¼Ÿé‡è§äº†å“ªäº›å¯çˆ±çš„äººï¼Ÿ","text":"ä»Šå¤©æ˜¯ 2015 å¹´çš„æœ€åä¸€å¤©äº†ï¼Œåœ¨ 7æœˆ 7å·é‚£å¤©æˆ‘æ­å»ºäº†å±äºè‡ªå·±çš„åšå®¢ï¼Œ6ä¸ªæœˆçš„æ—¶é—´å‘å¸ƒäº† 20ç¯‡åšå®¢ï¼Œè¿˜æœ‰éœ€è¦å®Œå–„çš„ 11ç¯‡æ²¡æœ‰å‘å¸ƒï¼Œç­‰æ—¥åå®Œå–„å¥½äº†ï¼Œå¯ä»¥æ‹¿å‡ºæ¥æ™’æ™’çš„æ—¶å€™å†å‘å‡ºæ¥å§ï¼Œæ¯•ç«Ÿæˆ‘ä¸éœ€è¦è¿½æ±‚æ•°é‡ï¼›ç°åœ¨ç®€å•å›é¡¾ä¸‹è¿‡å»çš„è¿™ä¸¤å¹´æˆ‘ç»å†äº†ä»€ä¹ˆï¼Œæ”¶è·äº†ä»€ä¹ˆï¼Ÿé‡è§äº†å“ªäº›å¯çˆ±çš„äººï¼Ÿ 14 å¹´å·¥ä½œç”Ÿæ´»è‡ªæˆ‘æ„Ÿè§‰æ˜¯ä¸€ä¸ªçƒ­çˆ±å·¥ä½œçš„äººï¼Œå·¥ä½œå·®ä¸€ç‚¹å°±æˆä¸ºäº†æˆ‘ç”Ÿæ´»çš„å…¨éƒ¨äº†ï¼Œé™¤äº†å·¥ä½œä¹Ÿæ²¡å¤ªå¤šåˆ«çš„çˆ±å¥½äº†ï¼Œä»…æœ‰çš„çˆ±å¥½ä¹Ÿå› ä¸ºçŸ¥è¯†çš„åŒ®ä¹å’Œæœ‰é™çš„ç²¾åŠ›åŠ ä¸Šç§ç§çš„å€Ÿå£ä¸¢åˆ°è§’è½é‡Œå»äº†â€¦ æˆ‘ 14å¹´è¿‡å®Œæ˜¥èŠ‚æ¥çš„åŒ—äº¬ï¼Œ3æœˆä»½å»äº†æœæˆ¿ç½‘ï¼Œåœ¨æœæˆ¿æŒºå¥½çš„ï¼Œå•ä½ç¦»å®¶ä¹Ÿæ¯”è¾ƒè¿‘ï¼Œä¸ºæ­¤è¿˜ä¹°äº†ä¸€è¾†å±±åœ°è½¦ï¼Œå¤å¤©çš„æ—¶å€™æˆ‘å°±æ˜¯éª‘ç€è½¦å»çš„ï¼Œå¤§çº¦éœ€è¦åŠä¸ªå°æ—¶å¤šè°¢ï¼Œåœ¨ä¸€ä¸ªéƒ¨é˜Ÿå¤§é™¢ä½ï¼Œå…¶å®ä¹ŸæŒºå¥½çš„ï¼Œ20å¹³çš„æˆ¿å­å§ï¼Œæœ‰å°ç”µè§†æœºï¼Œå…è´¹çš„ç½‘ç»œã€æ´—è¡£æœºã€ç”µå†°ç®±ã€å¤©ç„¶æ°”ã€æ°´ç­‰ï¼Œæ¯æœˆ 1000å…ƒï¼Œå…¶å®è¿™è·Ÿæˆ‘çš„ä¸€ä¸ªåŒäº‹é˜¿æ°ç¦»å¾—å¾ˆè¿‘å‘¢ï¼Œä¸è¿‡é‚£ä¸ªæ—¶å€™æˆ‘ä»¬å¹¶ä¸è®¤è¯†ï¼Œæˆ‘ä»¬æ˜¯10æœˆä»½æ‰è®¤è¯†çš„ã€‚ ä¸€ä¸ªäººä½å¾ˆå­¤å•ï¼Œæˆ‘çš„ä¸€ä¸ªæœ‹å‹ç»å¸¸æ¥æ‰¾æˆ‘é—®äº›é—®é¢˜ï¼Œä»–ä¹Ÿæ˜¯ä¸€ä¸ªäººï¼Œè€å©†å­©å­åœ¨å®¶é‡Œï¼Œåæ¥æˆ‘å°±æ¬èµ°å’Œä»–ä¸€èµ·åˆç§Ÿäº†ä¸€ä¸ªå°æ¬¡å§ï¼Œæ¯æœˆ 1400å…ƒï¼Œä¸»è¦æ˜¯æœ‰ä¸ªè¯´è¯çš„ï¼Œå‡¡äº‹ä¸é‚£ä¹ˆæ— åŠ©å§ï¼Œè¿™æ¬¡ä»ä¸œå¤§è¡—çš„æœ€å—è¾¹æ¬åˆ°äº†ä¸œå¤§è¡—ä¸€ç›´å¾€åŒ—èµ°çš„å¦ä¸€æ¡è¡—ä¸Šå»äº†ï¼Œé‚£é™„ä»¶æœ‰ä¸ªç”µå½±é™¢ï¼Œæˆ‘åŠäº†ä¼šå‘˜å¡ï¼Œæœ‰æ—¶é—´å°±é™ªå¥³å‹å»çœ‹åœºç”µå½±ï¼Œä¸è¿‡ç¦»æˆ‘å¥³æœ‹å‹çš„å•ä½å°±è¿œäº†ç‚¹äº†ï¼Œéœ€è¦å2ç«™çš„å…¬äº¤è½¦ï¼Œæˆ–è€…éª‘ç€æˆ‘çš„è½¦å¶å°”å»é€é€é¥­ï¼Œå› ä¸ºå¥¹ä¸Šç­å¾ˆè¾›è‹¦ï¼Œæœ‰çš„æ—¶å€™çœŸçš„æ˜¯ä¸€å¤©ä¸€é¡¿é¥­å‘¢ï¼è°è®©æˆ‘è¿™ä¹ˆé—²å‘¢â€¦è¿™ä¸ªå°æ¬¡å§æ˜¯è½¬ç§Ÿçš„ï¼Œæˆ‘ä»¬åœ¨è¿™åƒè¿‡ç«é”…ï¼›è¿˜æœ‰æ¬¡ä»–çƒ§æ¢¨ç³–å¿˜è®°å…³ç«äº†ï¼Œç›´åˆ°é‚»å±…è¯´å“ªæ¥çš„ç³Šå‘³ï¼Œæ‰çŸ¥é“çƒ§å¹²é”…äº†ï¼Œå› ä¸ºå¨æˆ¿çš„é—¨å…³äº†ï¼Œå±‹é‡Œå¼€äº†ç©ºè°ƒäº†ï¼Œæ‰€ä»¥é—»ä¸åˆ°ç³Šå‘³ï¼›é‚£æ˜¯å¤å­£ï¼Œå› ä¸ºéƒ½å¾ˆå–œæ¬¢åƒè¥¿ç“œï¼Œæ‰€ä»¥å°±ç»å¸¸ä¹°ï¼Œç„¶åå›æ¥ç”¨æˆ‘ä»¬çš„å…¬è´¹æŠ¥é”€ï¼Œç›¸å¤„çš„å¾ˆèæ´½ï¼Œä»æ¥æ²¡æœ‰å› ä¸ºè¿™ç‚¹å…¬è´¹æœ‰è¿‡æ‘©æ“¦ï¼æˆ¿é—´å¥½å°ï¼Œåªæœ‰ä¸€ä¸ªå•äººåºŠï¼Œäºæ˜¯æˆ‘ç¡åœ¨åœ°ä¸Šï¼Œä»–ç¡å…‰æ¿åºŠï¼Œå¤§æ¦‚ä½äº†3ä¸ªæœˆå§ï¼Œæˆ¿ä¸œè¯´æ˜¯äº²æˆšå›æ¥äº†ï¼Œä¸ç§Ÿäº†ï¼Œæˆ‘ä»¬åªå¥½å¦å¯»åˆ«å¤„ï¼Œæˆ‘è®°å¾—æˆ‘é™ªå¥³å‹å»å¼€å°è€ƒè¯•äº†ï¼Œè¯´åˆ°è¿™ä¹Ÿè°¢è°¢æˆ‘å¼€å°çš„é‚£ä¸ªåŒå­¦ï¼Œå½“ç„¶å¥¹åº”è¯¥æ ¹æœ¬å°±ä¸ä¼šçœ‹è§ï¼›æˆ¿å­æ˜¯è¿™ä¸ªæœ‹å‹æ‰¾çš„ï¼Œæˆ¿å­ä¸å¥½æ‰¾ï¼Œè¿˜æ˜¯ä¸ªè½¬ç§Ÿçš„ï¼Œæ˜¯ä¸ª 3å±…å®¤ï¼Œæˆ‘ä»¬ä½åœ¨ä¸œé¢ï¼Œæ‰€ä»¥æ¯å¤©æ—©æ™¨éƒ½å¯ä»¥çœ‹è§å¤ªé˜³ï¼Œä¹‹å‰çš„æˆ¿å­ä¸€ä¸ªæ˜¯èƒŒé¢çš„ï¼Œä¸€ä¸ªæ˜¯åœ¨è¥¿é¢çš„ï¼›åœ¨ 10æœˆåº•ï¼Œæˆ‘ä»¬å°±å…¨éƒ¨æ¬è¿‡å»äº†ï¼Œæœ‰çš„æ—¶å€™ä¼šåšäº›é¥­ï¼Œå¤§å¤šæ•°æ˜¯ä»–åšçš„ï¼Œæˆ‘ä¸ä¼šåšï¼Œæˆ‘ä¸€èˆ¬éƒ½é€‰æ‹©åˆ·åˆ·é”…è€Œå·²ï¼Œåƒé¥­çš„æ—¶å€™æ²¡äº‹å¹²ä¸€èµ·çœ‹çœ‹ä»Šæ—¥è¯´æ³•ï¼Œè®©æ’’è´å®å¸¦ç€æˆ‘ä»¬å›åˆ°æ¡ˆå‘ç°åœºï¼Œçœ‹çœ‹è­¦å¯Ÿæ˜¯å¦‚ä½•ç ´è·å‡ åå¹´å‰çš„æ¡ˆä»¶çš„ï¼Œè¯´ç€è¯´ç€å°±ä¸ç¦å¼€å§‹å›å‘³èµ·æ¥äº†â€¦ åº”è¯¥æ˜¯æ¬å®¶ä¹‹åæˆ‘çš„å·¥ä½œä¹Ÿæœ‰è¿‡è°ƒæ•´ï¼Œæˆ‘ä¸€ç›´åœ¨ 7æ¥¼å±äºäºŒæ‰‹æˆ¿éƒ¨é—¨çš„ï¼Œ10æœˆæœ‰æ¬¡äººå‘˜å˜åŠ¨ï¼Œæˆ‘ä»¬çš„ç§Ÿæˆ¿å¸®é¡¹ç›®ä¸å†ç»§ç»­åšäº†ï¼Œæˆ‘ä»¬ç»„å°±å¼€å§‹åˆ†æ•£äº†ï¼Œæœ‰çš„è·³æ§½äº†ï¼Œæœ‰çš„å»äº† 9æ¥¼ï¼›è€Œæˆ‘å»äº† 9æ¥¼ï¼Œå¼€å§‹åšæœæˆ¿å®¶å±…ï¼Œå±äºæœæˆ¿ä¸» Appçš„ä¸€ä¸ªæ¨¡å—ï¼Œç§»åŠ¨ç»„éƒ½æ˜¯æŒ‰ä¸šåŠ¡æ¨¡å—åˆ†ç»„çš„ï¼Œæœ‰æ–°æˆ¿ç»„ï¼ŒäºŒæ‰‹æˆ¿ç»„ï¼Œå®¶å±…è£…ä¿®ç»„ï¼ŒæŠ€æœ¯ç»„ï¼Œé€šç”¨ç»„ç­‰ç­‰å§ï¼›æ¯ä¸ªç»„éƒ½æœ‰ä¸€ä¸ªç»„é•¿ï¼Œæˆ‘å‰é¢è¯´åˆ°é˜¿æ°å°±æ˜¯æˆ‘ä»¬åˆšæˆç«‹çš„å°ç»„ç»„é•¿ï¼Œå› ä¸ºå¹´é¾„å·®ä¸å¤šï¼ŒæŠ€æœ¯ä¹Ÿå·®ä¸å¤šï¼Œäº¤æµæ— éšœç¢ï¼Œæ‰€ä»¥æˆäº†æˆ‘ä¸€ç›´ä»¥æ¥çš„å¥½æœ‹å‹ï¼›15å¹´å¹´åº•ï¼Œé˜¿æ°å»äº†ä¸€å®¶åˆ›ä¸šå…¬å¸ï¼Œé¢†å¯¼ç»™æˆ‘åŠ è–ªåï¼Œå¤§ç»„é•¿æ‰¾æˆ‘è°ˆäº†è¯ï¼Œè¯´è¦æˆ‘æ¥æ›¿ä»–çš„ä½ç½®ï¼Œå…¶å®æˆ‘ä¹Ÿæ¥åˆ°äº†ä¸€å®¶åš P2P å…¬å¸çš„é‚€è¯·ï¼Œè¿˜åœ¨è€ƒé‡ä¹‹ä¸­ï¼›äº‹å‘çªç„¶ï¼Œæˆ‘æ¯«æ— å‡†å¤‡ï¼Œæ²¡æœ‰ç»™å¤§ç»„é•¿è¯´å‡ºæ¥ï¼Œç„¶åæˆ‘ä»¬çš„éƒ‘æ€»æ‰¾äº†æˆ‘ï¼Œè¿™ä¸‹æˆ‘æƒ³ä¸è¦å†éšç’äº†ï¼Œå°±å¦‚å®è¯´äº†æˆ‘çš„æƒ…å†µâ€”å¯èƒ½ä¼šå»è¿™ä¸ªåšé‡‘èçš„å…¬å¸ï¼Œè®©ä»–å¤šæ‰¾ä¸ªå¤‡èƒï¼›ç´§æ¥ç€å°±åˆ°äº†è¿‡å¹´äº†ï¼Œé™¤å¤•å‰å¤©åšäº†å§é“ºï¼Œé™¤å¤•æ¸…æ™¨åˆ°äº†è€å®¶ï¼Œçˆ¸çˆ¸æ¥çš„æˆ‘ä»¬â€¦ 12314å¹´æ„Ÿè°¢æˆ‘çš„çˆ±äººï¼Œå®¤å‹ï¼Œé˜¿æ°ï¼Œèƒ–å­(çš„ç‰›è‚‰å¹²),æœæˆ¿ä¸€èµ·åŠ ç­çš„åŒäº‹ä»¬ï¼›ä¸€èµ·åƒé¥­ï¼Œè¶Šæ¥è¶Šå°‘çš„ 7 æ¥¼åŸç­åŒäº‹ä»¬...æ›´è¦æ„Ÿè°¢æˆ‘ 7 æ¥¼çš„ç»ç†æ¯•å§ä»¥åŠ 9 æ¥¼çš„é¢†å¯¼ï¼Œæˆ‘ 7 æ¥¼çš„è€å¤§æ•¬æ•¬ï¼Œæ²¡æœ‰ä½ ä»¬å°±æ²¡æœ‰æˆ‘ 14 å¹´çš„èŒä¸šç”Ÿæ¶¯... 15 å¹´å·¥ä½œç”Ÿæ´»15 å¹´çš„æ˜¥èŠ‚å‡æœŸç»“æŸäº†ï¼Œéƒ‘æ€»ç»™è¶³äº†é¢å­äº†ï¼Œæ‰¾æˆ‘è°ˆäº†è¯ï¼Œæˆ‘è¿˜æ˜¯é€‰æ‹©äº†ç¦»å¼€ï¼Œå¤§ç»„é•¿ä¹Ÿè¡¨ç¤ºå¾ˆæ— å¥ˆï¼Œç„¶ååŠç†äº†ç¦»èŒåå»äº†é‚£å®¶åä¸ºå¤ªæœ‰ä¹¾çš„åˆ›ä¸šå…¬å¸ï¼›åœ¨é‚£é‡Œæˆ‘è®¤è¯†äº†ä¸€æ‰¹æ–°çš„åŒäº‹ï¼Œä¸è¿‡æˆ‘ä¸€ç›´åœ¨å¿™ç€å†™æˆ‘ä»¬çš„æœ‹è´é¡¹ç›®ï¼Œæ‰€ä»¥äº¤æµä¸æ˜¯é‚£ä¹ˆå¤šï¼Œä¸è¿‡ä¹Ÿéƒ½å¾ˆç†Ÿæ‚‰ï¼Œå¾ˆå¤šä¹Ÿæ˜¯æ²³å—è€ä¹¡å‘¢ï¼Œå› ä¸ºåˆæœŸå°±æˆ‘è‡ªå·±ï¼ŒèŠ±äº†3ä¸ªæœˆå†™å¥½äº†ï¼Œç™½å¤©ä¸€ç›´å†™ä»£ç ï¼Œéƒ½æ˜¯ä¸€ä¸ªäººå†™ï¼Œæ„Ÿè§‰æ€ä¹ˆçˆ½å°±æ€ä¹ˆå†™ï¼Œæ‰€ä»¥å°è£…äº†å¥½å¤šä¸œè¥¿ï¼Œæœ‰çš„ç”šè‡³æ˜¯ç”¨ C å†™çš„ï¼ŒåŸå› æ˜¯è·Ÿç±»æ— å…³ï¼Œä¸ä¾èµ–äºæŸä¸ªç±»ï¼Œæˆ‘ç°åœ¨è¿˜æœ‰è¿™æ ·çš„ä¹ æƒ¯ï¼Œè¯¸å¦‚ä¸€äº›å·¥å…·æ–¹æ³•ä¹‹ç±»çš„è¿˜é¦–å…ˆæƒ³åˆ°çš„è¿˜æ˜¯ Cæ–¹æ³•è€Œä¸æ˜¯ OCçš„ç±»æ–¹æ³•ï¼Œä»¥åŠæä¾›å„ç§æœåŠ¡çš„ Serviceï¼Œå­˜å‚¨ DAOç­‰ï¼›äº”ä¸€è¿‡åæ‹›äº†ä¸€ä¸ªæœ‹å‹è¿‡æ¥ï¼Œéœ€æ±‚ä¹ŸåŸºæœ¬å†™å®Œäº†ï¼Œå‰©ä¸‹çš„å°ä»»åŠ¡æˆ‘å°±äº¤ç»™ä»–å»å®Œæˆäº†ï¼Œæˆ‘çš„ä»»åŠ¡ä¸å¤šäº†ï¼Œåˆ©ç”¨äº†è¿™äº›é—²æš‡çš„æ—¶é—´åˆ›å»ºäº†æˆ‘çš„åšå®¢ï¼›é‚£ä¸¤ä¸ªæœˆä¿¡å¿ƒæ»¡æ»¡çš„æœŸå¾…ä¸Šçº¿ï¼ŒæœŸå¾…ç€èƒ½åœ¨å…«æœˆä»½æ‹¿åˆ°æˆ‘ä»¬çš„ Aè½®å‘¢ï¼Œç¥é©¬åŠ è–ªéƒ½ä¸æ˜¯é—®é¢˜å•Š!â€¦å¯æ˜¯7æœˆå¼€äº†ä¸€ä¸ªè®©æˆ‘å¾ˆæ„å¤–çš„ä¼šè®®ï¼Œæˆ‘ä»¬çš„ç»ç†ï¼ˆæˆ‘ä»¬è¿™äº›åŒäº‹éƒ½æ˜¯ä»–æ‹‰æ¥çš„ï¼‰çªç„¶è¯´è¦ç¦»å¼€äº†ï¼Œæˆ‘ä¸‡ä¸‡æ²¡æœ‰ä¸€ç‚¹å¿ƒç†å‡†å¤‡å‘€ï¼ç´§æ¥ç€å°±æ˜¯ä¸Šæµ·æ€»éƒ¨çš„ä¸€ä¸ªç»ç†è¿‡æ¥æ¥ç®¡æˆ‘ä»¬äº†ï¼Œé¦–å…ˆæ˜¯æ¢³ç†ç»„ç»‡æ¶æ„ï¼Œç„¶åè¯´æˆ‘ä»¬ç§»åŠ¨ç«¯å¯èƒ½æ¥ä¸‹æ¥åšä¸€ä¸ªæ–°çš„é¡¹ç›®â€”æ²¡å‡ ä¸ªé¡µé¢ï¼Œä¸»è¦çš„é¡µé¢æˆäº†H5äº†ï¼Œæ”¯ä»˜ä¹Ÿæ˜¯ï¼›æˆ‘å¯æ€œçš„æœ‹è´å°±è¿™ä¹ˆæ­»åœ¨äº†è¥è¤“é‡Œäº†ï¼Œæœ‹è´é¡¹ç›®è™½ç„¶æ²¡æœ‰ä¸Šçº¿ï¼Œä½†æ˜¯æˆ‘ä»¬å®ç°äº†æ‰€æœ‰çš„æµç¨‹éƒ½æ˜¯æœ‰çš„ï¼Œæˆ‘ä»¬çš„ç†è´¢äº§å“ï¼Œå‘å¸ƒä¼—ç­¹ï¼Œè´­ä¹°ï¼Œèµ„äº§ç®¡ç†ï¼Œå……å€¼ï¼Œæ”¶ç›Šè¯¦æƒ…ï¼Œç™»é™†ï¼Œæ³¨å†Œï¼Œæ‰‹åŠ¿å¯†ç è§£é”â€¦ 7æœˆä»½æˆ‘è”ç³»äº†é˜¿æ°å’Œæ•¬æ•¬ï¼Œé˜¿æ°å†…æ¨æˆ‘å» 51CTOï¼Œé‚£é‡Œçš„ HRæ˜¯ä»–çš„è€ä¹¡åŠ åŒäº‹ï¼›æˆ‘ç»™äº†ç®€å†ï¼Œè¿‡äº†å‡ å¤©æ²¡ä¿¡äº†ï¼Œåæ¥é—®äº† HRæ‰çŸ¥é“ï¼ŒåŸæ¥æ˜¯å› ä¸ºæˆ‘æ˜¯å»å¹´æ¯•ä¸šçš„ï¼Œæ„Ÿè§‰æŠ€æœ¯ä¸è¡Œï¼Œæ²¡æœ‰é¢è¯•æœºä¼šï¼Œé˜¿æ°ä¹Ÿæ˜¯é†‰äº†ï¼Œå› ä¸ºé˜¿æ°çš„åŒäº‹ï¼ˆå¾ˆèœçš„ï¼‰å·²ç»é¢è¯•é€šè¿‡äº†ï¼Œæˆ‘å´æœºä¼šéƒ½æ²¡æœ‰ï¼›å›æ¥ç»è¿‡ HRçš„å¸®åŠ©ï¼Œçº¦äº† 14å·ä¸Šåˆå»é¢è¯•ï¼Œå¾—çŸ¥ä»–ä»¬å‡†å¤‡æ‹›ä¸ªleaderï¼Œæˆ‘å¤ªå¹´è½»äº†ï¼Œé¢è¯•å®˜ä¸æ‡‚ iOSï¼Œé¢è¯•çš„ç»“æœè‡ªç„¶ä¹Ÿä¸ç†æƒ³ï¼Œæœ‰äº›æŠ€æœ¯æ²¡æ³•è¯´æ˜ç™½ï¼Œåªå¥½é—®æˆ‘ç®—æ³•äº†ï¼Œæˆ‘ç®—æ³•ä¸å¥½ï¼Œ LRUå½“æ—¶ä¹Ÿä¸çŸ¥é“ï¼ŒçœŸæ˜¯åæ‚”å¤§å­¦æ²¡æœ‰è®¤çœŸå­¦ä¹ æ•°æ®ç»“æ„ï¼å®Œæ¯•åç›´æ¥å»äº†æœç‹ï¼Œä¸­åˆæ²¡æœ‰é£Ÿæ¬²ï¼Œåƒäº†ä¸€ç¢—é¢è€Œå·²ï¼Œåƒè¿‡é¥­åœ¨é™„ä»¶æºœè¾¾ä¸€ä¸‹ï¼Œç†Ÿæ‚‰ä¸‹ç¯å¢ƒï¼Œå°æ ‘æ—é‡Œç¯å¢ƒå¯ä¸é”™å‘¢ï¼Œå¾ˆå¤šäººåœ¨é‚£é‡ŒèŠç€å¤©ï¼Œå¬‰ç¬‘ç€ï¼Œè¿˜æœ‰æ”€å²©çš„å‘¢ï¼›ä¸åˆ°ä¸¤ç‚¹å°±å»ç­‰ç€äº†ï¼Œåˆšå¥½é‡è§äº†ä¸€ä¸ªæœæˆ¿çš„è€åŒäº‹ï¼Œå¯’æš„äº†ä¸€ä¸‹ï¼ŒæŒºå¥½çš„ï¼Œé‡è§ç†Ÿäººæ˜¯å¯ä»¥å‡å°‘æˆ‘çš„å‹åŠ›çš„ï¼›ç­‰åˆ°äº†ä¸‹åˆä¸¤ç‚¹ï¼Œæˆ‘å¡«å†™äº†ä¸€ä¸ªé¢è¯•ç™»è®°è¡¨ï¼Œç„¶åçº¦äº†é¢è¯•å®˜ï¼›æ¥äº†ä¸¤ä¸ªäººå»äº†åœ°ä¸‹ä¸€å±‚ï¼Œæˆ‘ä»¬èŠå¾—å¾ˆä¸é”™ï¼ŒèŠäº†ä¸¤ä¸ªå°æ—¶ï¼Œé—®äº†å¾ˆå¤šçš„é—®é¢˜ï¼Œæ„Ÿè§‰æ¯”ä¸Šåˆå¥½å¤šäº†ï¼Œæ¯•ç«Ÿå¤§éƒ½æ˜¯ iOSçš„é—®é¢˜ï¼Œå¤šçº¿ç¨‹ï¼Œç½‘ç»œåè®®ï¼Œæœ€åä¸€ä¸ªç®—æ³•ï¼›å½“æ—¶å¾ˆæ˜¯å…´å¥‹çš„ï¼ŒçœŸçš„æ„Ÿè§‰é‡è§äº†ç‰›äººäº†ï¼Œå¾ˆæœŸå¾…åŠ å…¥ï¼Œæœ€å–œæ¬¢çš„æ˜¯é¢è¯•å®˜çš„å¾ªå¾ªå–„è¯±ï¼Œæˆ‘ä¸å¤ªç†è§£çš„é—®é¢˜ï¼Œä»–å¯ä»¥ç»™æˆ‘æç¤ºï¼›ç„¶åç´§æ¥ç€æ˜¯ä¸‹æ¥çš„æ˜¯ä¸»ç®¡ï¼Œæˆ‘æ„Ÿè§‰æˆ‘ä»¬èŠå¾—å¹¶ä¸å¥½ï¼Œæˆ‘çš„å›ç­”æˆ‘è‡ªå·±éƒ½ä¸æ»¡æ„å‘¢ï¼›åæ¥ç»è¿‡äº‰å–ï¼Œåœ¨23å·è¿æ¥äº†ä¸€æ¬¡å¤è¯•ï¼Œæœ€ç»ˆæœç‹å†³å®šè¦æˆ‘äº†ï¼Œä¸è¿‡ä¸æ˜¯æˆ‘é¢è¯•çš„é«˜çº§å·¥ç¨‹å¸ˆï¼Œå› ä¸ºä»¥æˆ‘ç°åœ¨çš„å®åŠ›å¾ˆä¸è¶³ä»¥èƒœä»»ï¼äººè´µåœ¨æœ‰è‡ªçŸ¥ä¹‹æ˜ï¼Œè™½ç„¶ä¸æ˜¯é«˜çº§çš„ï¼Œæˆ‘ä¹Ÿå¾ˆæ˜¯é«˜å…´ï¼Œå› ä¸ºæˆ‘éœ€è¦çš„æ˜¯è¿™ä¸ªå¹³å°ï¼Œè€Œä¸æ˜¯è·Ÿå¤´è¡”æŒ‚é’©çš„è–ªèµ„ï¼å¤ªæœ‰ä¹¾è¿™è¾¹æˆ‘æ˜¯ 30å·æ‹¿åˆ°ç¦»èŒè¯æ˜çš„ï¼Œä¹‹å‰ä¹Ÿæœ‰è¿‡åŠ ç­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¡Œæ”¿è¯´ 31å·å¯ä»¥ä¸æ¥äº†ã€‚ å¤ªæœ‰ä¹¾è¿™è¾¹å·²ç»ç¡®å®šäº†ï¼Œé‡æ–°åšä¸€ä¸ª Appï¼Œå¯¹äºè¿™ä¸ªæ–° Appæˆ‘çœŸçš„ä¸æ„Ÿå†’ï¼Œå°½ç®¡æˆ‘éƒ½æ²¡æœ‰ç¦»èŒï¼Œæˆ‘å·²ç»ä¸å»å†™äº†ï¼Œå…¨éƒ¨äº¤ç»™æˆ‘çš„åŒäº‹å»å†™ï¼Œæœ‰é—®é¢˜æˆ‘æ¥å¸®åŠ©è§£å†³ï¼Œåœ¨æˆ‘çš„å†…å¿ƒæ·±å¤„æœ€ä¸èˆå¾—çš„æ˜¯æˆ‘ä»¬çš„æœ‹è´ï¼Œæˆ‘ä¸€æ‰‹å†™èµ·æ¥çš„æœ‹è´ï¼æˆ‘ä»¬å‡ ä¸ªæœˆçš„åŠªåŠ›åŸºæœ¬éƒ½ç™½è´¹äº†ï¼›ç»ç†èµ°åï¼Œèµ°äº†å¥½å‡ ä¸ªäººï¼Œæˆ‘å°±æ˜¯ç¬¬äºŒä¸ªèµ°çš„ï¼›æˆ‘ä»¬çš„UIè®¾è®¡å…ˆèµ°çš„ï¼Œå®‰å“å’Œæˆ‘æ˜¯ä¸€èµ·èµ°çš„ï¼Œéšåæ˜¯æˆ‘ä»¬çš„åå°ï¼Œæˆ‘ä»¬çš„è¡Œæ”¿ï¼›ç°åœ¨å…¬å¸è¿˜åœ¨ï¼Œæ–°çš„ Appä¹Ÿä¸Šäº†çº¿ï¼Œæ®è¯´åˆè¦é‡è§† P2Päº†ï¼Œæƒ³æƒ³çœŸæ˜¯å¯ç¬‘ï¼Œäººèµ°äº†è¿™ä¹ˆå¤šäº†ï¼ŒæŠ€æœ¯ä¸»åŠ›éƒ½èµ°äº†ï¼Œæ€ä¹ˆåƒåšæ¢¦ä¸€æ ·ï¼Œæ‰ç¡é†’ä¹ˆï¼Ÿèµ°äº†å°±æ˜¯èµ°äº†ï¼Œéƒ½ä¸å¯èƒ½å†å›å»â€¦ 8 æœˆå…ˆæ˜¯å’Œæœ‹å‹ä¸€èµ·å»äº†æ¬¢ä¹è°·ç©è€ï¼Œç„¶åæ¥ä¸‹æ¥æ²¡æœ‰æ„æ–™åˆ°æˆ‘ä¼šä¼‘æ¯é‚£ä¹ˆé•¿æ—¶é—´ï¼Œä¸€ç›´ç­‰ç€ï¼Œ8å·å»ä½“æ£€ï¼Œç…§ç›¸ï¼Œ10å·åœ¨çº¿å¡«å†™ offer å®Œæ¯•ï¼Œæœ¬ä»¥ä¸º 12å·èƒ½å»å…¥èŒï¼Œç»“æœ HRç¦»èŒç­‰åŸå› ï¼Œæ—¶é—´ç´§ï¼Œä¸è¡Œï¼›13å·åŠç†æš‚ä½è¯ï¼ŒåŠç†ç§Ÿç”¨å…¬å…±è‡ªè¡Œè½¦ï¼›è¿™ä¸ªè¯åœ¨ä»¥åè€ƒé©¾ç…§ä¹Ÿç”¨å¾—åˆ°ï¼›åœ¨ 19å·æˆ‘ç»ˆäºå»æŠ¥é“äº†ï¼å¼€å§‹äº†æœç‹çš„èŒä¸šç”Ÿæ¶¯â€¦ åœ¨æœç‹æˆ‘å¾ˆæ»¡è¶³ï¼Œæˆ‘å¯ä»¥åšæˆ‘æƒ³åšçš„ï¼Œæˆ‘è´Ÿè´£ä¸‹è½½ç›¸å…³ä¸šåŠ¡ï¼Œæˆ‘ä¸€ç›´åœ¨åŠªåŠ›è§£å†³ä¸‹è½½å­˜åœ¨çš„é—®é¢˜ï¼Œæé«˜ä¸‹è½½çš„æˆåŠŸç‡ï¼Œå‘ç°äº†å¦‚ä¸‹é”™è¯¯ï¼š516ï¼Œ404ï¼Œ403ï¼Œ-1001ç­‰ç­‰ï¼Œå…¶ä¸­ -1001çš„è§£å†³æ–¹æ³•å¾ˆé€—å‘¢ï¼Œè§£å†³æ–¹æ¡ˆåå­—å¾ˆæ˜¯å¤§æ°”ï¼Œå«åè¿è¥å•†åŠ«æŒï¼Œä»¥åæœ‰æ—¶é—´ï¼Œæˆ‘ä¼šå†™ç¯‡åšå®¢å‡ºæ¥ï¼› 10æœˆ 25å·æˆ‘å’Œæˆ‘çš„åŒäº‹é˜¿æ°ä¸€èµ·æŠ¥åè€ƒäº†é©¾é©¶è¯ï¼Œè¿™ä¸ªè²Œä¼¼æ˜¯ä¸ªçš„å¿…éœ€å“ï¼Œä¹Ÿæ˜¯å¤§å­¦åº”è¯¥æ‹¿åˆ°çš„ï¼Œä¸€ç›´æ¨åˆ°ä»Šå¤©â€”15å¹´çš„æœ€åä¸€å¤©æ‰æ‹¿åˆ°ï¼æŠ¥åçš„æ—¶å€™ä»–å¥½ç£¨å½ï¼Œè¿˜ä¸æ„¿æ„æŠ¥ï¼Œæˆ‘å†ä¸‰åŠè¯´ï¼Œç»ˆäºè¿˜æ˜¯æŠ¥äº†ï¼Œæ¥ä¸‹æ¥çš„ä¸€ä¸ªå¤šæœˆï¼Œæˆ‘ä»¬å°±ä¸€èµ·å»é©¾æ ¡å­¦ä¹ äº†ï¼Œæ²¡æœ‰ä¸€ç‚¹ç©ºé—²äº†ï¼Œç¡®å®æœ‰äº›ç´¯å‘¢ï¼›é˜¿æ°ç§‘ç›®ä¸‰æŒ‚äº†ï¼Œåå°å»è¡¥è€ƒï¼Œç„¶åç›´æ¥ç§‘ç›®å››ï¼Œé¡ºåˆ©æ‹¿åˆ°äº†é©¾ç…§ï¼Œæˆ‘ç§‘ç›®å››è¿Ÿè¿Ÿæ²¡å»è€ƒï¼Œç›´åˆ°çœ‹åˆ° 16å¹´è¦å®è¡Œæ–°çš„äº¤é€šæ³•è§„äº†ï¼Œæˆ‘çš„åŒäº‹ä¹ŸåŠæˆ‘å»è€ƒï¼Œæˆ‘æ‰ä¸´æ—¶å†³å®š 31å·å»è€ƒè¯•ï¼Œç»“æœè€ƒé¢˜è¿˜æœ‰ 400å¤šé“æ²¡çœ‹å®Œï¼Œç§‘ç›®å››åˆšå¥½åŠæ ¼ï¼Œæ¬§å¼Ÿé‚£ä¸ªå°å¿ƒè„å•Šï¼Œæœ€å3é“å¤šé€‰ï¼Œå¯æ˜¯å“æ­»å®å®äº†ï¼Œç”Ÿæ€•é”™äº†ï¼Œå¿ƒé‡Œé»˜é»˜å‘Šè¯‰è‡ªå·±ä¸€é“ä¹Ÿä¸èƒ½é”™äº†ï¼Œå› ä¸ºå·²ç»é”™äº† 5é“é¢˜äº†ï¼ ä»Šå¹´çš„åœ£è¯èŠ‚æ˜¯åœ¨æœç‹åº¦è¿‡çš„ï¼Œå‘äº†å¥½å‡ æ¬¡è‹¹æœï¼Œé€äº†å¥¹ä¸€ä¸ªï¼Œè¿˜å‚åŠ æ¸¸æˆæ‹¿åˆ°äº†é™é‡çš„åœ£è¯å°ç‹ç‹¸ï¼› å¥½å¿«ï¼Œå…ƒæ—¦æ¥äº†,æ»¡æ»¡çš„éƒ½æ˜¯å¯¹æ–°çš„ä¸€å¹´çš„æœŸå¾…â€¦ 1234515 å¹´æ„Ÿè°¢å¥½åŸºå‹æŠŠæˆ‘æ¨èåˆ°å¤ªæœ‰ä¹¾ï¼Œä½“éªŒäº†ä¸‹åˆ›ä¸šå…¬å¸ï¼Œè®¤è¯†äº†é‚£é‡Œçš„æ–°åŒäº‹ä»¬ï¼›æ„Ÿè°¢é˜¿æ°ï¼Œæ•¬æ•¬çš„å†…æ¨ï¼›æ„Ÿè°¢ç°åœ¨æœç‹åŒäº‹ä»¬çš„ç…§é¡¾ï¼Œæ„Ÿè°¢åœ¨ 2015é‡è§äº†ä½ ä»¬... 16å¹´è®¡åˆ’ç°åœ¨ä¸‹è½½çš„æŠ€æœ¯æˆåŠŸç‡å·²ç»é«˜äºå…¶ä»–å¹³å°äº†ï¼Œä¸è¿‡è¿™ä¸ªè¿˜ä¸å¤Ÿï¼Œå¯¹äºä¸€ä¸ªå¾ˆåæ‰§çš„å·¥åŒ æ¥è¯´ï¼Œè·ç¦»å®Œç¾ä¸»ä¹‰è¿˜æœ‰é•¿çš„è·¯ï¼Œå› ä¸ºå¾€ä¸Šæå‡çš„éš¾åº¦è¶Šæ¥è¶Šéš¾äº†ï¼Œè¿™å¹¶ä¸ä¼šå“åˆ°æˆ‘æ»´ï¼Œæˆ‘ä¼šç»§ç»­ä¼˜åŒ–ï¼›è¿˜éœ€è¦åŠªåŠ›æå‡å‡ ä¸ªç‚¹ä¸Šå»ï¼ç°é˜¶æ®µæ¯”è¾ƒé‡è¦çš„æ˜¯æ”¹è¿› 404 å’Œ -1001é—®é¢˜è§£å†³æ–¹æ¡ˆçš„æˆæ•ˆï¼ iOS å·¥ä½œå·²ç» 2å¹´äº†ï¼Œæ„Ÿè§‰è‡ªå·±çš„æ°´å¹³è¿˜æ˜¯æ²¡æœ‰æ˜æ˜¾çš„æå‡ï¼Œæˆ‘éœ€è¦å­¦ä¹ çš„è¿˜æœ‰å¤ªå¤šå¤ªå¤šï¼›ä¸‹é¢å°±ç®€å•åˆ—ä¸¾å‡ ä¸ªï¼Œç­‰æˆ‘è¿™äº›å®Œæˆäº†ï¼Œå†æ¥æ›´æ–°è¿™ä¸ªåšå®¢ï¼Œæå‡ºä¸‹ä¸€ä¸ªè§„åˆ’ï¼Œæ­£å¦‚æˆ‘å›½ç°åœ¨å¤„äº 12ä¸ªäº”å¹´è®¡åˆ’ï¼Œæå‡º 13ä¸ªäº”å¹´è®¡åˆ’ä¸€æ ·ï¼Œå¥½é«˜éª›è¿œä¸è¡Œï¼Œå¿…é¡»è„šè¸å®åœ°ï¼YYKit çš„ä½œè€…æˆ‘å¾ˆä½©æœï¼Œä¹Ÿæ˜¯ 90åï¼Œå­¦ä¹  iOSçš„æ—¶é—´è¿˜æ²¡æˆ‘æ—¶é—´é•¿ï¼Œä½†æ˜¯æŠ€æœ¯ç¡®å®ç‰›å‰ï¼Œä¸å¾—ä¸è¯´é˜…è¯»æœ‰è´¨é‡çš„å¼€æºä»£ç æ˜¯å¤šä¹ˆçš„é‡è¦ï¼Œæˆ‘ä¹Ÿæ„Ÿè§‰åˆ°äº†å­¦ä¹ æŠ€æœ¯çœŸçš„æ²¡æœ‰æ·å¾„ï¼Œå°±ç®—æ˜¯æœ‰æ·å¾„ï¼Œä¹Ÿåªæœ‰ä¸€ä¸ªï¼Œé‚£å°±æ˜¯ç«™åœ¨å·¨äººçš„è‚©ä¸Šï¼Œé˜…è¯»ä»–ä»¬çš„ä»£ç ï¼Œæ€è€ƒå¦‚å¯è§£å†³é—®é¢˜ï¼Œå¤šä¸€äº›è§£å†³é—®é¢˜çš„æ–¹æ³•ï¼ å¯¹æ¯” YYKitï¼ŒMJExtensionï¼ŒMantleï¼ŒJOSNModelï¼Œä¼˜åŒ–æˆ‘å†™çš„JSONUtilå°æ¡†æ¶ï¼› é˜…è¯» AFNetWorking,ä¹Ÿè®¸ä¸ä¹…çš„å°†æ¥æˆ‘ä»¬ä¼šå‡çº§åˆ° iOS7ï¼Œé‚£ä¹ˆæˆ‘ä¼šä½¿ç”¨ AF3.0çš„åº“ï¼ŒæŠ›å¼ƒAFURLConnectionï¼› ç ”è¯» SDWebImageå’ŒFastImageï¼ŒåŠ ä¸Š QQZone ç»™å‡ºçš„è®¾è®¡æ–¹æ¡ˆï¼Œæƒ³åŠæ³•æ‰“é€ å‡ºä¸€ä¸ªæ›´åŠ å¿«é€Ÿçš„å›¾ç‰‡åŠ è½½å¤„ç†æ¡†æ¶ï¼Œå…¶å®æˆ‘æ˜¯è¯»è¿‡ SDWebImageçš„ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰ä¼˜åŒ–è¿‡ï¼› Come on, mango, You can if you believeï¼","categories":[],"tags":[{"name":"ä¸ªäººæ€»ç»“","slug":"ä¸ªäººæ€»ç»“","permalink":"http://debugly.cn/tags/ä¸ªäººæ€»ç»“/"}]},{"title":"é€šè¿‡æµè§ˆå™¨è°ƒè¯•è§†å›¾å’Œæ²™æ²³","slug":"2015/12/27-online debug","date":"2015-12-27T13:30:26.000Z","updated":"2018-03-27T14:45:15.687Z","comments":true,"path":"2015/12/27/2015/12/27-online debug.html","link":"","permalink":"http://debugly.cn/2015/12/27/2015/12/27-online debug.html","excerpt":"Introductionæœ€è¿‘åœ¨ GitHub ä¸Šçœ‹åˆ°äº† Damian å†™çš„ä¸€ä¸ªåœ¨æµè§ˆå™¨è°ƒè¯•è§†å›¾çš„å·¥ç¨‹ iOS Hierarchy Viewer ï¼Œè·Ÿ xCode è‡ªå¸¦çš„ç±»ä¼¼ï¼Œä¸è¿‡å‡ ä¹æ²¡ä»€ä¹ˆç‰ˆæœ¬é™åˆ¶ï¼Œæˆ‘åœ¨ä»–çš„åŸºç¡€ä¸Šå¢åŠ äº†æŸ¥çœ‹æ²™æ²³æ–‡ä»¶çš„åŠŸèƒ½ï¼Œå¢åŠ äº†ä¸€ä¸ªé¦–é¡µï¼Œå’Œè¿”å›é¦–é¡µâ€¦ At a glance é¦–é¡µï¼š","text":"Introductionæœ€è¿‘åœ¨ GitHub ä¸Šçœ‹åˆ°äº† Damian å†™çš„ä¸€ä¸ªåœ¨æµè§ˆå™¨è°ƒè¯•è§†å›¾çš„å·¥ç¨‹ iOS Hierarchy Viewer ï¼Œè·Ÿ xCode è‡ªå¸¦çš„ç±»ä¼¼ï¼Œä¸è¿‡å‡ ä¹æ²¡ä»€ä¹ˆç‰ˆæœ¬é™åˆ¶ï¼Œæˆ‘åœ¨ä»–çš„åŸºç¡€ä¸Šå¢åŠ äº†æŸ¥çœ‹æ²™æ²³æ–‡ä»¶çš„åŠŸèƒ½ï¼Œå¢åŠ äº†ä¸€ä¸ªé¦–é¡µï¼Œå’Œè¿”å›é¦–é¡µâ€¦ At a glance é¦–é¡µï¼š è°ƒè¯•è¯•å›¾ï¼š è°ƒè¯•æ²™æ²³ï¼š æ²™æ²³è°ƒè¯•ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨ iFunBox å¯¼å‡ºæ²™æ²³é‡Œçš„æ–‡ä»¶ï¼ŒiOS 8ä¹‹åä¸èƒ½å¯¼å‡ºçº¿ä¸Šï¼Œè¿™å¯èƒ½å‡ºäºæ›´åŠ å®‰å…¨çš„è€ƒè™‘ï¼Œä½†æ˜¯ä¹Ÿç»™å¼€å‘äººå‘˜å¯¼å‡ºæ—¥å¿—å¢åŠ äº†éš¾åº¦ï¼›å› æ­¤å¼€å‘äº†è¿™ä¸ªçº¿ä¸Šå¯¼å‡ºçš„åŠŸèƒ½ï¼Œç”¨äº debug è°ƒè¯•ï¼› ç”¨åˆ°çš„æŠ€æœ¯è®¾å¤‡è¿™è¾¹ä½œä¸º socket æœåŠ¡å™¨ç«¯ï¼Œçœ‹äº†å®ç°ä¸‹è·Ÿå¤§å­¦å­¦ä¹ çš„ Linux ç½‘ç»œç¼–ç¨‹æ˜¯ä¸€æ ·ï¼Œæ‰€ä»¥çœ‹äº†ä¸‹å°±æ˜ç™½äº†ï¼Œä½¿ç”¨ HTTP åè®®ä¼ è¾“æ•°æ®ï¼Œä¸ºäº†ä½¿ä¸‹è½½çš„æ–‡ä»¶æœ‰æ–‡ä»¶åå’Œåç¼€åè¿˜è¦å­¦ä¹ ä¸‹ HTTP ç›¸åº”å¤´ï¼Œé€šè¿‡ socket ä»¥ JSON æ ¼å¼ä¼ è¾“æœ¬åœ°éå†çš„ç›®å½•æ•°æ®ï¼Œç„¶åé€šè¿‡ JS å¤„ç†ä¸‹æ•°æ®ä½¿ç”¨å¼€æºçš„ zTree å±•ç¤ºï¼›ä½ æˆ–è®¸è¿˜è¦äº†è§£è¿™äº›æŠ€æœ¯æ‰è¡Œ jsï¼ŒjQueryï¼Œhtmlï¼Œcssï¼Œsocketâ€¦ ä¸‹è½½æ²™æ²³æ–‡ä»¶å¦‚ä¸Šå›¾çœ‹åˆ°çš„æ ‘çŠ¶ç»“æ„ï¼Œä½ å¯ä»¥ç‚¹å‡»åŠ å·å±•å¼€ï¼Œè¿™ä¸ªä½¿ç”¨ ajax å¼‚æ­¥åŠ è½½çš„ï¼›ç‚¹å‡»æ–‡ä»¶å°±ç›´æ¥ä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œæˆ‘æ˜¯ç”¨çš„æ˜¯ chrom æµè§ˆå™¨ï¼Œsafari çš„è¡¨ç°å¯èƒ½æ²¡æœ‰è¿™ä¹ˆå¥½ï¼Œè¿™ä¸ªæ—¥åå†æ¥è°ƒæ•´ï¼› ä½¿ç”¨æ–¹æ³• 1.æ‰§è¡Œ build_fat å°±èƒ½è‡ªåŠ¨æ‰“å‡ºä¸€ä¸ªé™æ€åº“æ¥äº†; 2.è¿åŒ bundle æ‹–åˆ°ä½ çš„å·¥ç¨‹é‡Œï¼Œå¯¼å…¥å¤´æ–‡ä»¶ï¼Œè°ƒç”¨ startService æ–¹æ³•å¯åŠ¨æœåŠ¡; è§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºçš„ IP åœ°å€ï¼Œç²˜è´´åˆ°æµè§ˆå™¨å°±å¯ä»¥å•¦â€¦ 123456@interface iOSOnlineDebug : NSObject+ (BOOL)startService;+ (void)stopService;@end é¡¹ç›®åœ°å€ï¼š iOSOnlineDebug","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"Remember review your code","slug":"2015/12/07-review your code","date":"2015-12-07T12:05:14.000Z","updated":"2018-03-27T14:45:15.687Z","comments":true,"path":"2015/12/07/2015/12/07-review your code.html","link":"","permalink":"http://debugly.cn/2015/12/07/2015/12/07-review your code.html","excerpt":"","text":"ä»Šå¤©ç§‘ç›®äºŒé¡ºåˆ©è¿‡å…³ï¼Œå¾ˆé«˜å…´ï¼Œå¯æ˜¯ç´§æ¥ç€å°±å†ä¹Ÿé«˜å…´ä¸èµ·æ¥äº†ï¼Œå› ä¸ºç”±äºæˆ‘çš„å¤±è¯¯é€ æˆå…¬å¸çš„é¡¹ç›®ä¸Šçº¿å»¶æœŸäº†ä¸€å¤©ï¼Œå¤±è¯¯äº†ï¼ŒåŸå› å¾ˆç®€å•ï¼Œæ²¡æœ‰çœ‹æ¸…æ¥šç±»åˆ«æ˜¯åŠ äº† DEBUG åˆ¤æ–­äº†ï¼Œæˆ‘çš„æ–¹æ³•å½“ç„¶ä¹Ÿè¢«è¿™ä¸ªå®åŒ…è£¹äº†ï¼Œæ‰€ä»¥ release ä¸‹å¿…å´©æ— ç–‘ï¼","categories":[],"tags":[{"name":"Other","slug":"Other","permalink":"http://debugly.cn/tags/Other/"}]},{"title":"iOS é€šç”¨ Alertã€ActionSheet","slug":"2015/12/04-ql-commom-alert","date":"2015-12-04T14:41:00.000Z","updated":"2018-03-27T14:45:15.687Z","comments":true,"path":"2015/12/04/2015/12/04-ql-commom-alert.html","link":"","permalink":"http://debugly.cn/2015/12/04/2015/12/04-ql-commom-alert.html","excerpt":"Introductionåœ¨ 14 å¹´ iOS 8 å‘å¸ƒä¹‹åå°±æƒ³ç€ç»Ÿä¸€ä¸€ä¸‹ AlertView å’Œ iOS 8 å¼€å§‹ä½¿ç”¨çš„ AletViewControllerï¼Œæœ€è¿‘ç»ˆäºæŠŠè¿™äº‹ç»™åŠäº†ï¼›è™½ç„¶æœ€è¿‘ä¹Ÿå¾ˆå¿™ï¼Œä½†è¿˜æ˜¯å‡†å¤‡äº†ä¸å°‘ä¸œè¥¿ï¼Œé™¤äº†è¿™ä¸ªé€šç”¨å°è£…ä¹‹å¤–ï¼Œç´§æ¥ç€å°†è¿˜æœ‰ä¸€ç¯‡ï¼Œå…ˆå‰§é€ä¸‹â€”æ˜¯æœ‰å…³é€šè¿‡æµè§ˆå™¨çº¿ä¸Šè°ƒè¯•çš„â€¦ å°è£…æ€è·¯iOS 8 æœ‰äº†å¾ˆå¤§çš„å˜åŒ–ï¼Œæ¯ä¸ªæŒ‰é’®å¯¹åº”äº†ä¸€ä¸ª UIAlertAction å¯¹åƒï¼Œç›¸å…³çš„ç´¢å¼•å’Œæ ‡é¢˜éƒ½åœ¨è¿™é‡Œå­˜æ”¾ï¼›block å›æ‰ç‚¹å‡»äº‹ä»¶ï¼›å› æ­¤ï¼Œæƒ³åŠæ³•å¤„ç†ä¸€ä¸‹ iOS 7 çš„AlertViewï¼Œä½¿ä¹‹æ”¯æŒæ·»åŠ  Actionï¼Œblock å›æ‰ç‚¹å‡»äº‹ä»¶ï¼›ç„¶åæä¸ªmanagerï¼Œæ¥ç®¡ç† iOS 8 å‰åè°ƒç”¨çš„ç±»ï¼Œä»è€Œè¾¾åˆ°é€šç”¨çš„æ•ˆæœ! ActionSheet ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œæˆ‘è§‰å¾—åˆ†å¼€å¤„ç†æ¯”è¾ƒå¥½ï¼Œå› æ­¤æœ€ç»ˆæˆ‘è®²å°è£…å‡ºæ¥ä¸¤ä¸ªæ§åˆ¶å™¨å‡ºæ¥ã€‚ iOS 7å¹¶æ²¡æœ‰ Action ç±»ï¼Œå› æ­¤è‡ªå·±å†™ä¸ªå‘½åä¸º QLBlockAlertAction ;å¹¶ä¸”å®šä¹‰ç›¸å…³çš„æšä¸¾å€¼ï¼Œè¿™ä¸ªå¾ˆå¥½åšï¼Œç›´æ¥ copy iOS 8 ç³»ç»Ÿå®šä¹‰çš„æ”¹ä¸ªåå­—å°±è¡Œäº†; å®ç°ä»£ç æŒ‰ç…§ä¸Šé¢æè¿°çš„æ€è·¯å¼€å§‹ codeï¼š å¤„ç† iOS 7 çš„ AlertView123456789@interface QLBlockAlertAction : NSObject+ (instancetype)actionWithTitle:(NSString *)title style:(QLAlertActionStyle)style handler:(void (^)(QLBlockAlertAction *action))handler;@property (nonatomic, copy, readonly) NSString *title;@property (nonatomic, assign,readonly) QLAlertActionStyle style;@property (nonatomic, copy, readonly) void (^AlertHandler)(QLBlockAlertAction *);@end","text":"Introductionåœ¨ 14 å¹´ iOS 8 å‘å¸ƒä¹‹åå°±æƒ³ç€ç»Ÿä¸€ä¸€ä¸‹ AlertView å’Œ iOS 8 å¼€å§‹ä½¿ç”¨çš„ AletViewControllerï¼Œæœ€è¿‘ç»ˆäºæŠŠè¿™äº‹ç»™åŠäº†ï¼›è™½ç„¶æœ€è¿‘ä¹Ÿå¾ˆå¿™ï¼Œä½†è¿˜æ˜¯å‡†å¤‡äº†ä¸å°‘ä¸œè¥¿ï¼Œé™¤äº†è¿™ä¸ªé€šç”¨å°è£…ä¹‹å¤–ï¼Œç´§æ¥ç€å°†è¿˜æœ‰ä¸€ç¯‡ï¼Œå…ˆå‰§é€ä¸‹â€”æ˜¯æœ‰å…³é€šè¿‡æµè§ˆå™¨çº¿ä¸Šè°ƒè¯•çš„â€¦ å°è£…æ€è·¯iOS 8 æœ‰äº†å¾ˆå¤§çš„å˜åŒ–ï¼Œæ¯ä¸ªæŒ‰é’®å¯¹åº”äº†ä¸€ä¸ª UIAlertAction å¯¹åƒï¼Œç›¸å…³çš„ç´¢å¼•å’Œæ ‡é¢˜éƒ½åœ¨è¿™é‡Œå­˜æ”¾ï¼›block å›æ‰ç‚¹å‡»äº‹ä»¶ï¼›å› æ­¤ï¼Œæƒ³åŠæ³•å¤„ç†ä¸€ä¸‹ iOS 7 çš„AlertViewï¼Œä½¿ä¹‹æ”¯æŒæ·»åŠ  Actionï¼Œblock å›æ‰ç‚¹å‡»äº‹ä»¶ï¼›ç„¶åæä¸ªmanagerï¼Œæ¥ç®¡ç† iOS 8 å‰åè°ƒç”¨çš„ç±»ï¼Œä»è€Œè¾¾åˆ°é€šç”¨çš„æ•ˆæœ! ActionSheet ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œæˆ‘è§‰å¾—åˆ†å¼€å¤„ç†æ¯”è¾ƒå¥½ï¼Œå› æ­¤æœ€ç»ˆæˆ‘è®²å°è£…å‡ºæ¥ä¸¤ä¸ªæ§åˆ¶å™¨å‡ºæ¥ã€‚ iOS 7å¹¶æ²¡æœ‰ Action ç±»ï¼Œå› æ­¤è‡ªå·±å†™ä¸ªå‘½åä¸º QLBlockAlertAction ;å¹¶ä¸”å®šä¹‰ç›¸å…³çš„æšä¸¾å€¼ï¼Œè¿™ä¸ªå¾ˆå¥½åšï¼Œç›´æ¥ copy iOS 8 ç³»ç»Ÿå®šä¹‰çš„æ”¹ä¸ªåå­—å°±è¡Œäº†; å®ç°ä»£ç æŒ‰ç…§ä¸Šé¢æè¿°çš„æ€è·¯å¼€å§‹ codeï¼š å¤„ç† iOS 7 çš„ AlertView123456789@interface QLBlockAlertAction : NSObject+ (instancetype)actionWithTitle:(NSString *)title style:(QLAlertActionStyle)style handler:(void (^)(QLBlockAlertAction *action))handler;@property (nonatomic, copy, readonly) NSString *title;@property (nonatomic, assign,readonly) QLAlertActionStyle style;@property (nonatomic, copy, readonly) void (^AlertHandler)(QLBlockAlertAction *);@end è¿™ä¸ªæ˜¯æ”¯æŒAlertView block å›è°ƒçš„ï¼› 123456789@interface QLBlockAlertView : UIAlertView+ (instancetype)alertWithTitle:(NSString *)title message:(NSString *)message;- (void)addActionWithTitle:(NSString *)title style:(QLAlertActionStyle)style handler:(void (^)(QLBlockAlertAction *action))handler;@property (nonatomic, strong, readonly) NSArray *actions;@end é›†æˆç³»ç»Ÿç±»ï¼Œå°è£…å¾—è·Ÿ iOS 8ä¸€æ ·ï¼Œè¿™æ ·å‡è½»äº†managerçš„éº»çƒ¦ï¼Œå°±èƒ½ç»Ÿä¸€å¤„ç†äº†ï¼Œæ”¯æŒæ·»åŠ  actionï¼› 12345typedef NS_ENUM(NSInteger, QLAlertActionStyle) &#123; QLAlertActionStyleDefault = 0, QLAlertActionStyleCancel, QLAlertActionStyleDestructive //actionsheetä½¿ç”¨&#125;; è¿™ä¸ªå¾ˆç®€å•ï¼Œcopy iOS 8 çš„å°±è¡Œäº†ï¼›ä¸»è¦æ˜¯åŒºåˆ† actionstyle å’Œ alert å’Œ actionsheet çš„ï¼›iOS 8 alert å’Œ actionsheet æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼›è¿™ä¸ªæŠ½å–ä¸€ä¸ªHeader å«ï¼šQLAlertSheetCommonHeader ï¼› åˆ°æ­¤ä¸ºæ­¢ iOS 8ä¹‹å‰çš„ alertview å·²ç»æ”¹é€ å®Œæ¯•äº†ï¼›ç°åœ¨å°±å¯ä»¥æ˜¯ä½¿ç”¨äº†ï¼›åŒæ ·çš„æ–¹å¼å»æ”¹é€  actionsheetï¼› 123456789@interface QLBlockActionSheet : UIActionSheet- (instancetype)initWithTitle:(NSString *)title;- (void)addActionWithTitle:(NSString *)title style:(QLAlertActionStyle)style handler:(void (^)(QLBlockAlertAction *action))handler;@property (nonatomic, strong, readonly) NSArray *actions;@end æ¥ä¸‹æ¥æ”¹å†™æˆ‘ä»¬çš„ç»Ÿä¸€çš„ç®¡ç†è€…äº†ï¼Œè¿™é‡Œåˆ†å¼€å†™ï¼Œä¸€ä¸ªæ˜¯ç®¡ç† AlertView çš„ï¼Œä¸€ä¸ªæ˜¯ç®¡ç† ActionSheet çš„ï¼›è¿™é‡Œç®€å•çœ‹ä¸‹ AlertView çš„é€šç”¨ç®¡ç†è€…ï¼š QLAlertViewController ï¼› 1234567891011@interface QLAlertViewController : NSObject+ (instancetype)alertWithTitle:(NSString *)title message:(NSString *)message;- (void)addActionWithTitle:(NSString *)title style:(QLAlertActionStyle)style handler:(void (^)(QLBlockAlertAction *action))handler;- (NSArray *)actions;- (void)showInViewController:(UIViewController *)vc;@end çœ‹ç€è·Ÿ iOS 8çš„æ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œæ‰€ä»¥å°±æ²¡å†™æ³¨é‡Šï¼›çœ‹ä¸‹å†…éƒ¨å®ç°å§ï¼š 123456789101112131415161718192021@interface QLAlertViewController ()@property (nonatomic, strong) QLBlockAlertView *alertView;@property (nonatomic, strong) UIAlertController *alertController;@end@implementation QLAlertViewController- (instancetype)initWithTitle:(NSString *)title message:(NSString *)message&#123; self = [super init]; if (self) &#123; if (_IS_IOS8_LATER_) &#123; self.alertController = [UIAlertController alertControllerWithTitle:title message:message preferredStyle:UIAlertControllerStyleAlert]; &#125;else&#123; self.alertView = [QLBlockAlertView alertWithTitle:title message:message]; &#125; &#125; return self;&#125; è¯´ç™½äº†å°±æ˜¯æ ¹æ®ç³»ç»Ÿç‰ˆæœ¬è¿›è¡ŒåŒºåˆ†ï¼ŒiOS 8 ä»¥åå°±ç”¨ç³»ç»Ÿçš„ UIAlertController å¤„ç†ï¼›åä¹‹å°±ä½¿ç”¨æˆ‘ä»¬å°è£…çš„ QLBlockAlertView ï¼›å› ä¸ºæˆ‘ä»¬æ˜¯æŒ‰ç…§ iOS 8 çš„å½¢å¼å°è£…çš„ï¼Œæ‰€ä»¥å†…éƒ¨å¤„ç†ä¹Ÿå¾ˆç®€å•ï¼š 123456789101112131415161718- (void)addActionWithTitle:(NSString *)title style:(QLAlertActionStyle)style handler:(void (^)(QLBlockAlertAction *))handler&#123; if (_IS_IOS8_LATER_) &#123; void (^actionHandler)(UIAlertAction * action) = NULL; if (handler) &#123; actionHandler = ^(UIAlertAction * action)&#123; QLBlockAlertAction *ac = [QLBlockAlertAction actionWithTitle:title style:style handler:handler]; handler(ac); &#125;; &#125; UIAlertAction *action = [UIAlertAction actionWithTitle:title style:QLAlertActionStyle2UIAlertActionStyle(style) handler:actionHandler]; [self.alertController addAction:action]; &#125;else&#123; [self.alertView addActionWithTitle:title style:style handler:handler]; &#125;&#125; å±•ç¤º AlertView çš„ä½¿ç”¨éœ€è¦ä¸€ä¸ªæ§åˆ¶å™¨: 123456789101112- (void)showInViewController:(UIViewController *)vc&#123; if (_IS_IOS8_LATER_) &#123; UIViewController *presentingViewController = vc; while (presentingViewController.presentedViewController) &#123; presentingViewController = presentingViewController.presentedViewController; &#125; [presentingViewController presentViewController:self.alertController animated:YES completion:nil]; &#125;else&#123; [self.alertView performSelectorOnMainThread:@selector(show) withObject:nil waitUntilDone:YES]; &#125;&#125; æ˜¯ä¸æ˜¯å¾ˆç®€å•å‘¢ï¼Ÿæœ‰æœ¨æœ‰â€¦ ç®€å•çš„ä½¿ç”¨çœ‹ä¸‹ ActionSheet çš„ä½¿ç”¨å§ï¼ŒAlertViewè·Ÿä¹Ÿæ˜¯è¿™ä¸ªä¸€æ ·çš„ï¼š 1234567891011121314151617181920//åˆ›å»ºå¯¹è±¡ï¼›QLActionSheetController *actionsheet = [QLActionSheetController actionSheetWithTitle:@\"å“¼å“¼ï¼Œæˆ‘æ˜¯ä¸€ä¸ªActionSheet\"]; //æ·»åŠ å¤„ç†actionï¼› [actionsheet addActionWithTitle:@\"æˆ‘å¾ˆç‰¹åˆ«å§ï¼\" style:QLAlertActionStyleDestructive handler:^(QLBlockAlertAction *action) &#123; [weakself updateForRow:indexPath.row text:action.title]; &#125;]; //æ·»åŠ å¤„ç†actionï¼› [actionsheet addActionWithTitle:@\"ä½ å¾ˆé—²å—ï¼Ÿ\" style:QLAlertActionStyleDefault handler:^(QLBlockAlertAction *action) &#123; [weakself updateForRow:indexPath.row text:action.title]; &#125;]; //æ·»åŠ å–æ¶ˆactionï¼› [actionsheet addActionWithTitle:@\"å–æ¯å’–å•¡æ€ä¹ˆæ ·ï¼Ÿ\" style:QLAlertActionStyleCancel handler:^(QLBlockAlertAction *action) &#123; [weakself updateForRow:indexPath.row text:action.title]; &#125;]; //å±•ç¤ºï¼› [actionsheet showInViewController:self]; æ•ˆæœ é¡¹ç›®åœ°å€å·²ç»ä¼ åˆ°äº† github ä¸Šäº†ï¼Œæ¬¢è¿ pull request ï¼Œå¤šè°¢æ”¯æŒï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"Xcode7 Transition Guide","slug":"2015/11/11-xcode7-transition","date":"2015-11-11T13:41:12.000Z","updated":"2018-03-27T14:45:15.686Z","comments":true,"path":"2015/11/11/2015/11/11-xcode7-transition.html","link":"","permalink":"http://debugly.cn/2015/11/11/2015/11/11-xcode7-transition.html","excerpt":"","text":"Introductionä½¿ç”¨ Xcode 7 å¼€å‘å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œè®°å½•ä¸‹ä½¿ç”¨æ—¶é‡è§çš„é—®é¢˜ï¼›æœ‰äº›ä¸œè¥¿è®°ä¸ä½ï¼Œæ‰€ä»¥å½“åšç¬”è®°ï¼Œéœ€è¦çš„æ—¶å€™æ‰“å¼€åšå®¢å¤åˆ¶ä¸‹å°±å¥½äº†ã€‚ Bitcode ä¸€èˆ¬å¥½å¤šç¬¬ä¸‰æ–¹åº“ä¸æ”¯æŒè¿™ä¸ªç‰¹æ€§ï¼Œæ¯•ç«Ÿæ˜¯è‹¹æœåˆšæ¨å‡ºçš„ï¼Œéœ€è¦ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¸ªç­‰æ—¥åç¬¬ä¸‰æ–¹åº“éƒ½æ”¯æŒä¹‹åå¯ä»¥å¼€å¯ï¼Œæš‚æ—¶éœ€è¦å…³é—­ï¼Œå¦åˆ™å°†å‡ºç°å¦‚ä¸‹ç±»ä¼¼çš„é”™è¯¯ï¼è¿™ä¸ªè®¾ç½®é¡¹é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œåœ¨ build setting é‡Œæœç´¢å°±å¯ä»¥æ‰¾åˆ°å•¦ã€‚ NSAppTransportSecurity ä½¿ç”¨ Xcode 7ä¹‹åå‘ç°æ¥å£ï¼ˆHTTPS é™¤å¤–ï¼‰ä¸å¥½ä½¿äº†ï¼Œæ²¡æ•°æ®äº†ï¼å°¼ç›å•Šï¼Œä»€ä¹ˆæƒ…å†µï¼Œå‘æ­»è€å­å˜›ï¼Ÿï¼ä¸è¦æ…Œå¼ ï¼Œåœ¨ä½ å·¥ç¨‹çš„ info.plist ï¼ˆè¿™ä¸ªå¯ä»¥ä¿®æ”¹ï¼Œé»˜è®¤æ˜¯infoï¼‰é‡Œæ·»åŠ ä¸ªå­—å…¸é…ç½®ä¸‹å°±å¯ä»¥å•¦ï¼šï¼ˆå¯ä»¥å³é”®plistï¼ŒOpen as-&gt; Source Code ç„¶åå¤åˆ¶åˆ°æœ€åï¼Œplistæœ¬èº«ä¹Ÿæ˜¯ä¸ªæ–‡æœ¬ï¼ˆxmlï¼‰æ–‡ä»¶ï¼Œæ‰€ä»¥å½“ç„¶å¯ä»¥è¿™æ ·çœ‹å•¦ï¼‰ 12345&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;&lt;dict&gt;&lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;&lt;true/&gt;&lt;/dict&gt; æ˜¨å¤©åˆšä» 7GM ç‰ˆå‡çº§åˆ°äº† 7.1,åœ¨æ·»åŠ è¿™ä¸ªå­—å…¸çš„æ—¶å€™å°±å‘ç°ç³»ç»Ÿåšäº†ä¿®æ”¹ï¼Œè‡ªåŠ¨æŠŠä½ å†™çš„ NSAppTransportSecurity å˜ä¸º App Transport Security Settings è¿™ä¸ªä¸ç”¨æˆ‘ä»¬ç®¡ä»–ï¼Œæ˜¯è‡ªåŠ¨å˜çš„ã€‚è¿™æ˜¯æ¯”è¾ƒæ‡’çš„åšæ³•ï¼Œæˆ‘ä»¬å†™Demoçš„æ—¶å€™å¯ä»¥ç›´æ¥è¿™æ ·æï¼Œå¦‚æœé¡¹ç›®é‡Œçš„æ¥å£ HTTPS çš„å±…å¤šï¼Œåˆ™å¯ä»¥è¿‡æ»¤ç‰¹å®šçš„ï¼Œå…·ä½“æ€ä¹ˆåšå°±è¯·è‡ªå·± Google å§,å»ºè®®ä½¿ç”¨ HTTPS çš„æ¥å£ï¼Œæœ€è¿‘ Xcode Ghost äº‹ä»¶é—¹å¾—æ²¸æ²¸æ‰¬æ‰¬çš„ï¼Œå¦‚æœæ˜¯ HTTPS å°±ä¸ä¼šè¿™æ ·äº†ï¼Œå½“ç„¶ä½¿ç”¨ HTTPS ä¼šä½¿å¾—æ¥å£æ›´æ…¢ï¼Œéœ€è¦å¢åŠ æˆæœ¬åœ¨è¯ä¹¦æœºæ„è´­ä¹° SSL è¯ä¹¦â€¦ ä½¿ç”¨æ¡ä»¶é¢„ç¼–è¯‘ ä½¿ç”¨ IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 90000 å…¼å®¹ 7ä¹‹å‰çš„ Xcode ç¼–è¯‘ï¼Œå¯ä»¥åœ¨ Xcode 7ä¸Šçœ‹åˆ°å®å®šä¹‰ IPHONE_9_0 å°±æ˜¯ 90000ï¼›å…·ä½“è¿™ä¹ˆå†™ï¼š 123#if (__IPHONE_OS_VERSION_MAX_ALLOWED &gt;= 90000)//your ios 9 SDK code#endif æœ‰äº†è¿™äº›å°±åš iOS9 çš„é€‚é…å·¥ä½œäº†â€¦ ç”³è¯·è‡ªå·±çš„è¯ä¹¦ä½¿ç”¨ Xcode 7ä¹‹åå°±å¯ä»¥ç™»å½•è‡ªå·±çš„æ™®é€šè´¦æˆ·ï¼Œè°ƒè¯•æˆ‘ä»¬å†™çš„ demo çš„æ—¶å€™æŠŠteamæ”¹ä¸ºè‡ªå·±çš„è´¦æˆ·åï¼Œç„¶åå°±ä¼šæç¤ºè‡ªåŠ¨è¯·æ±‚åŒ¹é…çš„è¯ä¹¦ã€‚ å‡çº§åˆ° OS X EI Captain ä¹‹å jekyll ä¸¢äº† Errno::ENOENT: No such file or directory - jekyll æ‰€ä»¥è¿™ç¯‡åšå®¢æ²¡é‚£ä¹ˆé¡ºåˆ©å‘å¸ƒäº†å°±ï¼Œè‹¹æœæä»€ä¹ˆé£æœºå•Šï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"Mac ä¸Šä½¿ç”¨ SSH key","slug":"2015/11/06-Use-ssh-key","date":"2015-11-06T13:35:37.000Z","updated":"2018-03-27T14:45:15.686Z","comments":true,"path":"2015/11/06/2015/11/06-Use-ssh-key.html","link":"","permalink":"http://debugly.cn/2015/11/06/2015/11/06-Use-ssh-key.html","excerpt":"","text":"Introduction SSH key ç”¨æ¥æ ‡è¯†æŸå°è®¡ç®—æœºè¢«ä¿¡ä»»ï¼ä¸€æ—¦è¢«ä¿¡ä»»ï¼Œä»¥ååœ¨è¿™å°è®¡ç®—æœºä¸Šè¿›è¡Œçš„æ“ä½œå°±ä¸éœ€è¦è¾“å…¥ä½ è´¦æˆ·çš„å¯†ç ï¼Œå¯ä»¥ç†è§£ä¸ºä»¤ç‰Œï¼Œæ‹¿ç€ä»¤ç‰Œå°±å¯ä»¥åšäº‹ï¼Œå½“ç„¶æƒé™æ˜¯å¯æ§åˆ¶çš„ï¼SSH key æ˜¯éƒ¨åˆ†å¹³å°çš„ï¼Œä¹Ÿå°±è¯´ä»Šå¤©ä¸¾ä¾‹çš„ MAC ç³»ç»Ÿå¯ä»¥ç”¨ï¼Œç»å¸¸ä½¿ç”¨çš„ Windows ä¹Ÿå¯ä»¥ç”¨ï¼ŒLinuxç­‰ç³»ç»Ÿå‡å¯ï¼Œå› ä¸ºè¯´ç™½äº†å°±æ˜¯ä½¿ç”¨äº†ä¸€ç§åŠ å¯†æ–¹æ³•ï¼Œè®¡ç®—æœºç”Ÿæˆäº†ä¸€å¯¹å¯†é’¥ï¼›ä¸€ä¸ªå…¬é’¥ï¼Œä¸€ä¸ªç§é’¥ï¼Œå…¬é’¥å½“ç„¶å°±æ˜¯å…¬å¼€ä½¿ç”¨çš„ï¼Œä¸€èˆ¬ä¼šç”¨äºç¬¬ä¸‰æ–¹å¹³å°ï¼Œç§é’¥æ˜¯ä¿ç•™åœ¨è®¡ç®—æœºé‡Œçš„ï¼Œå› æ­¤åœ¨æ“ä½œçš„æ—¶å€™åªéœ€å…¬ç§é’¥é…å¯¹å³å¯ï¼Œåªè¦é…å¯¹å°±è®¤ä¸ºæ˜¯ä¿¡ä»»çš„è®¡ç®—æœºæ‰€ä¸ºï¼Œå°±å¯ä»¥ç»§ç»­æ“ä½œï¼ä»Šå¤©ä»¥ SSH key æ–¹å¼è®¿é—® github ä¸¾ä¾‹â€¦ ä½¿ç”¨åœºæ™¯ å…å¯†ç ç™»å½•è¿œç¨‹æœåŠ¡å™¨ å…å¯†ç æ¨é€ã€æ‹‰å– git è¿œç¨‹ä»“åº“ æ¯”å¦‚æˆ‘çš„åšå®¢ä½¿ç”¨çš„æ˜¯ git pageï¼Œè¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ github ä»“åº“è€Œå·²ï¼›æœ¬åœ°ç”Ÿæˆç«™ç‚¹ä¹‹åï¼Œå°±éœ€è¦ push åˆ° githubï¼Œä¸ºäº†ä¸ç”¨æ¯æ¬¡éƒ½è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¯ä»¥é…ç½® ssh keyï¼Œç„¶åæŠŠè¿œç¨‹ä»“åº“åœ°å€è®¾ç½®ä¸º ssh æ ¼å¼å³å¯ã€‚ å·¥ä½œæ—¶è™½ç„¶ä½¿ç”¨çš„æ˜¯å†…éƒ¨çš„ git æ‰˜ç®¡æœåŠ¡å™¨ git labï¼Œä½†ä½¿ç”¨æ–¹å¼è·Ÿ github ä¹Ÿæ²¡å•¥ä¸ä¸€æ ·çš„ï¼ŒåŒæ ·æ”¯æŒé…ç½® ssh keyã€‚ æŸ¥çœ‹æœ¬åœ° ssh å¯†é’¥ssh å…¬é’¥é»˜è®¤å­˜æ”¾åœ¨ ~/.ssh ç›®å½•ä¸‹ï¼Œå› æ­¤å¯ä»¥ ls æŸ¥çœ‹ä¸‹ï¼š 12345678910111213ls ~/.sshå¦‚æœæ›¾ç»ä½¿ç”¨è¿‡ GitHub å®¢æˆ·ç«¯çš„è¯ï¼Œåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š-rw------- 1 xuqianlong staff 1766 3 11 2015 github_rsa-rw-r--r--@ 1 xuqianlong staff 405 10 18 17:31 github_rsa.pub-rw-r--r-- 1 xuqianlong staff 1595 7 2 01:33 known_hostsä¹Ÿæœ‰å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š-rw------- 1 xuqianlong staff 3243 8 20 00:15 id_rsa-rw-r--r-- 1 xuqianlong staff 742 8 20 00:15 id_rsa.pub-rw-r--r-- 1 xuqianlong staff 803 8 20 09:38 known_hostsåªä¸è¿‡æ˜¯æ–‡ä»¶åçš„å‰ç¼€ä¸åŒç½¢äº†ï¼› å¦‚æœ ssh å·²ç»æ·»åŠ åˆ° github äº†ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ ssh -T git@github.com éªŒè¯ä¸‹ï¼š 1234è¿˜æ²¡æ·»åŠ ï¼šPermission denied (publickey).æˆ–è€…ï¼šHi debugly! You&apos;ve successfully authenticated, but GitHub does not provide shell access. å¦‚æœæœ¬åœ°æ²¡æœ‰å¯ç”¨çš„ ssh keyï¼Œæˆ–è€…ä½ ä¸æƒ³ç”¨ä¹‹å‰çš„ï¼Œæˆ–è€…æƒ³è®©ä¹‹å‰çš„å®æ•ˆï¼Œé‚£ä¹ˆä½ å¯ä»¥å…¨éƒ¨åˆ æ‰ï¼Œç„¶åé‡æ–°ç”Ÿæˆå³å¯ã€‚ ç”Ÿæˆæ–°çš„ SSH Keyä½¿ç”¨ ssh-keygen -t rsa -b 4096 -C &quot;xx@yyyzzz.com&quot; ç”Ÿæˆï¼Œè¿™é‡Œçš„ â€œxx@yyyzzz.comâ€œ æ›¿æ¢æˆä½ çš„é‚®ç®±æˆ–è€…éšä¾¿å†™éƒ½è¡Œï¼Œæ²¡é™åˆ¶çš„ï¼Œæœ€å¥½èµ·ä¸ªèƒ½åˆ†çš„æ¸…æ¥šçš„åå­—ï¼Œæœ‰å¯èƒ½ä½ æœ‰å¤šä¸ªç”µè„‘ï¼Œé…ç½®äº†å¤šä¸ª keyã€‚ è¾“å…¥ä¸Šé¢çš„å‘½ä»¤åï¼Œæ¥ä¸‹æ¥è¿ç»­ 3 æ¬¡å›è½¦å°±å¥½äº†ï¼Œå…·ä½“ç»†èŠ‚æ˜¯ï¼š Enter file in which to save the key (/Users/xuqianlong/.ssh/id_rsa): æ–‡ä»¶å­˜æ”¾ä½ç½®ï¼Œé»˜è®¤(~/.ssh) Enter passphrase (empty for no passphrase):æˆ‘è¿™é‡Œæ— éœ€è®¾ç½®å¯†ç ï¼Œç›´æ¥å›è½¦ Enter same passphrase again: å†æ¬¡è¾“å…¥å¯†ç å›è½¦ è¿™æ˜¯æˆ‘æ‰§è¡Œçš„ç»“æœï¼š 12345678910111213141516171819202122bogon:~ xuqianlong$ ssh-keygen -t rsa -b 4096 -C \"qianlongxu@home.mbp\"Generating public/private rsa key pair.Enter file in which to save the key (/Users/xuqianlong/.ssh/id_rsa): Created directory '/Users/xuqianlong/.ssh'.Enter passphrase (empty for no passphrase): Enter same passphrase again: Your identification has been saved in /Users/xuqianlong/.ssh/id_rsa.Your public key has been saved in /Users/xuqianlong/.ssh/id_rsa.pub.The key fingerprint is:SHA256:GzJ1j3gh0ws/IwF/KMQwoIvHhmnoPPW/v+w+pmDmSFo qianlongxu@home.mbpThe key's randomart image is:+---[RSA 4096]----+| ..ooo || . o.o o ||. . O = ||o= o X = ||*.+. o S B . ||+o. . o = o || + E = . || = = o .o || . . . +B*o |+----[SHA256]-----+ æ·»åŠ åˆ° ssh-agent ssh-add ~/.ssh/id_rsa : Identity added: /Users/xuqianlong/.ssh/id_rsa (/Users/xuqianlong/.ssh/id_rsa) å³ä½¿ä¸æ“ä½œè¿™ä¸€æ­¥ï¼Œä¸€èˆ¬ä¹Ÿæ²¡é—®é¢˜çš„ã€‚ å¦‚æœè‹±æ–‡ä¸é”™ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å»çœ‹ github å®˜ç½‘æä¾›çš„æ–‡æ¡£ï¼š Generating-ssh-key . Github è´¦å·æ·»åŠ  SSH key å°†å…¬é’¥å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ pbcopy &lt; ~/.ssh/id_rsa.pubæˆ–è€…cat ~/.ssh/id_rsa.pub | pbcopy ç™»å½• Github è´¦å·ï¼Œç‚¹å‡» Setting: ç‚¹å‡»å·¦ä¾§çš„ SSH keys: ç‚¹å‡» Add SSH keys: ç›´æ¥å°†å…¬é’¥å¤åˆ¶åˆ°è¾“å…¥æ¡†é‡Œé¢ï¼Œä¸€èˆ¬ title ä¼šè‡ªåŠ¨ç”Ÿæˆ: ç‚¹å‡» Add key å³å¯: æ·»åŠ åˆ° github åæ£€æŸ¥ä¸‹ ssh key çŠ¶æ€ ssh -T git@github.com åº”è¯¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹: 123The authenticity of host &apos;github.com (192.30.252.130)&apos; can&apos;t be established.RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.Are you sure you want to continue connecting (yes/no)? å› ä¸ºè¿™æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œæ²¡æœ‰ IP è®°å½•ï¼Œå› æ­¤è¾“å…¥ yes å³å¯ï¼› 12Warning: Permanently added &apos;github.com,192.30.252.130&apos; (RSA) to the list of known hosts.Hi debugly! You&apos;ve successfully authenticated, but GitHub does not provide shell access. çœ‹åˆ°ä½  Github çš„ç”¨æˆ·ååå°±è¡¨ç¤ºæˆåŠŸäº†ï¼ ä½“éªŒå…å¯†ç  git clone git@github.com:debugly/NeedUpdate.git 1234567Cloning into 'NeedUpdate'...remote: Counting objects: 149, done.remote: Compressing objects: 100% (98/98), done.remote: Total 149 (delta 42), reused 149 (delta 42), pack-reused 0Receiving objects: 100% (149/149), 10.30 MiB | 16.00 KiB/s, done.Resolving deltas: 100% (42/42), done.Checking connectivity... done.","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"Swift å­¦ä¹ ï¼ˆä¸€ï¼‰","slug":"2015/11/05-swift-study-1","date":"2015-11-05T15:46:42.000Z","updated":"2018-03-27T14:45:15.686Z","comments":true,"path":"2015/11/05/2015/11/05-swift-study-1.html","link":"","permalink":"http://debugly.cn/2015/11/05/2015/11/05-swift-study-1.html","excerpt":"IntroductionSwift æœ€æ–°å·²ç»æ˜¯ 2.1 äº†ï¼Œæ›´ä¼˜ç¾äº†ï¼Œæ—¥è¶‹æˆç†Ÿäº†ï¼ŒåŠ ä¸Šå…¬å¸é¡¹ç›®ä»¥åå¯èƒ½æ”¯æŒåˆ° iOS7ï¼Œå°±å¯ä»¥ä½¿ç”¨ Swift å†™é¡¹ç›®äº†ï¼Œæ‰€ä»¥å¿…é¡»å­¦ä¹ ä¸‹äº†ï¼Œå…ˆçœ‹çœ‹å®˜æ–¹çš„æ–‡æ¡£: Using Swift with Cocoa and Objective-C (Swift 2.1) Interoperablility : äº’åŠ¨æ€§ Initialization oc åˆå§‹åŒ–æ–¹æ³•ï¼Œåœ¨swifté‡Œçœå»äº†withï¼Œwithåé¢çš„å˜æˆäº†å‚æ•°åï¼š 1234- (instancetype)initWithFrame:(CGRect)framestyle:(UITableViewStyle)style;init(frame: CGRect, style: UITableViewStyle) &#123; /* ... */ &#125; oc alloc swiftä¸éœ€è¦è°ƒç”¨ï¼Œallocå’Œinitä¸€æ°”å‘µæˆï¼š 123UITableView *myTableView = [[UITableView alloc] initWithFrame:CGRectZero style:UITableViewStyleGrouped];let myTableView: UITableView = UITableView(frame: CGRectZero, style: .Grouped) Class Factory Methods and Convenience Initializers oc å·¥å‚æ–¹æ³•ä¿ç•™ï¼Œæä¾›ä¾¿åˆ©æ€§ 123UIColor *color = [UIColor colorWithRed:0.5 green:0.0 blue:0.5 alpha:1.0];let color = UIColor(red: 0.5, green: 0.0, blue: 0.5, alpha: 1.0)","text":"IntroductionSwift æœ€æ–°å·²ç»æ˜¯ 2.1 äº†ï¼Œæ›´ä¼˜ç¾äº†ï¼Œæ—¥è¶‹æˆç†Ÿäº†ï¼ŒåŠ ä¸Šå…¬å¸é¡¹ç›®ä»¥åå¯èƒ½æ”¯æŒåˆ° iOS7ï¼Œå°±å¯ä»¥ä½¿ç”¨ Swift å†™é¡¹ç›®äº†ï¼Œæ‰€ä»¥å¿…é¡»å­¦ä¹ ä¸‹äº†ï¼Œå…ˆçœ‹çœ‹å®˜æ–¹çš„æ–‡æ¡£: Using Swift with Cocoa and Objective-C (Swift 2.1) Interoperablility : äº’åŠ¨æ€§ Initialization oc åˆå§‹åŒ–æ–¹æ³•ï¼Œåœ¨swifté‡Œçœå»äº†withï¼Œwithåé¢çš„å˜æˆäº†å‚æ•°åï¼š 1234- (instancetype)initWithFrame:(CGRect)framestyle:(UITableViewStyle)style;init(frame: CGRect, style: UITableViewStyle) &#123; /* ... */ &#125; oc alloc swiftä¸éœ€è¦è°ƒç”¨ï¼Œallocå’Œinitä¸€æ°”å‘µæˆï¼š 123UITableView *myTableView = [[UITableView alloc] initWithFrame:CGRectZero style:UITableViewStyleGrouped];let myTableView: UITableView = UITableView(frame: CGRectZero, style: .Grouped) Class Factory Methods and Convenience Initializers oc å·¥å‚æ–¹æ³•ä¿ç•™ï¼Œæä¾›ä¾¿åˆ©æ€§ 123UIColor *color = [UIColor colorWithRed:0.5 green:0.0 blue:0.5 alpha:1.0];let color = UIColor(red: 0.5, green: 0.0, blue: 0.5, alpha: 1.0) Failable Initialization oc åˆå§‹åŒ–å¤±è´¥è¿”å› nil, swift æŠŠè¿™å¤„ç†æˆäº†ä¸€ç§è¯­è¨€ç‰¹æ€§ï¼Œç§°ä¹‹ä¸º failable initialization. 12345if let image = UIImage(contentsOfFile: \"MyImage.png\") &#123;// loaded the image successfully&#125; else &#123;// could not load the image&#125; Accessing Properties swift property attributes: nonnull,nullable,null_resettable readonly: just a getter {get} weak: marked with the weak keyword (weak var) assign,copy,strong,unsafe_unretained == oc atomic / noatomic : are not reflected in swift(æ²¡æœ‰ç”¨äº†ï¼Œä¸è¿‡ocå¯¼å…¥swiftçš„æ—¶å€™æœ‰ç”¨) getter= / setter= : are ignoerd by swift(å¿½ç•¥äº†) è®¿é—®å±æ€§ä½¿ç”¨ dot. Working with Methods swift é‡Œè®¿é—® oc çš„æ–¹æ³•ä¹Ÿå¯ä»¥ä½¿ç”¨ dot. 123456 oc æ–¹æ³•åè¢«æ‹†å¼€ï¼š[myTableView insertSubview:mySubview atIndex:2]; swift æ–¹æ³•åæ˜¯ocçš„ç¬¬ä¸€æ®µï¼Œå‰©ä¸‹çš„æ®µä½œä¸ºå‚æ•°åï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¹¶æ²¡æœ‰å‚æ•°åï¼myTableView.insertSubview(mySubview, atIndex: 2) å¯¹äºæ²¡æœ‰å‚æ•°çš„ï¼Œç›´æ¥å¸¦ä¸ªå°æ‹¬å·myTableView.layoutIfNeeded() id Compatibility id compatibility å…¼å®¹æ€§ï¼šswift include an AnyObject type, is similar to oc&#39;s id type;ä¿æŒç±»çš„çµæ´»æ€§ï¼› 12345var myObject: AnyObject = UITableViewCell()myObject = NSDate()let futureDate = myObject.dateByAddingTimeInterval(10)let timeSinceNow = myObject.timeIntervalSinceNow This includes Objective-C compatible methods and properties marked with the @objc attribute. Unrecognized Selectors and Optional Chaining å’Œ oc ä¸€æ ·çš„ï¼ŒAnyObject å¯¹è±¡è°ƒç”¨æ–¹æ³•ä¸ä¼šæœ‰è­¦å‘Šï¼Œå¦‚æœä¸èƒ½å“åº”ï¼Œåœ¨è¿è¡Œæ—¶å°±ä¼šcrash; For example, the following code compiles without a compiler warning, but triggers an error at runtime: 12myObject.characterAtIndex(5)// crash, myObject doesn't respond to that method ä¸è¿‡ swift åšçš„å¾ˆå¥½ï¼ï¼ï¼ swift use optionals to guard against such unsafe behavior. swift ä½¿ç”¨è‡ªé€‰é¡¹æ¥è§„é¿è¯¸å¦‚æ­¤ç±»çš„å±é™©è¡Œä¸ºã€‚ Accessing a property on AnyObject always returns an optional value. å±æ€§è®¿é—®æ€»æ˜¯è¿”å›è‡ªé€‰å€¼ï¼› Downcasting AnyObject å½“ç¡®å®šæˆ–è€…èƒ½å¤Ÿåˆç†æ¨æ–­æ—¶å‘ä¸‹è½¬æ¢å¯¹è±¡ç±»å‹ï¼› but can not guaranteed to succeed. ä¸ç¡®å®šçš„æ—¶å€™ç”¨ ï¼š as?12345let userDefaults = NSUserDefaults.standardUserDefaults()let lastRefreshDate: AnyObject? = userDefaults.objectForKey(\"LastRefreshDate\")if let date = lastRefreshDate as? NSDate &#123;print(\"\\(date.timeIntervalSinceReferenceDate)\")&#125; ç¡®å®šçš„æ—¶å€™ç”¨ï¼š as!12let myDate = lastRefreshDate as! NSDatelet timeInterval = myDate.timeIntervalSinceReferenceDate å¦‚æœç±»å‹ä¸ä¸€è‡´å°±ä¼šæŠ¥é”™ï¼Œæœ‰ç‚¹assertçš„å‘³é“å“¦1let myDate = lastRefreshDate as! NSString // Error Nullability and Optionals oc object references can be nil, swift all values--including structures and object references--are guaranteed to be on-null. value çš„ type æ˜¯å¯é€‰çš„ï¼›èµ‹å€¼ä¸º nil æ„å‘³ç€ å€¼çš„ä¸¢å¤±ï¼›Instead, you represent a value that could be missing by wrapping the type of the value in an optional type. When you need to indicate that a value is missing, you use the value nil. For more information about optionals, see Optionals in The Swift Programming Language (Swift 2.1). æƒ…å½¢ ä½¿ç”¨ é’ˆå¯¹äºä¸ªäººç±»å‹: _Nullable / _Nonnull é’ˆå¯¹äºä¸ªäººå±æ€§: nullable / nonnull / null_resettable é’ˆå¯¹äºæ•´ä¸ªåŒºåŸŸ: NS_ASSUM_NONNULL_BEGIN - NS_ASSUM_NONNULL_END å¦‚æœæ²¡æœ‰ç›¸å…³çš„ä¿¡æ¯ï¼Œswift å°±ä¸èƒ½åŒºåˆ†æ˜¯ä¸æ˜¯è‡ªé€‰çš„ï¼Œå¹¶ä¸”å°†ä½œä¸º an implicitly unwrapped optional. For example, consider the following Objective-C declarations: 1234567891011121314@property (nullable) id nullableProperty;@property (nonnull) id nonNullProperty;@property id unannotatedProperty;NS_ASSUME_NONNULL_BEGIN- (id)returnsNonNullValue;- (void)takesNonNullParameter:(id)value;NS_ASSUME_NONNULL_END- (nullable id)returnsNullableValue;- (void)takesNullableParameter:(nullable id)value;- (id)returnsUnannotatedValue;- (void)takesUnannotatedParameter:(id)value; Hereâ€™s how theyâ€™re imported by Swift: 123456789101112var nullableProperty: AnyObject?var nonNullProperty: AnyObjectvar unannotatedProperty: AnyObject!func returnsNonNullValue() -&gt; AnyObjectfunc takesNonNullParameter(value: AnyObject)func returnsNullableValue() -&gt; AnyObject?func takesNullableParameter(value: AnyObject?)func returnsUnannotatedValue() -&gt; AnyObject!func takesUnannotatedParameter(value: AnyObject!) Lightweight Generics è½»å‹ã€æ³›å‹ For example, consider the following Objective-C property declarations: 123@property NSArray&lt;NSDate *&gt; *dates;@property NSSet&lt;NSString *&gt; *words;@property NSDictionary&lt;NSURL *, NSData *&gt; *cachedData; Hereâ€™s how Swift imports them: 123var dates: [NSDate]var words: Set&lt;String&gt;var cachedData: [NSURL: NSData] é™¤äº†Foundationè¿™äº›ä¹‹å¤–ï¼Œåˆ«çš„ä¼šè¢«å¿½ç•¥ï¼›Aside from these Foundation collection classes, Objective-C lightweight generics are ignored by Swift.","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"å°å¿ƒ unsigned æ•°æ®ç±»å‹åŸ‹ä¸‹å‘","slug":"2015/10/30-unsigned-type-use","date":"2015-10-30T13:59:14.000Z","updated":"2018-03-27T14:45:15.685Z","comments":true,"path":"2015/10/30/2015/10/30-unsigned-type-use.html","link":"","permalink":"http://debugly.cn/2015/10/30/2015/10/30-unsigned-type-use.html","excerpt":"","text":"Introduction ä»Šå¤©æ¥è¯´ä¸‹ä½¿ç”¨ unsigned æ•°æ®ç±»å‹æ—¶é‡åˆ°çš„å‘ï¼Œä¹Ÿè®¸è¿™ä¸ªå¾ˆä¸èµ·çœ¼ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™å¥¹ä¼šå‘äº†ä½ çš„ï¼Œå¦‚æœä½ ä¸ä¿¡å°±æ¥è¯•è¯•ä¸‹é¢è¿™é“é¢˜ï¼Œå¦‚æœåšå¯¹äº†é‚£ä¹ˆè¯´æ˜ä½ å¾ˆç»†å¿ƒï¼Œè¶³å¤Ÿä¼˜ç§€ï¼Œä¹Ÿä¸ç”¨ç»§ç»­çœ‹æˆ‘çš„åšå®¢äº†ï¼Œå½“ç„¶è¿™ä¹Ÿä¸æ’é™¤æ˜¯ç”±äºæˆ‘æå‰è¯´æ˜äº†æ³¨æ„ç‚¹ä½¿ä½ ç»†å¿ƒâ€¦ å°è¯•ç‰›åˆ€ä¹ æƒ¯æ€§çš„è¯´ä¸‹æ•…äº‹çš„èƒŒæ™¯ï¼Œæ— ç¼˜æ— æ•…çš„å‰§æƒ…æˆ‘ä¸å–œæ¬¢ï¼Œä¹Ÿä¸ä¼šæ˜¯æˆ‘å…¥æˆï¼Œä½œä¸ºä¸€ä¸ª coder ï¼Œå°±åƒæ¼”å‘˜ä¸€æ ·ï¼Œä½ è‹¥æƒ³å¾ˆå‡ºè‰²åœ°å±•ç¤ºå‡ºä½ çš„æ¼”æŠ€å°±è¦å…¥æˆå¾ˆæ·±â€¦ é¡¹ç›®ä¸­æŸå¤„é€»è¾‘éœ€è¦è¯„ä¼°ç£ç›˜å‰©ä½™ç©ºé—´ï¼Œä»¥ä¾¿åšå‡ºå†³ç­–æ˜¯å¦ç»§ç»­ä»»åŠ¡ï¼Œæ•…è€ŒåŒäº‹å†™äº†ç±»ä¼¼å¦‚ä¸‹çš„é€»è¾‘ï¼š 12345678910- (BOOL)hasEnoughDiskSpace &#123; //è·å–ç£ç›˜å‰©ä½™ç©ºé—´ï¼› UInt64 validFreeSpaceSize = [self getTotalFreeSpace]; //æ­¤æ¬¡ä»»åŠ¡éœ€è¦çš„æ€»ç©ºé—´ï¼› UInt64 taskTotalSize = self.totalSize; //æ­¤æ¬¡ä»»åŠ¡å·²ç»å®Œæˆçš„ç©ºé—´ï¼› UInt64 downloadedSize = self.finishedSize; return ((validFreeSpaceSize - (taskTotalSize - downloadedSize)) &gt; 0);&#125; é¢˜ç›®å‰–æä¸ç”¨è¯´ä¸Šé¢çš„ä»£ç è‚¯å®šæ˜¯å­˜åœ¨é—®é¢˜çš„ï¼Œä¸‹é¢æ˜¯æˆ‘æ”¹è¿‡ä¹‹åçš„ä»£ç ï¼Œå¯¹æ¯”ä¸‹ä¹Ÿæ²¡æœ‰å¤šå°‘ä¸åŒï¼ŒæŒ‰æ•°å­¦è¿ç®—æ¥çœ‹æ²¡ä»€ä¹ˆä¸ä¸€æ ·ï¼Œä½ è¯´æ˜¯å—ï¼š 12345678910- (BOOL)hasEnoughDiskSpace &#123; //è·å–ç£ç›˜å‰©ä½™ç©ºé—´ï¼› UInt64 validFreeSpaceSize = [self getTotalFreeSpace]; //æ­¤æ¬¡ä»»åŠ¡éœ€è¦çš„æ€»ç©ºé—´ï¼› UInt64 taskTotalSize = self.totalSize; //æ­¤æ¬¡ä»»åŠ¡å·²ç»å®Œæˆçš„ç©ºé—´ï¼› UInt64 downloadedSize = self.finishedSize; return (validFreeSpaceSize &gt; (taskTotalSize - downloadedSize));&#125; çœ‹åˆ°è¿™é‡Œä½ èƒ½æ˜ç™½é—®é¢˜å‡ºåœ¨å“ªäº†å—ï¼Ÿå¦‚æœä½ è¿˜æ˜¯ç–‘æƒ‘çš„è¯ï¼Œæˆ–è®¸ä½ è¯¥å»å¤ä¹ ä¸‹ C è¯­è¨€çš„æ•°æ®ç±»å‹äº†ï¼Œç‰¹åˆ«æ˜¯ æœ‰æ²¡æœ‰ç¬¦å·è¿™ä¸€è¯´ï¼›C è¯­è¨€åŸºç¡€æ•°æ®ç±»å‹é»˜è®¤æ˜¯æœ‰ç¬¦å·çš„ï¼Œä¹Ÿå°±è¯´æœ‰æ­£è´Ÿä¹‹åˆ†ï¼Œæ— ç¬¦å·æ„å‘³ç€éƒ½æ˜¯éè´Ÿæ•°ï¼›ä¸Šé¢ä¹‹æ‰€ä»¥ä½¿ç”¨æ— ç¬¦å·æ˜¯å› ä¸ºç©ºé—´çš„å¤§å°ä¸ä¼šå­˜åœ¨è´Ÿçš„ï¼Œè¿˜æœ‰å°±æ˜¯ä½¿ç”¨æ— ç¬¦å·èƒ½å¤Ÿè¡¨ç¤ºçš„å€¼å°±æ˜¯æœ‰ç¬¦å·çš„äºŒå€ï¼ ç®€å•äº†è§£äº† unsigned ä¹‹åï¼Œå°±æ¥ä»”ç»†çœ‹è¿™ä¸ªè¡¨è¾¾å¼å§ï¼š å½“ validFreeSpaceSize å¤§äº (taskTotalSize - downloadedSize) æ—¶ï¼Œç¡®å®æ²¡æœ‰é—®é¢˜ï¼› å½“ validFreeSpaceSize ç­‰äº (taskTotalSize - downloadedSize) æ—¶ï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜ï¼› å½“ validFreeSpaceSize å°äº (taskTotalSize - downloadedSize) æ—¶ï¼Œé—®é¢˜å°±æ¥äº†ï¼Œç”±äºæ˜¯æ— ç¬¦å·æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºçš„ç»“æœä¼šæ˜¯ä¸€ä¸ªè´Ÿå€¼ï¼Œå…¶å®å´æ˜¯ä¸€ä¸ªéå¸¸å¤§çš„æ­£å€¼ï¼å› æ­¤å½“æ²¡æœ‰è¶³å¤Ÿç£ç›˜ç©ºé—´çš„æ—¶å€™ä¹Ÿæ£€æŸ¥ä¸å‡ºæ¥ï¼Œè¯´ç™½äº†è¿™ä¸ªæ£€æŸ¥æ²¡æœ‰ä½œç”¨ï¼Œæ°¸è¿œè¿”å› YESï¼ ç»è¿‡è¿™æ · (validFreeSpaceSize &gt; (taskTotalSize - downloadedSize)) çš„æ¯”è¾ƒå…¶å®å°±é¿å…äº†åˆšæ‰å°äºåˆ¤æ–­å‡ºé”™é—®é¢˜ï¼› åè®°å¯¹äº unsigned è¿™ç§æ•°æ®ç±»å‹æ¥è¯´æ˜¯éœ€è¦çš„ï¼Œå› ä¸ºä»–èƒ½å¤Ÿè¡¨ç¤ºå€¼çš„ç©ºé—´å¤§äº†ä¸€å€ï¼Œè¯¸å¦‚ç£ç›˜ç©ºé—´è¿™æ ·çš„åœºæ™¯ä½¿ç”¨æœ‰ç¬¦å·ç±»å‹ä¹Ÿæ˜¯ä¸€ç§æµªè´¹ï¼Œå› ä¸ºå˜é‡å ç”¨ç€åŒæ ·å¤§å°çš„ç©ºé—´ï¼Œå´ä¸èƒ½å¤Ÿè¡¨ç¤ºé‚£ä¹ˆå¤§çš„èŒƒå›´ï¼å› æ­¤ä½¿ç”¨æ—¶åˆ‡è®°å¥¹å¸¦æ¥çš„éè´Ÿæ€§å°±å¥½äº†ï¼Œä¸è¦è®©ç»“æœå’Œ 0 æ¯”è¾ƒï¼ C è¯­è¨€çš„æ•°æ®ç±»å‹é•¿åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œè·Ÿæœºå™¨å­—é•¿æœ‰å…³ç³»ï¼Œæˆ‘ä¹Ÿè®°ä¸å¤ªæ¸…ï¼›ä¸è¿‡ Java æ˜¯è·¨å¹³å°çš„ï¼Œé•¿åº¦å›ºå®šï¼Œè¿™ä¸ªæ˜¯æˆ‘è®°å¿†ä¸­çš„ Java æ•°æ®ç±»å‹é•¿åº¦ï¼Œå¯ä»¥ç®€å•çœ‹ä¸‹ï¼š ç±» å‹ é•¿ åº¦ å€¼çš„èŒƒå›´ æ— ç¬¦å·å€¼çš„èŒƒå›´ Byte 1 -2(7)-1 ~ 2(7) 0 ~ 2(8)-1 char 2 -2(15)-1 ~ 2(15) 0 ~ 2(16)-1 short 2 -2(15)-1 ~ 2(15) 0 ~ 2(16)-1 int 4 -2(31)-1 ~ 2(31) 0 ~ 2(32)-1 long 8 -2(63)-1 ~ 2(63) 0 ~ 2(64)-1","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"ä½¿ç”¨ Block çš„ä¸€äº›æŠ€å·§å’Œå¿ƒå¾—","slug":"2015/10/29-Block_Use_Experiences","date":"2015-10-29T13:43:10.000Z","updated":"2018-03-27T14:45:15.685Z","comments":true,"path":"2015/10/29/2015/10/29-Block_Use_Experiences.html","link":"","permalink":"http://debugly.cn/2015/10/29/2015/10/29-Block_Use_Experiences.html","excerpt":"Introductioné¡¹ç›®ä¸­å¤§é‡ä½¿ç”¨äº† Blockï¼Œä»Šå¤©æ— æ„é—´æœ‰äº†æ–°çš„ç”¨æ³•ï¼Œä¸åŒå¾€å¸¸çš„ä¸€èˆ¬ä½¿ç”¨æ–¹æ³•ï¼Œä½¿å¾—ç¼–ç¨‹åˆæœ‰äº†æ–°çš„ä¹è¶£ï¼æƒ³äº†ä¸€ä¸‹ï¼Œç¬¬ä¸€æ¬¡å†™ Block åº”è¯¥æ˜¯ä¸¤å¹´å‰äº†ï¼Œè¿™ä¹ˆé•¿æ—¶é—´å¹¶æ²¡æœ‰æ€»ç»“è¿‡ï¼Œä»Šå¤©é¡ºä¾¿æ€»ç»“ä¸‹ä½¿ç”¨ Block çš„åœºæ™¯ â€¦ Blockçš„ä¸€èˆ¬ä½¿ç”¨åœºæ™¯ ä»¥ä¸‹åœºæ™¯å‡æ˜¯ä¸ªäººç†è§£ï¼Œè¯æ±‡ä¹Ÿæ˜¯ä¸ªäººå‘½åï¼Œç†è§£å°±å¥½äº†ï¼š å®Œæˆäº‹æƒ…çš„å›æ‰ï¼›æ–¹æ³•ä¸€èˆ¬å¯ä»¥é™„åŠ ä¸€ä¸ª completion handler å‚æ•°ä½œä¸ºå®Œæˆçš„å›æ‰ï¼ŒAFNetworking é‡Œç½‘ç»œè¯·æ±‚å¥½å¤šéƒ½æ˜¯è¿™ç§åœºæ™¯äº†ï¼Œæ¯”å¦‚è¿™ä¸ªæ–¹æ³•ï¼ŒGET è¯·æ±‚æˆåŠŸåå°±ä¼šå›è°ƒ success ï¼Œå¤±è´¥åˆ™å›è°ƒ failureï¼Œå¹¶ä¸”å¯ä»¥å¸¦æœ‰ å‚æ•° ï¼ˆpsï¼šè¿™ä¸ªä»¥åä¼šæœ‰å¤§ç”¨å¤„ï¼‰ï¼ 1234- (NSURLSessionDataTask *)GET:(NSString *)URLString parameters:(id)parameters success:(void (^)(NSURLSessionDataTask *task, id responseObject))success failure:(void (^)(NSURLSessionDataTask *task, NSError *error))failure; ä¸‹å‘ä»»åŠ¡çš„åŒºå—ï¼›æ–¹æ³•é™„å¸¦ä¸€ä¸ªè·å–ä»»åŠ¡çš„ block,æˆ‘ä»¬æŠŠéœ€è¦å¤„ç†çš„ä»»åŠ¡æ”¾åˆ°é‡Œé¢å³å¯ï¼Œåˆ©ç”¨ GCD æ´¾å‘ä»»åŠ¡ï¼ŒåšåŠ¨ç”»ç­‰ç­‰éƒ½æ˜¯è¿™æ ·åšçš„ï¼Œç”±äºæ˜¯å•çº¯çš„ä»»åŠ¡ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸éœ€è¦å‚æ•°ï¼š 123456789void dispatch_async(dispatch_queue_t queue, dispatch_block_t block);[UIView animateWithDuration:0.25 animations:^&#123; //do your animates&#125;];[NSBlockOperation blockOperationWithBlock:^&#123; //your task &#125;]; æƒåˆ©ä¸‹æ”¾ï¼›å¦‚æœåšä¸€ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸çŸ¥é“è¯¥å¦‚ä½•æ‹æ¿ï¼ŒæŠ‰æ‹©çš„æ—¶å€™ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªæƒåˆ©ä¸‹æ”¾ç»™è°ƒç”¨è€…ï¼Œè¿™æ ·çš„ä»£ç å°±æ˜¾å¾—å¾ˆçµæ´»ï¼› 123[needSortArray sortedArrayUsingComparator:^NSComparisonResult(id obj1, id obj2) &#123; return NSOrderedAscending;//your power!&#125;]; å°è£…ä»£ç å—ï¼›å¦‚æœä½ çš„é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦åˆ¤æ–­å¾ˆå¤šç§æƒ…å†µï¼Œå„ç§ if else åµŒå¥—ï¼›å¾ˆå¤šä¸ª else çš„åœ°æ–¹éƒ½è°ƒç”¨åŒæ ·çš„ä»£ç å—ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨ block å—ï¼›æˆ‘è§‰å¾—ä½ åº”è¯¥ä¹Ÿé‡è§è¿‡è¿™ç§æƒ…å†µï¼è‡³å°‘æˆ‘è§è¿‡åˆ«äººè¿™ä¹ˆå†™è¿‡ï¼Œç»“æœå°±æ˜¯åŒæ ·çš„ä»£ç å—å‡ åè¡Œï¼Œåœ¨ä¸€ä¸ªæ–¹æ³•é‡Œå†™äº†ä¸¤æ¬¡ï¼Œå…¶å®ä¸ç”¨ block ä¹Ÿè¡Œçš„ï¼ŒæŠ½å–ä¸€ä¸ªæ–¹æ³•æˆ–è®¸ä¹Ÿè¡Œï¼Œä½¿ç”¨ block çš„å¥½å¤„ï¼Œå¤§æ¦‚å°±æ˜¯å¯ä»¥æ•è·äº†ï¼å¦‚æœä»£ç å—æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå¯èƒ½å°±æ²¡å¿…è¦ä½¿ç”¨ block æ¥å°è£…äº†ï¼Œä¸è¿‡å¦‚æœæ˜¯å¥½å¤šè¡Œçš„é€»è¾‘ï¼Œä½¿ç”¨ block å°è£…ä¸‹å¾ˆæ˜¯æ¯”è¾ƒå¥½çš„ï¼ 123456789101112131415161718192021NSString* (^callback)(NSArray *needSortArray) = ^(NSArray *needSortArray)&#123; [needSortArray sortedArrayUsingComparator:^NSComparisonResult(id obj1, id obj2) &#123; return NSOrderedAscending;//your power! &#125;]; return [needSortArray componentsJoinedByString:@\"|\"]; &#125;; BOOL A,B,C; NSArray *needArr = @[@\"A\",@\"C\",@\"D\",@\"F\",]; if (A) &#123; if (B) &#123; if (C) &#123; [self handleArr:needArr]; &#125;else&#123; callback(needArr); &#125; &#125;else&#123; [self handleArr2:needArr]; &#125; &#125;else&#123; callback(needArr); &#125; ä»æŠ€æœ¯å±‚é¢ä¸Šçœ‹ï¼ŒåŸºæœ¬ä¸Šè¿™äº›ä½¿ç”¨ä»£ç†ä¹Ÿå¯ä»¥å®Œæˆï¼Œä½†æ˜¯ç»å¯¹æ²¡æœ‰ä½¿ç”¨ block æ¥çš„ä¼˜é›…ï¼æˆ‘æ˜¯ä¸€ä¸ªå–œæ¬¢ä½¿ç”¨çš„ block çš„ coderï¼Œå› ä¸ºè§‰å¾—ç¼–å†™ä»£ç†å¾ˆéº»çƒ¦ï¼Œä»£ç ä¸æ˜¯é‚£ä¹ˆçš„ç›´è§‚ï¼›è¿™é‡Œåªæ˜¯ç®€å•æ€»ç»“äº†ä¸‹å¹³æ—¶æˆ‘ç»å¸¸ç”¨åˆ°çš„åœºæ™¯ï¼Œå½“ç„¶è¿˜æœ‰åˆ«çš„å¾ˆå¤šåœºæ™¯ï¼›å¸Œæœ›ä½ èƒ½å‘é‚®ä»¶ç»™æˆ‘ï¼Œè¡¥å……è¿™é‡Œæ¥ï¼›","text":"Introductioné¡¹ç›®ä¸­å¤§é‡ä½¿ç”¨äº† Blockï¼Œä»Šå¤©æ— æ„é—´æœ‰äº†æ–°çš„ç”¨æ³•ï¼Œä¸åŒå¾€å¸¸çš„ä¸€èˆ¬ä½¿ç”¨æ–¹æ³•ï¼Œä½¿å¾—ç¼–ç¨‹åˆæœ‰äº†æ–°çš„ä¹è¶£ï¼æƒ³äº†ä¸€ä¸‹ï¼Œç¬¬ä¸€æ¬¡å†™ Block åº”è¯¥æ˜¯ä¸¤å¹´å‰äº†ï¼Œè¿™ä¹ˆé•¿æ—¶é—´å¹¶æ²¡æœ‰æ€»ç»“è¿‡ï¼Œä»Šå¤©é¡ºä¾¿æ€»ç»“ä¸‹ä½¿ç”¨ Block çš„åœºæ™¯ â€¦ Blockçš„ä¸€èˆ¬ä½¿ç”¨åœºæ™¯ ä»¥ä¸‹åœºæ™¯å‡æ˜¯ä¸ªäººç†è§£ï¼Œè¯æ±‡ä¹Ÿæ˜¯ä¸ªäººå‘½åï¼Œç†è§£å°±å¥½äº†ï¼š å®Œæˆäº‹æƒ…çš„å›æ‰ï¼›æ–¹æ³•ä¸€èˆ¬å¯ä»¥é™„åŠ ä¸€ä¸ª completion handler å‚æ•°ä½œä¸ºå®Œæˆçš„å›æ‰ï¼ŒAFNetworking é‡Œç½‘ç»œè¯·æ±‚å¥½å¤šéƒ½æ˜¯è¿™ç§åœºæ™¯äº†ï¼Œæ¯”å¦‚è¿™ä¸ªæ–¹æ³•ï¼ŒGET è¯·æ±‚æˆåŠŸåå°±ä¼šå›è°ƒ success ï¼Œå¤±è´¥åˆ™å›è°ƒ failureï¼Œå¹¶ä¸”å¯ä»¥å¸¦æœ‰ å‚æ•° ï¼ˆpsï¼šè¿™ä¸ªä»¥åä¼šæœ‰å¤§ç”¨å¤„ï¼‰ï¼ 1234- (NSURLSessionDataTask *)GET:(NSString *)URLString parameters:(id)parameters success:(void (^)(NSURLSessionDataTask *task, id responseObject))success failure:(void (^)(NSURLSessionDataTask *task, NSError *error))failure; ä¸‹å‘ä»»åŠ¡çš„åŒºå—ï¼›æ–¹æ³•é™„å¸¦ä¸€ä¸ªè·å–ä»»åŠ¡çš„ block,æˆ‘ä»¬æŠŠéœ€è¦å¤„ç†çš„ä»»åŠ¡æ”¾åˆ°é‡Œé¢å³å¯ï¼Œåˆ©ç”¨ GCD æ´¾å‘ä»»åŠ¡ï¼ŒåšåŠ¨ç”»ç­‰ç­‰éƒ½æ˜¯è¿™æ ·åšçš„ï¼Œç”±äºæ˜¯å•çº¯çš„ä»»åŠ¡ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸éœ€è¦å‚æ•°ï¼š 123456789void dispatch_async(dispatch_queue_t queue, dispatch_block_t block);[UIView animateWithDuration:0.25 animations:^&#123; //do your animates&#125;];[NSBlockOperation blockOperationWithBlock:^&#123; //your task &#125;]; æƒåˆ©ä¸‹æ”¾ï¼›å¦‚æœåšä¸€ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸çŸ¥é“è¯¥å¦‚ä½•æ‹æ¿ï¼ŒæŠ‰æ‹©çš„æ—¶å€™ï¼Œå°±å¯ä»¥æŠŠè¿™ä¸ªæƒåˆ©ä¸‹æ”¾ç»™è°ƒç”¨è€…ï¼Œè¿™æ ·çš„ä»£ç å°±æ˜¾å¾—å¾ˆçµæ´»ï¼› 123[needSortArray sortedArrayUsingComparator:^NSComparisonResult(id obj1, id obj2) &#123; return NSOrderedAscending;//your power!&#125;]; å°è£…ä»£ç å—ï¼›å¦‚æœä½ çš„é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦åˆ¤æ–­å¾ˆå¤šç§æƒ…å†µï¼Œå„ç§ if else åµŒå¥—ï¼›å¾ˆå¤šä¸ª else çš„åœ°æ–¹éƒ½è°ƒç”¨åŒæ ·çš„ä»£ç å—ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨ block å—ï¼›æˆ‘è§‰å¾—ä½ åº”è¯¥ä¹Ÿé‡è§è¿‡è¿™ç§æƒ…å†µï¼è‡³å°‘æˆ‘è§è¿‡åˆ«äººè¿™ä¹ˆå†™è¿‡ï¼Œç»“æœå°±æ˜¯åŒæ ·çš„ä»£ç å—å‡ åè¡Œï¼Œåœ¨ä¸€ä¸ªæ–¹æ³•é‡Œå†™äº†ä¸¤æ¬¡ï¼Œå…¶å®ä¸ç”¨ block ä¹Ÿè¡Œçš„ï¼ŒæŠ½å–ä¸€ä¸ªæ–¹æ³•æˆ–è®¸ä¹Ÿè¡Œï¼Œä½¿ç”¨ block çš„å¥½å¤„ï¼Œå¤§æ¦‚å°±æ˜¯å¯ä»¥æ•è·äº†ï¼å¦‚æœä»£ç å—æ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå¯èƒ½å°±æ²¡å¿…è¦ä½¿ç”¨ block æ¥å°è£…äº†ï¼Œä¸è¿‡å¦‚æœæ˜¯å¥½å¤šè¡Œçš„é€»è¾‘ï¼Œä½¿ç”¨ block å°è£…ä¸‹å¾ˆæ˜¯æ¯”è¾ƒå¥½çš„ï¼ 123456789101112131415161718192021NSString* (^callback)(NSArray *needSortArray) = ^(NSArray *needSortArray)&#123; [needSortArray sortedArrayUsingComparator:^NSComparisonResult(id obj1, id obj2) &#123; return NSOrderedAscending;//your power! &#125;]; return [needSortArray componentsJoinedByString:@\"|\"]; &#125;; BOOL A,B,C; NSArray *needArr = @[@\"A\",@\"C\",@\"D\",@\"F\",]; if (A) &#123; if (B) &#123; if (C) &#123; [self handleArr:needArr]; &#125;else&#123; callback(needArr); &#125; &#125;else&#123; [self handleArr2:needArr]; &#125; &#125;else&#123; callback(needArr); &#125; ä»æŠ€æœ¯å±‚é¢ä¸Šçœ‹ï¼ŒåŸºæœ¬ä¸Šè¿™äº›ä½¿ç”¨ä»£ç†ä¹Ÿå¯ä»¥å®Œæˆï¼Œä½†æ˜¯ç»å¯¹æ²¡æœ‰ä½¿ç”¨ block æ¥çš„ä¼˜é›…ï¼æˆ‘æ˜¯ä¸€ä¸ªå–œæ¬¢ä½¿ç”¨çš„ block çš„ coderï¼Œå› ä¸ºè§‰å¾—ç¼–å†™ä»£ç†å¾ˆéº»çƒ¦ï¼Œä»£ç ä¸æ˜¯é‚£ä¹ˆçš„ç›´è§‚ï¼›è¿™é‡Œåªæ˜¯ç®€å•æ€»ç»“äº†ä¸‹å¹³æ—¶æˆ‘ç»å¸¸ç”¨åˆ°çš„åœºæ™¯ï¼Œå½“ç„¶è¿˜æœ‰åˆ«çš„å¾ˆå¤šåœºæ™¯ï¼›å¸Œæœ›ä½ èƒ½å‘é‚®ä»¶ç»™æˆ‘ï¼Œè¡¥å……è¿™é‡Œæ¥ï¼› Blokc é«˜çº§ç”¨æ³•è¯´é«˜çº§ç”¨æ³•å¯èƒ½ä¼šæœ‰äº›å¤¸å¼ ï¼Œä¸è¿‡è¿™ç¡®å®ä¸æ˜¯å¾ˆå¸¸ç”¨ï¼Œå› ä¸ºå¸¸ç”¨çš„åœºæ™¯ä¸Šé¢å·²ç»è¯´è¿‡äº†ï¼Œæ‰€ä»¥è¿™é‡Œä¸ºäº†åŒºåˆ†å°±æ˜¯ç”¨äº†é«˜çº§è¿™ä¸ªè¯æ±‡ï¼ä¸‹é¢å°±æ¥è§è¯†ä¸‹æˆ‘æ‰€è°“çš„ â€œé«˜çº§â€ å§ï¼Œæˆ‘çœ‹é—®é¢˜å–œæ¬¢æœ‰ä¸Šä¸‹æ–‡ï¼Œå› æ­¤å…ˆçœ‹ä¸‹åœºæ™¯ï¼š 1234567891011121314151617181920212223242526272829303132///æ·»åŠ ä¸€ä¸ªä¸‹è½½ä»»åŠ¡- (void)addDownloadTask:(id)task handleError:(BOOL(^)(NSInteger errCode))errHandle completion:(void(^)(id task , NSInteger errCode))comBlock&#123;// 1.generate err code; NSInteger errCode = 12432;// 2.check error; if (errHandle) &#123; if(errHandle(errCode))&#123; //ä¸‹æ”¾æƒåˆ©ï¼Œè°ƒç”¨è€…çµæ´»åˆ¤æ–­å add [self doAdd:task]; &#125; &#125;else&#123; // é»˜è®¤çš„åˆ¤æ–­æ¡ä»¶ 3.add [self doAdd:task]; &#125;&#125;- (void)doAdd:(id)task&#123;&#125;//å¤„ç†é”™è¯¯ï¼Œå¯èƒ½æ˜¯å•ç‹¬çš„ç±»(QLErroHandel)ï¼›+ (BOOL)handleError:(NSInteger)errCode&#123; BOOL someCons; if(someCons)&#123; return YES; &#125; return NO;&#125; æœ‰äº†ä¸Šé¢çš„æ–¹æ³•åå°±å¯ä»¥å°è£…ä¸€ä¸ªé€šç”¨çš„è‡ªåŠ¨å¤„ç†é”™è¯¯çš„æ–¹æ³•äº†ï¼Œå› ä¸ºæˆ‘æ˜¯é‚£ä¹ˆçš„æ‡’ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹çš„ä½“éªŒï¼Œé¢å‘é”™è¯¯å¤„ç†è¿™ä¸ªåˆ‡é¢ç¼–ç¨‹ï¼Œä¸è®©é”™è¯¯å¤„ç†æµè½åˆ°æ¯ä¸ªæ·»åŠ è°ƒç”¨å¤„ï¼Œé¿å…æ—¥åç»´æŠ¤çš„å·¥ä½œï¼ 123456789101112///å°è£…ä¸€ä¸ªé€šç”¨çš„è‡ªåŠ¨å¤„ç†é”™è¯¯çš„æ–¹æ³•- (void)addDownloadTaskAutoHandleError:(id)task NoErrorCompletion:(void(^)(id task))comBlock&#123; [self addDownloadTask:task handleError:^BOOL(NSInteger errCode) &#123; return [[QLErroHandel class]handleError:errCode]; &#125; completion:^(id task, NSInteger errCode) &#123; if (comBlock) &#123; comBlock(task); &#125; &#125;];&#125; å¦‚æœåªæ˜¯è¿™äº›çš„è¯ï¼Œçœ‹ç€è¿˜ä¸é”™ï¼Œä¸€åŠ³æ°¸é€¸ï¼Œé”™è¯¯å¤„ç†è‡ªåŠ¨å¤„ç†äº†ï¼Œæ²¡é”™è¯¯åå°±æ·»åŠ ä»»åŠ¡ï¼ Butï¼Œæœ‰äº†æ–°çš„éœ€æ±‚äº†ï¼Œè¦åŠ å…¥ä¼šå‘˜ç‰¹æƒï¼Œå¯ä»¥å…æµé‡ä¸‹è½½ï¼å¹¶ä¸”æµç¨‹å’Œä¹‹å‰ä¹Ÿæœ‰æ‰€ä¸åŒäº†ï¼Œæœ‰äº›æƒ…å†µæ˜¯ä¸èƒ½æ·»åŠ çš„ï¼ä»€ä¹ˆï¼Ÿè¿™æ€ä¹ˆåŠï¼æ·¡å®šä¹ˆï¼Œä»£ç æ˜¯æˆ‘å†™æ€•å•¥ï¼é‚£ä¹ˆå°±åœ¨ handleError é‡Œå¤„ç†ä¸è¡Œå—ï¼Ÿ ä¸è¡Œï¼å› ä¸ºä¼šå‘˜çš„åˆ¤æ–­æ˜¯å¼‚æ­¥çš„ï¼ŒåŒæ—¶ä¼´æœ‰ Alert ç­‰æç¤ºï¼å¼‚æ­¥æ˜¯æœ€éº»çƒ¦çš„ï¼Œå› ä¸ºæ²¡åŠæ³•ç›´æ¥è¿”å› bool å€¼äº†ï¼å› æ­¤å¿…é¡»é‡æ„ handleError æ–¹æ³•ï¼Œç­‰å¾…å¼‚æ­¥å‡ºç»“æœï¼Œæ˜¯ä¸æ˜¯èƒ½å¤Ÿæ·»åŠ ä»»åŠ¡ï¼è€ƒè™‘äº†ä¸€é˜µå­ï¼Œå†³å®šä» block ä¸Šå…¥æ‰‹ï¼Œæƒ³åˆ°çš„åŠæ³•æ˜¯ä¼ é€’ä¸€ä¸ªæƒåˆ©ä¸‹æ”¾çš„ callBackblock åˆ° handleError æ–¹æ³•ï¼›å½“ handleError è·å–åˆ°ä¼šå‘˜ä¿¡æ¯åå›è°ƒ callBackblockï¼›å¦‚ä½•ä¼ é€’å‘¢ï¼Ÿæ²¡æœ‰æ›´å¥½çš„åŠæ³•ï¼Œå› æ­¤å°±å°è¯•æŠŠ callBackblock ä½œä¸ºå‚æ•°ä¼ é€’ä¸‹å»ï¼Œæ”¹é€ åæ˜¯è¿™æ ·çš„: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849+ (void)asynVIP:(void(^)(bool))compBlock&#123; //å¼‚æ­¥è¯·æ±‚VIPä¿¡æ¯&#125;//å¤„ç†é”™è¯¯ï¼Œå¯èƒ½æ˜¯å•ç‹¬çš„ç±»ï¼›+ (void)handleError:(NSInteger)errCode withCallback:(void(^)(NSInteger flag))calback&#123; [self asynVIP:^(bool isVIP)&#123; //ä½¿ç”¨ callback å‘Šè¯‰ä¸Šå±‚ api æ˜¯ä¸æ˜¯è¦å¼€å§‹æ·»åŠ ä»»åŠ¡ if (calback) &#123; calback(isVIP); &#125; &#125;];&#125;///æ·»åŠ ä¸€ä¸ªä¸‹è½½ä»»åŠ¡- (void)addDownloadTask:(id)task handleError:(void(^)(NSInteger errCode,void(^calback)(NSInteger flag)))errHandle completion:(void(^)(id task , NSInteger errCode))comBlock&#123;// 1.generate err code; NSInteger errCode = 12432;// 2.check error; if (errHandle) &#123; void(^calback)(NSInteger flag) = ^(NSInteger flag)&#123; if (flag) &#123;// 3.add [self doAdd:task]; &#125; &#125;; //ä¸‹æ”¾æƒåˆ©ï¼Œè°ƒç”¨è€…çµæ´»åˆ¤æ–­ errHandle(errCode,calback); &#125;&#125;///å°è£…ä¸€ä¸ªé€šç”¨çš„è‡ªåŠ¨å¤„ç†é”™è¯¯çš„æ–¹æ³•- (void)addDownloadTaskAutoHandleError:(id)task NoErrorCompletion:(void(^)(id task))comBlock&#123; [self addDownloadTask:task handleError:^(NSInteger errCode, void(^callback)(NSInteger flag)) &#123; //æŠŠ callback ä¼ é€’ä¸‹å»ï¼Œç­‰å¾…æ—¶æœºæˆç†Ÿï¼Œå›æ‰å›æ¥ï¼Œå†³å®šä»»åŠ¡æ˜¯ä¸æ˜¯æ·»åŠ  [[QLErroHandel class] handleError:errCode withCallback:callback]; &#125; completion:^(id task, NSInteger errCode) &#123; if (comBlock) &#123; comBlock(task); &#125; &#125;];&#125; è¿™æ · VIP çš„éœ€æ±‚å°±æå®šå•¦ï¼Œæ€»ç»“ä¸‹å°±æ˜¯ï¼š block çš„å‚æ•°å¯ä»¥æ˜¯ blockï¼›è¿™ä¸ªå¯ä»¥ä½œä¸º B è°ƒç”¨ A çš„æ—¶å€™ï¼ŒB åœ¨é€‚å½“çš„æ—¶æœºå›æ‰ç»™ A ä¸€äº›ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ B ä»…ä»…ä»å¬ä» A å®‰æ’çš„æ—¶é—´è¢«è°ƒç”¨ï¼ç›¸å½“äºæ¡æ‰‹ï¼Œç›¸äº’ä¼ é€’äº†ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å•æ–¹å‘è¢«åŠ¨è°ƒç”¨ï¼Œè¿™å°±ç›¸å½“äº A åœ¨æŸä¸ªæ—¶å€™è®© B åšä¸€äº›ä»»åŠ¡ï¼ŒB å®Œæˆäº†ä»»åŠ¡ä¹‹åæ ¹æ®å®Œæˆçš„æƒ…å†µæ‹¿ç€ A ä¼ ç»™ä»–çš„callback å›æ‰åˆ° A å†³å®š Açš„ä¸‹ä¸€æ­¥ä»»åŠ¡ï¼è¿™ä¸ªä¹Ÿè®¸éœ€è¦ä½ é™é™çš„æ€è€ƒå“ä½å‡ åˆ†é’Ÿâ€¦ å†å›è¿‡å¤´æ¥çœ‹çœ‹ä¹‹å‰çš„æƒåˆ©ä¸‹æ”¾æ–¹å¼ï¼šé€šè¿‡è¿”å›å€¼å»å†³å®š A çš„ä¸‹ä¸€æ­¥ä»»åŠ¡ï¼Œè¿™ä¸ªåœ¨ B æ²¡æœ‰å¼‚æ­¥ä»»åŠ¡çš„æƒ…å†µä¸‹å¾ˆå®ç”¨ï¼Œä¸è¿‡ B æœ‰äº†å¼‚æ­¥ä»»åŠ¡åå°±ä¸è¡Œäº†ï¼Œç‰¹åˆ«æ˜¯ B çš„ä»»åŠ¡åˆæ˜¯é€šè¿‡ block æ´¾å‘çš„æƒ…å½¢ï¼Œå°±æ›´ä¸é€‚åˆè¿™ä¸ªè¿”å›å€¼æ¨¡å¼äº†ï¼ æ—¶é—´æ¯”è¾ƒä»“ä¿ƒï¼Œå†™çš„ä¸å¯¹çš„åœ°æ–¹æˆ–è€…ç–‘æƒ‘ä¹‹å¤„å¯ä»¥è¯„è®ºç­‰å…¶ä»–æ–¹å¼è”ç³»æˆ‘â€¦","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"UITableViewCell ç¼–è¾‘æ¨¡å¼","slug":"2015/10/26-UITableViewCell-Edit","date":"2015-10-26T13:57:49.000Z","updated":"2018-03-27T14:45:15.685Z","comments":true,"path":"2015/10/26/2015/10/26-UITableViewCell-Edit.html","link":"","permalink":"http://debugly.cn/2015/10/26/2015/10/26-UITableViewCell-Edit.html","excerpt":"IntroductionUITableView æä¾›äº†å¾ˆå¤šå¾ˆæ–¹ä¾¿çš„æ–¹æ³•ä»¥è‡³äºæˆ‘ä»¬æœ‰çš„æ—¶å€™ä¸èƒ½å®Œå…¨è®°ä½ä»–çš„ä»£ç†æ–¹æ³•ï¼Œè¿™é‡Œè¯´ä¸‹ä»–çš„ç¼–è¾‘æ¨¡å¼ï¼›é¡¹ç›®é‡Œç”¨åˆ°äº†ç¼–è¾‘ï¼Œåœ¨è¸©è¿‡ä¸€äº›å‘ä¹‹åï¼Œå¯¹ UITableView çš„ç¼–è¾‘æ›´åŠ çš„æ¸…æ™°äº†ï¼Œè¿™é‡Œç®€å•è®°å½•ä¸‹ã€‚ å¼€å¯ç¼–è¾‘æ¨¡å¼ è¿™ä¸ªå¾ˆç®€å•äº†ï¼Œè®¾ç½® UITableView çš„ç¼–è¾‘å±æ€§å³å¯ï¼Œæ–¹æ³•åˆ™æä¾›äº†åŠ¨ç”»é€‰é¡¹ï¼š 123// default is NO. setting is not animated.@property (nonatomic, getter=isEditing) BOOL editing;- (void)setEditing:(BOOL)editing animated:(BOOL)animated; å¦‚æœæ§åˆ¶å™¨æ˜¯ UITableViewController ,é‚£ä¹ˆå¯ç›´æ¥ä½¿ç”¨æ§åˆ¶å™¨çš„æ–¹æ³•ï¼Œè€Œæ— éœ€å†™ä¸€å¥ä»£ç ï¼ŒiOS ä»£ç å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œç³»ç»Ÿä¸ºæˆ‘ä»¬åšäº†å¤ªå¤šçš„ä¸œè¥¿äº†ï¼Œç‚¹å‡» item çš„æ–¹æ³•ä¹Ÿå·²ç»ç»‘å®šå¥½äº†ï¼ 1self.navigationItem.leftBarButtonItem = self.editButtonItem; editButtonItem æ˜¯æ§åˆ¶å™¨çš„å±æ€§ï¼›ä½ å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œå¤„ç†ä¸€äº›å¿…è¦çš„æ“ä½œï¼Œä¸è¿‡åƒä¸‡è¦è®°å¾—è°ƒç”¨ super å“¦ï¼ 123456789@interface UIViewController (UIViewControllerEditing)@property(nonatomic,getter=isEditing) BOOL editing;// Updates the appearance of the Edit|Done button item as necessary. Clients who override it must call super first.- (void)setEditing:(BOOL)editing animated:(BOOL)animated;// Return an Edit|Done button that can be used as a navigation item's custom view. Default action toggles the editing state with animation.- (UIBarButtonItem *)editButtonItem;@end","text":"IntroductionUITableView æä¾›äº†å¾ˆå¤šå¾ˆæ–¹ä¾¿çš„æ–¹æ³•ä»¥è‡³äºæˆ‘ä»¬æœ‰çš„æ—¶å€™ä¸èƒ½å®Œå…¨è®°ä½ä»–çš„ä»£ç†æ–¹æ³•ï¼Œè¿™é‡Œè¯´ä¸‹ä»–çš„ç¼–è¾‘æ¨¡å¼ï¼›é¡¹ç›®é‡Œç”¨åˆ°äº†ç¼–è¾‘ï¼Œåœ¨è¸©è¿‡ä¸€äº›å‘ä¹‹åï¼Œå¯¹ UITableView çš„ç¼–è¾‘æ›´åŠ çš„æ¸…æ™°äº†ï¼Œè¿™é‡Œç®€å•è®°å½•ä¸‹ã€‚ å¼€å¯ç¼–è¾‘æ¨¡å¼ è¿™ä¸ªå¾ˆç®€å•äº†ï¼Œè®¾ç½® UITableView çš„ç¼–è¾‘å±æ€§å³å¯ï¼Œæ–¹æ³•åˆ™æä¾›äº†åŠ¨ç”»é€‰é¡¹ï¼š 123// default is NO. setting is not animated.@property (nonatomic, getter=isEditing) BOOL editing;- (void)setEditing:(BOOL)editing animated:(BOOL)animated; å¦‚æœæ§åˆ¶å™¨æ˜¯ UITableViewController ,é‚£ä¹ˆå¯ç›´æ¥ä½¿ç”¨æ§åˆ¶å™¨çš„æ–¹æ³•ï¼Œè€Œæ— éœ€å†™ä¸€å¥ä»£ç ï¼ŒiOS ä»£ç å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œç³»ç»Ÿä¸ºæˆ‘ä»¬åšäº†å¤ªå¤šçš„ä¸œè¥¿äº†ï¼Œç‚¹å‡» item çš„æ–¹æ³•ä¹Ÿå·²ç»ç»‘å®šå¥½äº†ï¼ 1self.navigationItem.leftBarButtonItem = self.editButtonItem; editButtonItem æ˜¯æ§åˆ¶å™¨çš„å±æ€§ï¼›ä½ å¯ä»¥é‡å†™è¿™ä¸ªæ–¹æ³•ï¼Œå¤„ç†ä¸€äº›å¿…è¦çš„æ“ä½œï¼Œä¸è¿‡åƒä¸‡è¦è®°å¾—è°ƒç”¨ super å“¦ï¼ 123456789@interface UIViewController (UIViewControllerEditing)@property(nonatomic,getter=isEditing) BOOL editing;// Updates the appearance of the Edit|Done button item as necessary. Clients who override it must call super first.- (void)setEditing:(BOOL)editing animated:(BOOL)animated;// Return an Edit|Done button that can be used as a navigation item's custom view. Default action toggles the editing state with animation.- (UIBarButtonItem *)editButtonItem;@end è¿™æ˜¯æˆ‘ Demo é‡Œé‡å†™çš„,ç›®çš„æ˜¯åˆ‡æ¢ç¼–è¾‘æ•ˆæœçš„ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½ä¼šä¸ä¸€æ ·ï¼Œå¾ªç¯å¾€å¤çš„ï¼š 1234567891011- (void)setEditing:(BOOL)editing animated:(BOOL)animated&#123; if (editing) &#123; self.editingStyle = self.editingStyle + 1; if (UITableViewCellEditingStyleInsert &lt; self.editingStyle) &#123; self.editingStyle = UITableViewCellEditingStyleNone; &#125; &#125; [self.tableView reloadData]; [super setEditing:editing animated:animated];&#125; è®¾ç½®ç¼–è¾‘æ ·å¼ ç³»ç»Ÿæä¾›äº†3ä¸­ç¼–è¾‘æ ·å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š 12345typedef NS_ENUM(NSInteger, UITableViewCellEditingStyle) &#123; UITableViewCellEditingStyleNone, UITableViewCellEditingStyleDelete, UITableViewCellEditingStyleInsert&#125;; UITableViewCellEditingStyleDelete å¯¹åº”çš„æ•ˆæœæ˜¯: UITableViewCellEditingStyleInsert å¯¹åº”çš„æ•ˆæœæ˜¯: UITableViewCellEditingStyleNone å¯¹åº”çš„æ•ˆæœæ˜¯: å‰ä¸¤ä¸ªéƒ½æ¯”è¾ƒç†Ÿæ‚‰äº†ï¼Œå¯¹äºæœ€åè¿™ä¸ªæœ‰äº›åŒå­¦å¯èƒ½ä¸æ˜¯å¾ˆç†Ÿæ‚‰äº†ï¼Œè¿™ä¸ªæ˜¯ç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›çš„ç©ºç™½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±åˆ©ç”¨è¿™ä¸ªè¿›è¡Œè‡ªå®šä¹‰ï¼› è‡ªå®šä¹‰ç¼–è¾‘æ ·å¼ è‡ªå®šä¹‰ç¼–è¾‘æ ·å¼çš„æ€è·¯æ˜¯ï¼šé€‰æ‹©çš„ç³»ç»Ÿæ ·å¼ UITableViewCellEditingStyleNoneï¼Œç„¶åè‡ªå·±æ·»åŠ è§†å›¾ï¼ŒåšåŠ¨ç”»ï¼›å®ç°ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849- (void)setEditing:(BOOL)editing animated:(BOOL)animated&#123; if (self.isEditing == editing) return; if (UITableViewCellEditingStyleNone == self.editingStyle) &#123; if (editing) &#123; UIControl *view = [[UIControl alloc]initWithFrame:CGRectMake(-20,(self.bounds.size.height -20)/2.0, 20, 20)]; view.backgroundColor = [UIColor redColor]; [view addTarget:self action:@selector(tipedEditView) forControlEvents:UIControlEventTouchUpInside]; view.tag = 23456; [self addSubview:view]; CGRect destRect = view.frame; destRect.origin.x = 15; if (animated) &#123; [UIView animateWithDuration:0.25 animations:^&#123; view.frame = destRect; &#125;]; &#125;else&#123; view.frame = destRect; &#125; &#125;else&#123; UIView *view = [self viewWithTag:23456]; CGRect destRect = view.frame; destRect.origin.x = -20; if (animated) &#123; [UIView animateWithDuration:0.25 animations:^&#123; view.frame = destRect; &#125;completion:^(BOOL finished) &#123; [view removeFromSuperview]; &#125;]; &#125;else&#123; view.frame = destRect; [view removeFromSuperview]; &#125; &#125; &#125; [super setEditing:editing animated:animated];&#125;- (void)tipedEditView&#123;// å›æ‰åˆ°tableviewçš„dasourceå»ï¼› id&lt;UITableViewDataSource&gt;delete = self.ownerTable.dataSource; NSIndexPath *idx = [self.ownerTable indexPathForCell:self]; [delete tableView:self.ownerTable commitEditingStyle:UITableViewCellEditingStyleNone forRowAtIndexPath:idx];&#125; datasource å¤„ç†ï¼š 12345// è‡ªå®šä¹‰åˆ é™¤ï¼› [self.objects removeObjectAtIndex:indexPath.row]; [tableView beginUpdates]; [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationRight]; [tableView endUpdates]; æœ€ç»ˆçš„æ•ˆæœæ˜¯ï¼š é€šè¿‡éªŒè¯å‘ç°ï¼Œç¼–è¾‘åŠ¨ç”»ï¼Œç³»ç»Ÿä¹Ÿæ˜¯åœ¨ setEditing æ–¹æ³•é‡Œå¤„ç†çš„ï¼›å¦‚æœç›´æ¥è¿”å›çš„è¯å¯ä»¥çœ‹åˆ°å‘å³æ»‘åŠ¨çš„æ•ˆæœå°±æ²¡æœ‰äº†ï¼› 1234- (void)setEditing:(BOOL)editing animated:(BOOL)animated&#123; return;&#125; æ³¨ï¼šè¿™ä¸ªæ˜¯ ä¸æ”¯æŒå¤šé€‰ çš„ï¼ ä»¥ä¸Šç¼–è¾‘æ¨¡å¼ï¼Œä¼šè§¦å‘è¿™ä¸ªä»£ç†æ–¹æ³•ï¼š 1- (void)tableView:(UITableView *)tableView commitEditingStyle:(UITableViewCellEditingStyle)editingStyle forRowAtIndexPath:(NSIndexPath *)indexPath; é€šè¿‡ editingStyle åŒºåˆ†å¼€æ˜¯å“ªç§ç¼–è¾‘ï¼›ä»¥ä¸Šæ¨¡å¼ç¼–è¾‘æ—¶é»˜è®¤ä¸å¯ä»¥é€‰æ‹©ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šè§¦å‘é€‰æ‹©çš„ä»£ç†æ–¹æ³•ï¼å¯ä»¥é€šè¿‡ tableView.allowsSelectionDuringEditing = YES;å…è®¸é€‰æ‹©ï¼ å¦‚ä½•æ”¯æŒå¤šé€‰ï¼Ÿè¿™æ˜¯æœ‰äº›ä¸ªå¤´ç–¼çš„é—®é¢˜ ä½¿ç”¨ç³»ç»Ÿæä¾›çš„ä¸€ä¸ªå¼€å…³å¼€å¯å¤šé€‰æ¨¡å¼ï¼›åœ¨å¼€å¯ç¼–è¾‘æ¨¡å¼å‰æ‰“å¼€è¿™ä¸ªå¼€å…³å³å¯ï¼š 1self.tableView.allowsMultipleSelectionDuringEditing = YES;//é»˜è®¤å…³é—­çš„ æ•ˆæœæ˜¯ï¼š å¦‚æœæ²¡ä»€ä¹ˆç‰¹åˆ«è¦æ±‚ï¼Œé‚£ä¹ˆè¿™ä¸ªæ˜¯å¯ä»¥æ»¡è¶³éœ€æ±‚çš„ï¼›é€‰ä¸­å’Œå–æ¶ˆåˆ†åˆ«è°ƒç”¨ä¸‹é¢çš„ä»£ç†æ–¹æ³•ï¼Œå›è°ƒæ–¹æ³•å’Œå…¶ä»–ç¼–è¾‘æ¨¡å¼ä¸å¤ªä¸€æ ·ï¼š 12- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath;- (void)tableView:(UITableView *)tableView didDeselectRowAtIndexPath:(NSIndexPath *)indexPath; æ³¨ï¼šå¼€å¯è¿™ä¸ªå¼€å…³åï¼Œè¿™ä¸ªä»£ç†æ–¹æ³•ä¸å†è°ƒç”¨1- (UITableViewCellEditingStyle)tableView:(UITableView *)tableView editingStyleForRowAtIndexPath:(NSIndexPath *)indexPath ä½¿ç”¨ç³»ç»Ÿæ²¡æœ‰å…¬å¼€çš„æšä¸¾å€¼å¼€å¯: 1234- (UITableViewCellEditingStyle)tableView:(UITableView *)tableView editingStyleForRowAtIndexPath:(NSIndexPath *)indexPath&#123; return UITableViewCellEditingStyleDelete | UITableViewCellEditingStyleInsert;&#125; å¦‚æœæƒ³æ”¹å˜è¿™ä¸ªå¤šé€‰çš„åœ†åœˆï¼Œåˆ‡å…¥å£è¿˜æ˜¯ cell çš„ - (void)setEditing:(BOOL)editing animated:(BOOL)animatedï¼›æ–¹æ³•;åšæ³•æ˜¯æ‰¾åˆ°ç³»ç»Ÿçš„å›¾ç‰‡éšè—æ‰ï¼Œç„¶åæŠŠè‡ªå·±æƒ³è¦çš„åŠ ä¸Šï¼Œåšä¸‹åŠ¨ç”»å°±è¡Œäº†ï¼Œå…·ä½“ä»£ç æš‚ä¸æ”¾å‡ºäº†â€¦ è¿™ä¸ª Demo å·²ç»ä¼ åˆ°äº†github ä¸Šï¼Œå¤šè°¢æ”¯æŒï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"RunLoop Study (ä¸€)","slug":"2015/10/15-RunLoopStudy1","date":"2015-10-15T14:17:57.000Z","updated":"2018-03-27T14:45:15.685Z","comments":true,"path":"2015/10/15/2015/10/15-RunLoopStudy1.html","link":"","permalink":"http://debugly.cn/2015/10/15/2015/10/15-RunLoopStudy1.html","excerpt":"","text":"å‰è¨€å¾ˆä¹…ä¹‹å‰å°±æƒ³å†™ä¸€ä¸‹ RunLoop â€” iOSé‡Œä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼›æœ€è¿‘ä¸€ç›´å¾ˆå¿™ï¼Œä¸€æ‹–å†æ‹–ï¼Œæåˆ°æ‹–å»¶ â€” æœ‰ç‚¹åƒä¸‹é¢è¦è¯´çš„å®šæ—¶å™¨äº†ï¼Œå¯ä»¥æ— èŠ‚æ“çš„ä¸€ç›´æ‹–ï¼Œæ— ä¸Šé™äº†ï¼O(âˆ©_âˆ©)O~~ ç»ˆäºè½®åˆ°å®šæ—¶å™¨äº†ï¼Œå°½ç®¡å¾ˆç´¯ï¼Œè¿˜æ˜¯è¦åšæŒ run èµ·æ¥ï¼è¿™æ˜¯ RunLoop ç›¸å…³æ–‡ç« çš„ç¬¬ä¸€ç¯‡ï¼Œè®¤çœŸå†™ï¼Œå¼€ä¸ªå¥½å¤´å§ï¼ æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°çš„åº”è¯¥æ˜¯æ¶ˆæ¯äº‹ä»¶å¾ªç¯ï¼Œå› ä¸ºä½¿ç”¨äº†autorelease,æ‰€ä»¥å°±æƒ³çŸ¥é“è¿™ä¸ªè¢«å»¶è¿Ÿé‡Šæ”¾çš„å¯¹è±¡åˆ°åº•ä»€ä¹ˆæ—¶å€™ä¼šé‡Šæ”¾ï¼Œè¢«å‘ŠçŸ¥è¿™ä¸ªæ¶ˆæ¯äº‹ä»¶å¾ªç¯ç»“æŸåï¼Œè¿™ä¸ªçœŸä¸ç†è§£â€¦ è¿˜æœ‰ï¼Œä½¿ç”¨äº†å®šæ—¶å™¨ï¼Œå®šæ—¶æ›´æ–°ä¸€äº›UIï¼Œç»“æœåœ¨æ»‘åŠ¨scrollviewçš„æ—¶å€™å®šæ—¶å™¨åœæ­¢äº†ï¼Œç½‘ä¸Šæœäº†ä¸‹ï¼Œä¿®æ”¹ä¸‹runloopçš„modeå°±è¡Œäº†ï¼Œè¿™ä¸ªä¹Ÿä¸çŸ¥åˆ°ä¸ºå•¥â€¦ è¿˜æœ‰å¯¹ä¸€äº›ç°è±¡çš„è§‚å¯Ÿï¼šæˆ‘ä»¬çŸ¥é“depatchä¸€ä¸ªå­çº¿ç¨‹ä¹‹åï¼Œè¿™ä¸ªçº¿ç¨‹æ‰§è¡Œçš„ä»»åŠ¡å®Œæˆåï¼Œå°±è¢«é”€æ¯äº†ï¼Œå¦‚æœä¸æƒ³è¢«é”€æ¯ï¼Œè€Œæ˜¯å‘¨æœŸæ€§çš„åšä¸€äº›äº‹æƒ…ï¼Œé‚£å°±å¾—å†™ä¸ªwhileå¾ªç¯æˆ–è€…é€’å½’äº†ï¼Œç„¶ååœ¨åŠ ä¸Šsleepï¼›å°±èƒ½åƒtimerå‘¨æœŸæ€§çš„å¾ªç¯åšä¸€ä»¶äº‹ï¼› åæ€ä¸»çº¿ç¨‹ï¼šæ€ä¹ˆæ„Ÿè§‰ä¸»çº¿ç¨‹å°±æ˜¯ä¸€ç›´å­˜æ´»çš„å‘€ï¼Œappå¯ä»¥éšæ—¶å“åº”æˆ‘ä»¬çš„æ“ä½œï¼Œä½ å¯ä»¥åœä¸€ä¼šï¼Œä¹Ÿå¯ä»¥æŒç»­æ“ä½œï¼Œä¸»çº¿ç¨‹å’Œåˆ†çº¿ç¨‹æ€ä¹ˆå°±ä¸ä¸€æ ·äº†å‘¢ï¼Œä¸ºä»€ä¹ˆä¸»çº¿ç¨‹èƒ½ä¸€ç›´å­˜æ´»ï¼ŸæŸ¥çœ‹ä»£ç ä¹‹åï¼Œä¹Ÿæ²¡æœ‰å‘ç°å“ªé‡Œæœ‰whileå¾ªç¯å•Šï¼Œç”šè‡³äºé€’å½’ï¼Œæ­¤äº‹å¿…æœ‰è¹Šè··ï¼Œå…ƒèŠ³ä½ æ€ä¹ˆçœ‹ï¼Ÿ æˆ‘çš„å‡è®¾ï¼šå‡å¦‚ç³»ç»Ÿéšå¼åœ°åˆ›å»ºäº†ä¸€ä¸ªå¾ªç¯ï¼Œé‚£ä¹ˆä¸»çº¿ç¨‹å°±èƒ½ä¸€ç›´è·‘äº†ï¼Œè€Œä¸ä¼šè¿è¡Œä¹‹åå°±åœæ­¢äº†ã€‚å½“åˆå­¦javaçš„æ—¶å€™ï¼Œæ›¾ç»å†™è¿‡ä¸€ä¸ªçŒœå¤§å°çš„å°æ¸¸æˆï¼Œç¨‹åºè¿è¡Œåï¼Œä¼šéšæœºç”Ÿæˆä¸€ä¸ª1-1000çš„æ•´æ•°ï¼Œç„¶åä¸€ç›´çŒœï¼Œå¦‚æœçŒœçš„ä¸å¯¹å°±è¾“å‡ºä½ çŒœå¤§äº†æˆ–è€…çŒœå°äº†ï¼Œå¹¶ä¸”ç»§ç»­ç­‰å¾…è¾“å…¥ï¼ŒçŒœå¯¹æ—¶æç¤ºæ­å–œçŒœå¯¹äº†ï¼Œæ˜¯å¦ç»§ç»­ç©æ¸¸æˆï¼Ÿç¼–å†™è¿™ä¸ªå°æ¸¸æˆï¼Œä¸»è¦æ˜¯ç”¨ä¸¤ä¸ªwhileå¾ªç¯ï¼ˆåµŒå¥—ï¼‰ï¼Œå¤–éƒ¨çš„whileå¾ªç¯ä¸€æ¬¡ï¼Œè¡¨ç¤ºæ¸¸æˆç©äº†ä¸€å±€ï¼Œå†…éƒ¨çš„whileå¾ªç¯ä¸€æ¬¡ï¼Œè¡¨ç¤ºçŒœäº†ä¸€æ¬¡ï¼›ä¸è¿‡ç©æ¸¸æˆçš„æ—¶å€™åªèƒ½ä¸€ç›´ç­‰å¾…è¾“å…¥ï¼Œçº¿ç¨‹é˜»å¡åˆ°è¿™äº†ï¼æ‰€ä»¥æˆ‘ä»¬appçš„ä¸»çº¿ç¨‹ä¸å¯èƒ½æ˜¯ä¸€ä¸ªç®€å•çš„whileå¾ªç¯å°±èƒ½æå®šçš„ï¼Œè¦åšåˆ°ä¸é˜»å¡å°±éœ€è¦ä¸€ç§æœºåˆ¶ï¼Œè®©appæœ‰äº‹è¦åšçš„æ—¶å€™å°±å¹²æ´»ï¼Œæ²¡äº‹äº†å°±ç¡è§‰â€¦ NSRunLoop çš„ç®€å•ä»‹ç»è¿™ä¸ªç±»åœ¨ Foundation framework é‡Œï¼Œååˆ†ç®€å•ï¼Œè¿™æ˜¯ä»–çš„æ‰€æœ‰æ–¹æ³•äº†ï¼Œè¿™ä¸ªç±»æä¾›äº†éƒ¨åˆ† runloop çš„æ¥å£ï¼Œå¯ä»¥æ–¹ä¾¿çš„è·å–åˆ°å¥¹ï¼Œæˆ–è€…æ·»åŠ å®šæ—¶å™¨æˆ–è€…ç«¯å£ç­‰ï¼› 12345678910111213141516171819202122232425262728293031323334//è·å–æ‰€åœ¨çº¿ç¨‹çš„ runloop+ (NSRunLoop *)currentRunLoop;//è·å–ä¸»çº¿ç¨‹çš„ runloop+ (NSRunLoop *)mainRunLoop NS_AVAILABLE(10_5, 2_0);//å½“å‰è¾“å…¥ç±»å‹@property (nullable, readonly, copy) NSString *currentMode;//è·å–core foundation å¯¹è±¡ï¼Œå®ç°æ›´å¤šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ·»åŠ ç›‘å¬ï¼›- (CFRunLoopRef)getCFRunLoop CF_RETURNS_NOT_RETAINED;//æŠŠå®šæ—¶å™¨åŠ å…¥åˆ°runloop- (void)addTimer:(NSTimer *)timer forMode:(NSString *)mode;- (void)addPort:(NSPort *)aPort forMode:(NSString *)mode;- (void)removePort:(NSPort *)aPort forMode:(NSString *)mode;- (nullable NSDate *)limitDateForMode:(NSString *)mode;- (void)acceptInputForMode:(NSString *)mode beforeDate:(NSDate *)limitDate;@end@interface NSRunLoop (NSRunLoopConveniences)- (void)run;- (void)runUntilDate:(NSDate *)limitDate;- (BOOL)runMode:(NSString *)mode beforeDate:(NSDate *)limitDate;@end@interface NSRunLoop (NSOrderedPerform)- (void)performSelector:(SEL)aSelector target:(id)target argument:(nullable id)arg order:(NSUInteger)order modes:(NSArray&lt;NSString *&gt; *)modes;- (void)cancelPerformSelector:(SEL)aSelector target:(id)target argument:(nullable id)arg;- (void)cancelPerformSelectorsWithTarget:(id)target;@end WARNING 1The NSRunLoop class is generally not considered to be thread-safe and its methods should only be called within the context of the current thread. You should never try to call the methods of an NSRunLoop object running in a different thread, as doing so might cause unexpected results. å…¶ä¸­ currentRunLoop ï¼Œcurrent æŒ‡ä»£çš„çº¿ç¨‹ï¼æˆ‘ä»¬å¯ä»¥æŠŠ runloop å½“åšçº¿ç¨‹çš„åŸºç¡€ç»„ä»¶æ¥å¯¹å¾…ï¼›å› ä¸ºæ²¡æœ‰å¥¹çš„è¯ï¼Œçº¿ç¨‹è¿è¡Œå°±ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œæˆ–è€…è¦è´¹äº‹äº›ï¼Œæ¯”å¦‚æœ‰äº›çº¿ç¨‹å¯ä»¥è®©æ“ä½œç³»ç»Ÿå”¤é†’ç¡çœ çš„çº¿ç¨‹ä»¥ç®¡ç†åˆ°æ¥çš„äº‹æƒ…ï¼Œè€Œ runloop å°±æ˜¯è¿™äº›çº¿ç¨‹çš„åŸºç¡€ï¼› runloop æ˜¯ä¸€ç§å¯ä»¥åœ¨ä¸€ä¸ªå‘¨æœŸå†…è°ƒåº¦ä»»åŠ¡å¹¶å¤„ç†åˆ°æ¥çš„äº‹ä»¶çš„å¾ªç¯ï¼›ä¹Ÿå°±æ˜¯è¯´å¾ªç¯æ˜¯æœ‰å‘¨æœŸçš„ï¼ˆè¿™ä¸æ˜¯åºŸè¯ä¹ˆï¼‰ï¼Œå…·å¤‡è°ƒåº¦å’Œå¤„ç†äº‹ä»¶çš„èƒ½åŠ›ï¼Œè¿™æ˜¯äº†ä¸èµ·çš„ï¼› RunLoop å’Œçº¿ç¨‹çš„å…³ç³» æ¯ä¸ªçº¿ç¨‹æœ€å¤šåªæœ‰ä¸€ä¸ª runloopï¼Œåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œé»˜è®¤æ²¡æœ‰ï¼›å½“è°ƒç”¨è·å–æ–¹æ³•çš„æ—¶å€™æ‡’åŠ è½½åˆ›å»ºï¼›ä¸»çº¿ç¨‹ç³»ç»Ÿé»˜è®¤åˆ›å»ºäº†ï¼Œå…·ä½“ä½•æ—¶åˆ›å»ºçš„ä¸çŸ¥é“ï¼Œæˆ–è®¸ç³»ç»Ÿåœ¨æŸä¸ªæ—¶å€™ï¼ˆå½“ç„¶æ˜¯appå¯åŠ¨å®Œæ¯•ä¹‹å‰ï¼‰è°ƒç”¨äº†è·å–æ–¹æ³•ï¼Œè¿™æ ·å°±åˆ›å»ºå¥½äº†ï¼Œæ¢å¥è¯è¯´åœ¨ applicationDidFinishLaunching ä¹‹åä½ å°±å¯ä»¥è®¿é—®äº†ï¼ åˆ†çº¿ç¨‹å¼€å§‹è¿è¡Œ runloop ä¹‹å‰ï¼Œè¦æ·»åŠ è¾“å…¥æºæˆ–è€…å®šæ—¶å™¨ï¼Œè¦ä¸ç„¶ runloop ä¼šç«‹åˆ»é€€å‡ºï¼ runloop ä¸ºæˆ‘ä»¬æä¾›äº†ä¸çº¿ç¨‹äº¤äº’çš„èƒ½åŠ›ï¼Œè§†æƒ…å†µè€Œå®šï¼Œä¹Ÿè®¸æ ¹æœ¬å°±ç”¨ä¸åˆ°å¥¹ï¼›æœ€å¸¸ç”¨çš„å¯èƒ½å°±æ˜¯ç‰µæ¶‰åˆ°ç½‘ç»œäº¤äº’çš„æ—¶å€™ï¼Œè¿™ä¸ªæœ€å¥½çš„æ•™ç¨‹å½“ç„¶æ˜¯ matt å¤§ç¥å†™çš„ AFNetWorking å•¦ï¼›æœ‰å…´è¶£çš„çœ‹ä¸‹æºç å§ï¼Œæ—¥åæœ‰æ—¶é—´æˆ‘ä¹Ÿä¼šåˆ†äº«ä¸‹é˜…è¯»ç¬¬ä¸‰æ–¹æ¡†æ¶çš„å¿ƒå¾—ï¼› runloop çš„ä½œç”¨åœ¨äºå½“æœ‰äº‹æƒ…ï¼ˆäº‹æƒ…æ¥è‡ªäºä¸‹æ–‡çš„è¾“å…¥æºï¼Œä¸ Mode ä¹Ÿæœ‰å…³ç³»ï¼‰è¦åšçš„æ—¶ä¾¯ä»–å°±å»å”¤é†’å½“å‰çš„çº¿ç¨‹å¼€å§‹å·¥ä½œï¼Œæ²¡äº‹æƒ…å¯åšå°±è®©çº¿ç¨‹å»ä¼‘çœ ï¼› RunLoop çš„è¾“å…¥æºrunloop ä»è¾“å…¥æºå’Œå®šæ—¶å™¨è¿™ä¸¤ç±»æºä¸­æ¥æ”¶äº‹ä»¶ï¼›è¾“å…¥æº(é€šå¸¸æ˜¯åŸºäºç«¯å£æˆ–è€…è‡ªå®šä¹‰çš„)ä¼šå¼‚æ­¥å‘åº”ç”¨å‘é€äº‹ä»¶ï¼Œä¸»è¦å·®åˆ«åœ¨äºå†…æ ¸ä¼šè‡ªåŠ¨å‘å‡ºåŸºäºç«¯å£çš„æºä¿¡å·ï¼Œè€Œè‡ªå®šä¹‰æºå°±éœ€è¦ä»ä¸åŒçš„çº¿ç¨‹ä¸­æ‰‹åŠ¨å‘å‡ºã€‚å¯ä»¥é€šè¿‡å®ç°ä¸ CFRunLoopSourceRef ç›¸å…³çš„å‡ ä¸ªå›è°ƒå‡½æ•°æ¥åˆ›å»ºè‡ªå®šä¹‰è¾“å…¥æºã€‚ å®šæ—¶å™¨ï¼Œè¿™ä¸ªæ˜¯ iOS å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°çš„ï¼›ä½ å¯¹ä»–äº†è§£å¤šå°‘ï¼Ÿå®šæ—¶å™¨æ˜¯åŸºäºæ—¶é—´çš„é€šçŸ¥ï¼Œä»–ä¸ºçº¿ç¨‹æä¾›äº†ä¸€ç§å¯ä»¥åœ¨æœªæ¥æŸä¸ªæ—¶é—´æ‰§è¡ŒæŸä¸ªä»»åŠ¡çš„æœºåˆ¶ï¼›ä»–æ˜¯åŒæ­¥å‘å‡ºçš„ï¼Œå¹¶ä¸”ä¸ç‰¹å®šçš„ mode ï¼ˆå°±æ˜¯æŠŠå®šæ—¶å™¨æ·»åŠ è¿› runloop çš„é‚£ä¸ª modeï¼‰æœ‰å…³ï¼Œå¦‚æœæ²¡æœ‰ç›‘æ§ç‰¹å®šçš„ mode ï¼Œé‚£ä¹ˆäº‹ä»¶å°±ä¼šè¢«ä¼šç•¥æ‰ï¼Œå½“ç„¶çº¿ç¨‹ä¹Ÿä¸ä¼šæ”¶åˆ°é€šçŸ¥çš„ï¼Œç›´åˆ° runloop è¿è¡Œåœ¨ç›¸åº”çš„ mode ä¸‹ä¸ºæ­¢ï¼› å®šæ—¶å™¨çš„è§¦å‘æœ‰å¿…è¦è§£é‡Šä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½çŸ¥é“å®šæ—¶å™¨çš„å®šæ—¶é—´éš”ä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼çš„ï¼Œä¹Ÿå°±è¯´å¯èƒ½ä¼šæœ‰åå·®ï¼å®šæ—¶å™¨è°ƒåº¦æ˜¯åŸºäºè®¾å®šçš„å¼€å§‹æ—¶é—´çš„è€Œä¸æ˜¯å®é™…è§¦å‘æ—¶é—´çš„ï¼è¿™å¥è¯å¯èƒ½ä¸å¥½ç†è§£ï¼Œæ…¢æ…¢è®²ç»™ä½ å¬å§ï¼Œå¦‚æœåˆ°è¾¾å®šæ—¶å™¨è§¦å‘æ—¶é—´ä¹‹å‰æœ‰åˆ«çš„ä»»åŠ¡æ²¡æœ‰å®Œæˆï¼Œé‚£ä¹ˆå°±ä¼šå‘åæ‹–å»¶å®šæ—¶å™¨çš„è§¦å‘æ—¶é—´ï¼Œå¦‚æœä¸€ç›´æ‹–å»¶ï¼ŒåŠ å…¥0.5såº”å½“æ‰§è¡Œçš„ï¼Œæ‹–å»¶åˆ°äº†1.1sçš„æ—¶å€™å¯ä»¥æ‰§è¡Œäº†ï¼Œé‚£ä¹ˆä¸Šæ¬¡çš„é‚£ä¸ªå°±è¢«å¿½ç•¥äº†ï¼Œå¦‚æœæ˜¯åˆ·æ–° UIï¼Œé‚£ä¹ˆæ•ˆæœä¸Šå°±æ˜¯å¡é¡¿ä¸‹ï¼›ç´§æ¥ç€ä¸‹ä¸€æ¬¡å¾ªç¯è§¦å‘æ—¶é—´ä¸æ˜¯ 1.1s + 0.5sï¼Œ è€Œæ˜¯0.5s *3 = 1.5s;è¿™ä¸‹æ˜ç™½äº†å§ï¼Œæ˜¯åŸºäºä½ è®¾å®šå¼€å§‹çš„é‚£ä¸ªæ—¶é—´çš„ï¼Œå¦‚æœä¸­é—´æ‹–å»¶äº†ï¼Œå°±ä¼šè¢«å¿½ç•¥è¿‡å»ï¼å¹¶ä¸”è¿™ä¸ªå»¶è¿Ÿæ˜¯æ²¡æœ‰ä¸Šé™çš„ï¼ æ³¨ï¼šä½¿ç”¨å®šæ—¶å™¨æ˜¯å¦éœ€è¦æ‰‹åŠ¨æ·»åŠ åˆ° runloop å–å†³äºåˆ›å»ºçš„æ–¹å¼ï¼Œé€šè¿‡é˜…è¯» NSTimer Class Reference å¾—åˆ°çš„ç»“è®ºï¼š 1.ä½¿ç”¨ initWithFireDate æˆ–è€… timerWithTimeInterval è¿™äº›æ–¹å¼åˆ›å»ºçš„å®šæ—¶å™¨å¿…é¡»æ‰‹åŠ¨åŠ å…¥åˆ°runloop ï¼› 2.ä½¿ç”¨ scheduledTimerWithTimeInterval åˆ›å»ºçš„åˆ™æ˜¯é»˜è®¤åŠ å…¥åˆ°å½“å‰runloopçš„ï¼› ä¹Ÿå¯ä»¥ä¸º runloop æ·»åŠ ç›‘å¬è€…ï¼Œå¯ä»¥åœ¨ runloop æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æŸä¸ªæ—¶å€™æ”¶åˆ°å›æ‰ï¼Œæ¯”å¦‚è¿›å…¥æˆ–è€…é€€å‡ºã€ç¡çœ ã€å”¤é†’ã€å¤„ç†è¾“å…¥æºæˆ–è€…å®šæ—¶å™¨ä¹‹å‰ç­‰ï¼›è¿™ä¸ªå°±éœ€è¦ä½¿ç”¨ core Fundation é‡Œçš„ api äº†ï¼ˆCFRunLoopObserverRef ç­‰ï¼‰ï¼›Fundation æä¾›çš„ api æ˜¯å¯¹ core Fundation çš„å°è£…ï¼Œå› æ­¤ä½ ä¹Ÿèƒ½æ‰¾åˆ°æ·»åŠ å®šæ—¶å™¨å’Œ source çš„æ–¹æ³•: CFRunLoopAddTimer / CFRunLoopAddSource ; æ€»çš„æ¥è¯´å°±æ˜¯ï¼šå¦‚æœä½ æœ‰äº‹æƒ…æƒ³è®© runloop ä¸ºä½ ç®¡ç†çº¿ç¨‹å»å®Œæˆï¼Œé‚£ä¹ˆä½ é€‰å–ä¸€ç§è¾“å…¥æºæ·»åŠ è¿› runloopï¼Œrunloopå°±å›å»ç›‘æµ‹è¿™äº›è¾“å…¥æºæœ‰æ²¡æœ‰äº‹æƒ…è¦åšï¼› RunLoop å’Œ Mode mode æœ‰å‡ ç§ï¼Ÿé˜…è¯»è¿‡ NSRunLoop Class Reference æ–‡æ¡£ä¹‹åè§åˆ°äº†ä¸¤ç§ï¼ŒNSDefaultRunLoopModeï¼ŒNSRunLoopCommonModes; å…¶å®ä¸æ­¢ä¸¤ç§å‘¢ï¼Œåœ¨åˆ«çš„åœ°æ–¹ä¹Ÿèƒ½æ‰¾åˆ°ï¼šUIApplication Class Reference 123456789101112131415Run Loop Mode for TrackingMode while tracking in controls is taking place.DeclarationSWIFTlet UITrackingRunLoopMode: StringOBJECTIVE-CUIKIT_EXTERN NSString *UITrackingRunLoopMode;ConstantsUITrackingRunLoopModeThe mode set while tracking in controls takes place. You can use this mode to add timers that fire during tracking.Available in iOS 2.0 and later. è¿™ç§æ¨¡å¼å‘ç”Ÿåœ¨ tracking æ—¶ï¼Œç°åœ¨å­¦ä¹ çš„ UIKit ä¸­çš„æ§ä»¶è²Œä¼¼åªæœ‰ scrollview æœ‰trackingï¼› mode æœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿæˆ‘ä»¬é€šè¿‡é˜…è¯»ä¸Šæ–‡å·²ç»çŸ¥é“äº†ï¼Œrunloop å¯ä»¥è°ƒåº¦çº¿ç¨‹å»å®Œæˆæˆ‘ä»¬è¦åšçš„äº‹æƒ…ï¼Œå…ˆçœ‹ä¸¤ä¸ªåœºæ™¯å§ï¼š 1.å¾®ä¿¡å®¢æˆ·ç«¯ä¸­çš„èŠå¤©ç•Œé¢è€Œè¨€ï¼Œå½“æ»‘åŠ¨èŠå¤©é¡µé¢çš„æ—¶å€™ï¼Œä½ å‘çš„åŠ¨ç”»å°±ä¼šæš‚åœï¼Œæ‰‹æ¾å¼€åå°±ä¼šåŠ¨èµ·æ¥ï¼Œè¿™æ ·åšçš„å¥½å¤„å°±æ˜¯ä½¿å¾—æ»‘åŠ¨åˆ—è¡¨æ›´åŠ æµç•…ï¼› 2.è¿˜æœ‰ä¸€äº›ç›¸åçš„åœºæ™¯ï¼Œå°±æ˜¯åœ¨æ»‘åŠ¨åˆ—è¡¨çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿæƒ³è®©æˆ‘ä»¬çš„å€’è®¡æ—¶åœ¨ä¸€ç›´è·‘ç§’è€Œä¸æ˜¯åœä¸‹æ¥ï¼› è¿™äº›éƒ½æ˜¯å¯ä»¥é€šè¿‡ mode æ¥é…ç½®çš„ï¼Œåœ¨ä¸åŒçš„åœºæ™¯ä¸‹ runloop è¿è¡Œåœ¨ä¸åŒçš„ mode ä¸‹ï¼›å¯ä»¥å› æ­¤æ·»åŠ  timer ï¼Œport æ—¶éƒ½è¦æŒ‡å®š è¿™ä¸ªæºçš„ modeï¼›è¿™æ · runloop æ‰èƒ½çŸ¥é“å½“å‰æ‰€å¤„çš„ mode æ˜¯ä¸æ˜¯è¦å¤„ç†è¾“å…¥æºçš„äº‹æƒ…ï¼ç›¸å½“äºå¯¹è¾“å…¥æºåˆ†ç»„ï¼Œè¿™ä¸ªåˆ†ç»„æ¯”è¾ƒç‰¹æ®Šï¼Œè¾“å…¥æºå¯ä»¥åŒæ—¶å±äºä¸åŒçš„ modeï¼›æ¯”å¦‚åœºæ™¯1è®¾ç½®ä¸º DefaultRunLoopMode å°±è¡Œäº†ï¼›å¯¹äºåœºæ™¯2è®¾ç½®ä¸ºDefaultRunLoopModeè¿˜ä¸è¡Œï¼Œè¿™ä¼šå¯¼è‡´åœ¨æ»‘åŠ¨åˆ—è¡¨çš„æ—¶å€™åœæ­¢æ›´æ–°UIï¼Œå› ä¸º æ»‘åŠ¨çš„æ—¶å€™ runloop å¤„äº UITrackingRunLoopMode ï¼Œä¸åŒäº DefaultRunLoopModeï¼å› æ­¤åˆ°äº†å®šæ—¶å™¨è§¦å‘çš„æ—¶é—´äº†ï¼Œå´æ²¡æœ‰è°ƒç”¨ target çš„æ–¹æ³•ï¼Œæ‰€ä»¥è¦æŠŠ å®šæ—¶å™¨åŠ å…¥åˆ° UITrackingRunLoopMode æ‰è¡Œï¼Œè¿™æ ·æ»‘åŠ¨çš„æ—¶å€™ä¹Ÿèƒ½è§¦å‘å®šæ—¶å™¨äº†ï¼ è¯´äº†åŠå¤©è¿˜æœªæåŠ NSRunLoopCommonModes è¿™ä¸ª mode ï¼›æœ‰äººæŠŠå¥¹ç§°ä¹‹ä¸ºä¼ªæ¨¡å¼ï¼Œå› ä¸ºä»–ä»£è¡¨äº†æ‰€ä»¥æ¨¡å¼ï¼Œå¯ä»¥è¯´ä¸æ˜¯ä¸€ç§çœŸæ­£çš„æ¨¡å¼ï¼è¿™äº›æ¨¡å¼åç§°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœä½ å¯¹äº mode ä¸ç†è§£çš„è¯ï¼Œä½ å¤§å¯æŠŠä»–ä»¬éƒ½å½“åš æšä¸¾ è€Œ commonModes = (default + uitacking + otherâ€¦);å¹¶ä¸”æ¯ä¸ª mode éƒ½æ˜ å°„ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œæ”¾çš„æ˜¯æ·»åŠ çš„è¾“å…¥æºï¼Œå½“ç„¶å¯ä»¥æŠŠè¾“å…¥æºæ”¾åˆ°å¤šä¸ªæ•°ç»„é‡Œå•¦ï¼›è¿™æ · runloop è¿è¡Œåœ¨ä¸åŒçš„ mode ä¸‹æ—¶å°±å»æ‰¾ä¸åŒçš„æ•°ç»„ï¼Œå»å®Œæˆä»»åŠ¡ï¼Œç›¸ä¿¡æˆ‘è¿™æ ·é€šä¿—çš„è¯´ä½ ä¼šæ˜ç™½çš„ï¼ è¿™æ˜¯ RunLoop å­¦ä¹ çš„ç¬¬ä¸€ç¯‡åšå®¢ï¼Œéšç€æˆ‘å­¦ä¹ çš„åŠ æ·±ä¹Ÿä¼šç»§ç»­åˆ†äº«ï¼Œæˆ‘æœ¬äººä¹Ÿå¾ˆæœŸå¾…è‡ªå·±èƒ½è€å¿ƒå†™ä½œï¼Œæ¯•ç«Ÿå†™ä½œçš„è¿‡ç¨‹æ˜¯æ¯ç‡¥çš„ğŸ˜¢O(âˆ©_âˆ©)O~~","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"ImageOptim â€“ æ— æŸå›¾ç‰‡å‹ç¼©å·¥å…·","slug":"2015/09/27-bo-ke-ti-su-shi-yong-imageiptimya-suo-tu-pian","date":"2015-09-27T00:50:27.000Z","updated":"2018-03-27T14:45:15.684Z","comments":true,"path":"2015/09/27/2015/09/27-bo-ke-ti-su-shi-yong-imageiptimya-suo-tu-pian.html","link":"","permalink":"http://debugly.cn/2015/09/27/2015/09/27-bo-ke-ti-su-shi-yong-imageiptimya-suo-tu-pian.html","excerpt":"","text":"èƒŒæ™¯æ˜¨å¤©å‘å¸ƒçš„åšå®¢ æ¸¯ç‰ˆè‹¹æœå……ç”µå™¨DIYå…¨è¿‡ç¨‹ é‡Œä½¿ç”¨äº†å¤ªå¤šçš„å›¾ç‰‡ï¼Œçœ‹äº†ä¸‹å¥½å‡ åå…†å¤§ï¼Œè¿™æ€ä¹ˆèƒ½è¡Œå‘¢ï¼Œä½œæ­»çš„èŠ‚å¥å•Šï¼æ‰€ä»¥æ‰¾äº†ä¸€æ¬¾ mac æ— æŸå›¾ç‰‡å‹ç¼©å·¥å…· â€“ ImageOptim ï¼Œå‹ç¼©æ¯”ç‰¹åˆ«é«˜ï¼Œæ”¯æŒ PNG/JPEG/GIF ç­‰ä¸»æµæ ¼å¼ï¼Œå¹¶ä¸”æ˜¯å…è´¹çš„ï¼ å¯ä»¥ç›´æ¥æ‹–å…¥æ–‡ä»¶å¤¹æ‰¹é‡å¤„ç†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‹–å…¥å›¾ç‰‡ï¼Œé»˜è®¤è‡ªåŠ¨å¼€å§‹å¤„ç†ï¼›äº²èº«æ„Ÿå—å¦‚ä¸‹, è¿™æ˜¯æˆ‘æ˜¨å¤©åšå®¢çš„å›¾ç‰‡ï¼š æŠ€å·§ï¼šè¿™é‡Œå¯ä»¥è°ƒèŠ‚å‹ç¼©æ¯”ï¼Œé»˜è®¤çš„å‹ç¼©æ¯”å°äº›ï¼Œåšå®¢å›¾ç‰‡è´¨é‡ä¸ç”¨å¾ˆé«˜ï¼Œå¯ä»¥å‹ç¼©å®šå¾—æ›´å°äº›ï¼š è¿™æ˜¯ä»Šå¤©çš„æˆªå›¾ï¼Œå…ˆå‹ç¼©å§ï¼š å®Œæœ‰äº†è¿™ä¸ªå·¥å…·å°±å¯ä»¥å¤§å¤§å‡å°å›¾ç‰‡çš„ä½“ç§¯äº†ï¼Œå¹¶ä¸”æ˜¯æ— æŸçš„ï¼Œå›¾ç‰‡è´¨é‡ä¸å—å½±å“ï¼ å¼€æºåœ°å€ï¼šhttps://github.com/pornel/ImageOptim è½¯ä»¶ä¸‹è½½åœ°å€ï¼šhttps://imageoptim.com","categories":[],"tags":[{"name":"macOS","slug":"macOS","permalink":"http://debugly.cn/tags/macOS/"}]},{"title":"æ¸¯ç‰ˆè‹¹æœå……ç”µå™¨ DIY å…¨è¿‡ç¨‹","slug":"2015/09/26-gang-ban-ping-guo-chong-dian-qi-diyquan-guo-cheng","date":"2015-09-26T15:58:32.000Z","updated":"2018-03-27T14:45:15.684Z","comments":true,"path":"2015/09/26/2015/09/26-gang-ban-ping-guo-chong-dian-qi-diyquan-guo-cheng.html","link":"","permalink":"http://debugly.cn/2015/09/26/2015/09/26-gang-ban-ping-guo-chong-dian-qi-diyquan-guo-cheng.html","excerpt":"","text":"ä¸­ç§‹èŠ‚åˆ°äº†ï¼Œå…ˆè¯´å£°ï¼šâ€œä¸­ç§‹æ¥å¿«ä¹â€ ï¼æ˜¨å¤©æ™šä¸Šæ‰‹æœºæ²¡ç”µäº†ï¼Œæ€ä¹ˆåŠï¼Ÿè¿™è¿˜ç”¨é—®ï¼ï¼Ÿè„‘ç˜«ä¹ˆï¼Ÿå“¦ï¼Œä¸æ˜¯å•¦ï¼›æœ¨æœ‰å……ç”µå™¨å•Šï¼Œé‚£å°±ç”¨ç”µè„‘å……å§ï¼ŒåœŸè±ªä¹ˆï¼ŒåŠï¼ä¹‹å‰æ˜¯ç”¨æˆ‘çš„proå……ï¼Œè¿™æ¬¡ç”¨å…¬å¸å‘çš„ç”µè„‘å§ï¼Œä¸¤å¹´ä¸ç”¨å¿˜è®°äº†windowsç¡çœ äº†ï¼Œç»“æœç¬¬äºŒå¤©æ‰‹æœºè¿˜æ˜¯ä¸åˆ°ç™¾åˆ†ä¹‹ä¸‰åçš„ç”µé‡ï¼è¿™å°±æ˜¯æ²¡æœ‰å……ç”µå™¨çš„ä¸ä¾¿å•Šï¼æˆ‘æœ‰æ¸¯ç‰ˆçš„å……ç”µå™¨å•Šï¼Œå¯æ˜¯å¤§é™†çš„æ’æ’ä¸èƒ½ç”¨å•Šï¼Œæˆ‘æœ‰ä¸ªæ’æ’ï¼Œå¯ä»¥æ’ä¸Šï¼Œå¯æ˜¯ä¸é€šç”µå•Šï¼Œä»”ç»†è§‚å¯Ÿäº†ä¸‹æ˜¯å› ä¸ºæ¸¯ç‰ˆçš„åªæœ‰é‡‘å±å¤´æ˜¯å¯¼ç”µçš„ï¼Œè¿™ä¸ªå¾…ä¼šçœ‹å›¾å°±æ˜ç™½å•¦ï¼ä½œä¸ºä¸€ä¸ªgeekå½“ç„¶ä¸ç”˜å¯‚å¯ï¼ æ³¨æ„äº‹é¡¹ï¼šéœ€è¦ç»™ç”µå®¹æ”¾ç”µï¼Œè™½ç„¶ç”µå®¹å­˜å‚¨çš„ç”µé‡ä¸å¤šï¼Œä½†æ˜¯ç”µå‹ä¸ä½å‘¢ï¼Œæˆ‘äº²èº«æ„Ÿå—è¿‡ï¼Œä½ ä¼šè¢«ç”µçš„è·³èµ·æ¥ã€‚ã€‚ã€‚ æ”¾ç”µæ–¹æ³•å¾ˆç®€å•ï¼Œç”¨æ”¹é”¥çŸ­è·¯ç”µå®¹ä¸¤æå°±è¡Œå•¦ï¼Œå¦‚æœä½ çœ‹åˆ°äº†ç«èŠ±ï¼Œé‚£å°±è¯´æ˜ç”µå®¹é‡Œç¡®å®å­˜äº†ç”µï¼æœ€åä¸€å¼ å›¾å°±æ˜¯å°è¯å“¦ï¼Œç”µå®¹å­˜å‚¨çš„ç”µä¾›LEDäº®äº†15så‘¢ï¼ ï¼ˆæœ‰å²ä»¥æ¥å›¾ç‰‡æœ€å¤šçš„ä¸€æ¬¡äº†ï¼Œä¸€å…±41å¼ ï¼Œwifiä¸‹æµè§ˆå§,åœŸè±ªå°±å½“æˆ‘æ²¡è¯´å§â€¦ï¼‰ è¿˜æ²¡å¼€å§‹åŠ¨å·¥å‘¢,å·²ç»è¢«æˆ‘æ·±æ·±åœ°ä¼¤å®³äº†å‘€â€¦.. å†çœ‹çœ‹å§ï¼š å…ˆæŠŠè¿™å±‚æ¨¡æ­æ‰ï¼š æ¥ç€å°±ç”¨æˆ‘ä¸ºæ•°ä¸å¤šçš„å·¥å…·å¼€å§‹å‰²è‚‰å•¦ï¼ŒåŸ‹å¤´è‹¦å¹²äº†å¥½ä¸€ä¼šï¼Œæ²¡å•¥ååº”å•Šï¼è¿™è‹¹æœçš„å……ç”µå™¨æ²¡èºä¸ï¼Œéƒ½æ˜¯èƒ¶ç²˜å¥½çš„ï¼Œç”¨åˆ€å­åˆ’ä¸å¼€å•Šï¼æ€ä¹ˆåŠï¼Œè®°å¾—ä¸Šæ¬¡æŸ¥è¿‡èåŒ–å…¬äº¤å¡çš„åŠæ³•ï¼Œæœ‰ç§åŒ–å­¦è¯å‰‚å¤©é‚£æ°´å°±å¯ä»¥ï¼Œç½‘ä¸Šå¼€å§‹æŸ¥ï¼Œå‘ç°è¿™è´§å¥½åƒæ²¡ç”¨ï¼Œå› ä¸ºè‹¹æœçš„å……ç”µå™¨ä¸æ˜¯æ™®é€šçš„èƒ¶æ°´ç²˜çš„ï¼è¿™å°¼ç›æ˜¯ä»€ä¹ˆç©æ„å‘¢ï¼Ÿä¸€ä¸ªæœ¯è¯­å‡ºæ¥äº†â€”è¶…å£°çƒ­å’Œï¼›é«˜å¤§ä¸Šçš„æŠ€æœ¯å•Šï¼›è‹¹æœåšå·¥å°±æ˜¯å¥½ï¼Œæˆ‘è¿™ç§Ÿæˆ¿è¿™é‡Œå®¶ä¼™ä¸å…¨ï¼Œç®€å•çš„ç Ÿäº†å‡ ä¸‹æ²¡åµç”¨ï¼ç½‘ä¸Šæœ‰äººè¯´æˆ¿å†°ç®±é‡Œå†»ä¸‹ï¼Œå¥½å§ï¼Œæ‰”å†°ç®±é‡Œè¯•è¯•ï¼Œä¸‹åˆäº†æ‹¿å‡ºæ¥ï¼Œç¡®å®æœ‰ç‚¹å‡‰ï¼Œæ²¡é”¤å­ï¼Œå°¼ç›çœ‹è§å•¥ç”¨å•¥ï¼Œå¤§å­¦æ—¶å€™çš„ç¡¬ç›˜ï¼ˆé‡Œé¢æœ‰ä»€ä¹ˆä½ æ‡‚çš„ï¼‰æ‹¿æ¥ç”¨å§ï¼Œç»“æœè¯•äº†å‡ ä¸‹ï¼Œè¿˜æ˜¯æ²¡åµç”¨ã€‚ã€‚ã€‚ ç¡äº†ä¸€ä¼šè§‰ã€‚ã€‚ã€‚ è¿™æ˜¯è‚¯å®šæ²¡å®Œå•Šï¼Œæƒ³å½“å¹´åœ¨è€å®¶æ—¶ï¼Œç†¬è¿‡å¤šå°‘ä¸ªå¤œæ™šï¼Œåªä¸ºæˆ‘é‚£ç»„è£…çš„éŸ³å“ï¼Œå¾€äº‹ä¸å ªå›é¦–å•¦ï¼Œä¸€æ™ƒå‡ å¹´äº†ï¼è¿™æ˜¯ä½ é€¼æˆ‘çš„ï¼Œç”¨æˆ‘çš„ç”µçƒ™é“å§ï¼æˆ‘æŸ¥ï¼Œå¥½ä½¿ï¼Œé‚£å°±ç»§ç»­å§ï¼Œæ²¡ä¸€å°ä¼šï¼Œæˆ‘å°±æŠŠå‘¨å›´ç»™å…¨éƒ¨è¸å¹³äº†ï¼Œç„¶åæ‹¿æ‰äº†è¿™ä¸ªç›–å­ï¼Œè¯†å¾—åºå±±çœŸé¢ç›®ï¼š å“ˆå“ˆï¼Œè¿™è´§æ˜¯ä¸æ˜¯é¢ç›®å…¨éäº†ï¼š ä¸å¿å¿ƒçœ‹äº†ï¼š æ¥ä¸‹æ¥å°±æ˜¯æŠŠç”µè·¯æ¿å–å‡ºæ¥äº†ï¼š è¿˜æœ‰å·¥ä½œè¦åšï¼Œå› ä¸ºè¾¹ç¼˜éœ€è¦å¤„ç†ï¼Œæœ‰çš„åœ°æ–¹çƒ™è¿›å»äº† ä¸è¿‡é—®é¢˜ä¸å¤§ï¼Œä¸ä¸¥é‡ï¼Œä¹Ÿä¸å¤šï¼šå…¶å®è¿™ææ–™æŒºç¡¬çš„ï¼Œéœ€è¦å°å¿ƒï¼Œä¸è¦åˆ’åˆ°æ‰‹ï¼Œä¹Ÿä¸è¦åˆ’åˆ°ç”µè·¯æ¿äº† å“ˆå“ˆï¼Œæ‹¿å‡ºæ¥äº†ï¼š å¥½å¥½ç…ç…è¿™å®¶ä¼™ï¼š è¿™é‡Œæ˜¯ä¼¤åˆ°çš„åœ°æ–¹ï¼š è¿™ç‚¹å°ä¼¤æ²¡å•¥çš„ï¼š çœ‹çœ‹èƒŒé¢å§ï¼š è¿™æ˜¯ç”µæºæ’å¤´è¿æ¥å¤„ï¼Œå¯ä»¥çœ‹å‡ºè‹¹æœä¹Ÿå°±æ˜¯åšä¸ªæ‘†è®¾å•Šï¼Œè¿™åœ°çº¿æ ¹æœ¬å°±æ²¡è¿çº¿ï¼ è¿™è´§æ˜¯å‡ºæ¥äº†ï¼Œæˆ‘å»å“ªé‡Œæ‰¾ä¸ªä½•æ—¶çš„å¤–å£³å‘¢ï¼Ÿå¸å¼€ä¸€ä¸ªåˆ«çš„å……ç”µå™¨çœ‹èƒ½ä¸èƒ½æ”¾ä¸‹å§ï¼Œä½ çœ‹è¿™ç”µè·¯æ¿å¤šç®€å•å‘€ï¼Œä½ å°±çœ‹ä¸­é—´è¿™é“é»„çº¿æŠŠï¼Œå·¦è¾¹æ˜¯220Vçš„ç”µæºï¼Œä¸€ä¸ªæ•´æµæ¡¥ï¼Œç»è¿‡è¿™ä¸ªé»„è‰²çš„ç”µæ„Ÿï¼Œå¾—åˆ°ä½å‹ï¼Œæ•´æµæ»¤æ³¢ï¼ŒåŠ ä¸ªå°ç¯å®Œäº‹ï¼Œè¿™æ¯”è‹¹æœçš„ç®€å•å¤ªå¤šäº†ï¼Œè‹¹æœçš„ç”µè·¯æ¿ä¸Šçš„ä¸œè¥¿æˆ‘éƒ½çœ‹æ‡‚æ˜¯å•¥ï¼Œæ‰€ä»¥ä¸€ä¸ªåŸè£…çš„å……ç”µå™¨å°±æ˜¯è´µï¼Œä»Šå¤©å°±çœ‹åˆ°äº†ï¼Œè¿™æ˜¯æœ‰åŸå› æ»´ï¼æ¸¯ç‰ˆçš„æ˜¯ä¸‰è§’å½¢çš„å•Šï¼Œæ”¾ä¸è¿›å»ï¼š é‚£å°±è‡ªå·±åšä¸ªå£³å§ï¼Œå°±åœ°å–æï¼Œæ²¡åŠæ³•ï¼Œèº«åœ¨å¤–ä¸ç”±å·±ï¼›ä¸Šæ˜ŸæœŸä¹°çš„é¼ æ ‡ï¼Œçº¸å£³å­è¿˜åœ¨å‘¢ï¼Œæ„Ÿè§‰å¤Ÿç¡¬ï¼Œæ‹¿æ¥ç”¨å§ï¼Œå¤§è‡´æ¯”åˆ’äº†ä¸‹ï¼Œè¿˜è¡Œå§ï¼š ç»™ä»–ç•™ä¸ªç›–å­ï¼š æ„Ÿè§‰åªæœ‰å‰ç›–æ²¡åç›–ä¸å¾—åŠ²å•Šï¼Œç®—äº†ï¼Œç”»å›¾çº¸ï¼Œå†æ¥ä¸€ä¸ªï¼š æˆ‘ä»å°å°±å–œæ¬¢çœ‹LEDï¼Œè®°å¾—ç¬¬ä¸€æ¬¡æ¡åˆ°ä¸€ä¸ªç»¿è‰²çš„ledï¼Œç”¨ä¸¤èŠ‚5å·å¹²ç”µæ± ç‚¹äº®äº†ä¸€å¤œï¼Œé™ªç€æˆ‘å…¥ç¡ï¼Œé™ªç€æˆ‘é†’æ¥ï¼Œé‚£æ„Ÿè§‰å¾ˆä¸é”™å‘¢ï¼Œæ‰€ä»¥æˆ‘å¾—è£…ä¸ªæŒ‡ç¤ºç¯ï¼å…ˆçœ‹æœ‰åœ°æ–¹æ²¡ï¼Œåˆšå¥½æ¯æ’å¤´æ—è¾¹æœ‰åœ°æ–¹ï¼Œéœ€è¦å…ˆå–ä¸‹å¥¹çš„é“ ç”²æ‰è¡Œå‘¢ï¼š ä¸å¾—ä¸å†è¯´ä¸€æ¬¡ï¼Œè‹¹æœåšçš„å°±æ˜¯ç²¾ç»†ï¼Œä¸€ä¸ªæ’å¤´ï¼Œä¹Ÿç»™å¥¹åšä¸ªå°å¤–å£³ï¼Œè¿™è®¾è®¡çš„çœŸå¥½ï¼Œä¸å¿å¿ƒå¹²æ‰ä»–äº†éƒ½ï¼š å»æ‰é“ ç”²åï¼Œç•™ä¸‹ä¸€æ¡ç¼ï¼š è¿™æ˜¯å‰é¢ï¼Œè¿™æ¡ç¼åˆšå¥½å¯ä»¥ç”¨æ¥ç©¿è¿‡ledçš„å¯¼çº¿ï¼š è¿™ä¸ªLEDå°ç¯è‚¯å®šæ˜¯æœ‰ç€è½å•¦ï¼Œå…ˆæ‰¾å¯¼çº¿æ¥é€šç”µæºå§ï¼Œè¿™é‡Œæˆ‘æƒ³çµæ´»äº›ï¼Œæˆ‘å¯ä¸æƒ³è®©å¥¹æ‹–ç€é•¿é•¿çš„å¯¼çº¿ï¼Œæ‰€ä»¥åˆæ‰¾æ¥äº†åºŸå¼ƒçš„å…‰çŒ«ï¼Œä¸Šé¢æœ‰ä¸ªæ’å­”ï¼Œåˆšå¥½æ‹¿æ¥ç”¨å§ï¼Œå°±æ˜¯è¿™ä¸ªé»‘è‰²çš„å•¦ï¼š åé¢çš„ä¸ºä»€ä¹ˆæœ‰ä¸€å †çƒŸç›’å‘¢ï¼ŸçƒŸç˜¾è¿™ä¹ˆå¤§ï¼ï¼Ÿä»€ä¹ˆå•Šï¼Œå“¥ä¸æŠ½çƒŸå¥½ä¹…äº†â€¦è¿™æ˜¯å¤§å­¦æ—¶ä¹°çš„ï¼Œåˆšæ‰æ‰¾LEDåˆ†å‹ç”µé˜»æ—¶æ‹¿å‡ºæ¥çš„ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å•¥å§ï¼ˆè®¤è¯†ä¹ˆï¼Ÿï¼‰ï¼š 620æ¬§å§†çš„ç”µé˜»ï¼š æœ‰ç”µçƒ™é“å°±å¥½åŠäº‹ï¼Œå–ä¸‹æ¥ï¼Œç„Šæ¥ä¸‹ï¼Œé€šç”µè¯•è¯•ï¼Œè¿™æ˜¯ç‰©ç†è€å¸ˆæ•™çš„å“¦ï¼Œä½ å¿˜äº†æ²¡ï¼Ÿä¸è¦ä»€ä¹ˆéƒ½åšå¥½äº†æ‰é€šç”µï¼Œç»“æœå‘ç°ç”µè·¯æ¿å·²ç»æŒ‚äº†ï¼Œé‚£ä¸å°±ç™½è´¹äº†å˜›ï¼š æˆ‘æ“¦ç±»ï¼Œä»€ä¹ˆæƒ…å†µï¼Œæ€ä¹ˆæˆ‘çš„æ‰‹æœºæ²¡æœ‰æ˜¾ç¤ºå……ç”µå•Šï¼æˆ‘æ™•ï¼Œå°¼ç›çš„ï¼Œè€å­å¾ˆå°å¿ƒäº†å•Šï¼Œä¸å¯èƒ½å•Šï¼Œæ€€ç–‘æ˜¯å…‰çŒ«æ’å¤´çš„äº‹ï¼Œç«‹é©¬æŸ¥çœ‹ç”µè·¯æ¿ï¼Œçœ‹åˆ°äº†å—ï¼Œé‚£ä¸¤ä¸ªæ˜¯è¿ç€çš„ï¼Œå†çœ‹æˆ‘çš„ç”µè·¯ï¼Œä¸ä¸€æ ·ï¼Œå‡­å€Ÿç»éªŒæ–­å®šæˆ‘æ¥çš„é‚£ä¸ªä¸æ˜¯å¯¼ç”µçš„ï¼Œè€Œæ˜¯èµ·å›ºå®šä½œç”¨çš„ï¼Œè«æ…Œï¼Œè®©æˆ‘è°ƒæ¢ä¸‹å¯¼çº¿ï¼Œè®°å¾—æ‹”æ‰ç”µæºå•Š!!! ç„¶åå¼€å§‹æ¥LEDå§ï¼Œæµ‹è¯•äº†ä¸‹æ­£è´Ÿæä¹‹åå°±ç¡®å®šäº†ï¼ŒLEDçš„å…·ä½“ä½ç½®äº†ï¼Œå¼€æå§ï¼Œçº¢è‰²çš„å¤ªæ™®éå•¦å’±ä¸ç”¨ï¼Œé»„è‰²çš„åšæŒ‡ç¤ºç¯çš„ä¸å¤šå§ï¼Œç™½è‰²æ˜¯ç…§æ˜æ‰ç”¨çš„ï¼Œ7å½©è‰²çš„æˆ‘ä¹Ÿæ²¡äº†ï¼Œé‚£å°±è“è‰²çš„å§ï¼Œçœ‹æ”¾è¿™é‡Œè¿˜è¡Œå§ï¼Œä¹Ÿåˆ«æ— ä»–é€‰äº†å‘€ï¼š å›¾çº¸æ—©å°±å‰ªå¥½äº†ï¼Œå¼€å§‹åŒ…è£…å§ï¼Œæ˜¯ä¸æ˜¯å¾ˆä¸‘å•Šï¼š åé¢åŒ…å¥½äº†ï¼ŒåŒ…å‰é¢å§ï¼Œè¿™é‡Œéœ€è¦ç•™å­”ï¼Œå¯æ˜¯çº¸å£³å­ä¸å¥½æï¼Œæœ€ç»ˆæŠŠç•™ä¸‹çš„å‰ç›–ç»™å‰ªæ‰äº†ï¼Œè¿™ç®—æ˜¯ä¸ªè´¥ç¬”å•¦ï¼Œå›¾çº¸æ˜¯ç™½ç”»äº†ï¼ çœ‹åˆ°å°ç¯äº†å—ï¼Ÿ å¥½äº†ï¼Œç›–å­éƒ½ç²˜å¥½äº†ï¼Œé€šç”µå§ï¼š é…å¤‡çš„æ˜¯1kçš„ç”µé˜»ï¼Œé«˜äº®åº¦çš„LEDï¼Œæ˜¯ä¸æ˜¯å¾ˆäº®äº†ï¼ çœ‹ä¸‹åé¢å§ï¼Œè¿™ä¸ªæ’å¤´ï¼Œå¯ä»¥æ‹”ä¸‹ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä¸ªç«æŸ´ç›’é‚£ä¹ˆå¤§äº†ï¼š æ’ä¸Šçº¿è¯•è¯•å……ç”µå§ï¼š å®Œå·¥å•¦ï¼Œæ¥ä¸ªåä¸½çš„è½¬èº«ï¼š çœ‹çœ‹æˆ‘è¿™å‡Œä¹±çš„å·¥ä½œå°å§ï¼š å“‡ï¼Œå¥½ä¹±å•Šï¼ à²¥_à²¥ï¼Œç”µæºæ‹”äº†è¿˜èƒ½äº®15så·¦å³å‘¢ï¼ç”µå®¹åœ¨æ”¾ç”µå•¦,ä¸ç¨€å¥‡â€¦ Doneä¸ç®¡åˆ«äººæ€ä¹ˆçœ‹ï¼Œåæ­£æˆ‘æ˜¯å¾ˆäº«å—è¿™ä¸ªè¿‡ç¨‹å•¦ï¼Œè¿™æ˜¯æˆ‘çš„ä¸€ä¸ªå…´è¶£çˆ±å¥½è€Œå·²ï¼å¾ˆé—æ†¾æ²¡æœ‰å­¦ä¹ ç‰©ç†ç”µå­¦ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ˜¯ä¸ªå°ç™½å•¦ï¼Œä»…ä»…çŸ¥é“ä¸€ç‚¹ç”µè·¯ç½¢äº†ï¼Œè®©ä½ ä»¬è§ç¬‘äº†ï¼ŒO(âˆ©_âˆ©)O~~ è¿™æ˜¯åˆ«äººæ‹†ç»¿ç‚¹çš„è¿‡ç¨‹ å›½å¤–å¤§ç¥æ‹†è§£è‹¹æœç»¿çš„å……ç”µå™¨+æ·±å…¥è§£è¯»å…¶è®¾è®¡+ç»¿ç‚¹çš„ç”±æ¥ 2015 ä¸­ç§‹å¿«ä¹ï¼","categories":[],"tags":[{"name":"ç”Ÿæ´»ä¸­çš„æ¬¢ä¹","slug":"ç”Ÿæ´»ä¸­çš„æ¬¢ä¹","permalink":"http://debugly.cn/tags/ç”Ÿæ´»ä¸­çš„æ¬¢ä¹/"}]},{"title":"ViewController å­æ§åˆ¶å™¨ view çš„å¤§å°é—®é¢˜","slug":"2015/09/05-viewcontroller-tian-jia-zi-kong-zhi-qi-shi","date":"2015-09-05T15:00:07.000Z","updated":"2018-03-27T14:45:15.684Z","comments":true,"path":"2015/09/05/2015/09/05-viewcontroller-tian-jia-zi-kong-zhi-qi-shi.html","link":"","permalink":"http://debugly.cn/2015/09/05/2015/09/05-viewcontroller-tian-jia-zi-kong-zhi-qi-shi.html","excerpt":"","text":"ViewContrller ç®¡ç†çš„ view çš„å¤§å°æ˜¯å¦‚ä½•ç¡®å®šçš„ï¼Ÿ ä¸åŒçš„ç³»ç»Ÿç‰ˆæœ¬ View çš„å¤§å°ä¸€æ ·å—ï¼Ÿ ç”¨ ViewContrller ç®¡ç†çš„ view çš„å¤§å°å¦‚ä½•ä¼˜é›…çš„æ§åˆ¶ï¼Ÿ è¿™äº›é—®é¢˜æ˜¯æˆ‘åœ¨å†™é¡¹ç›®çš„æ—¶å€™é‡åˆ°çš„ï¼Œæ¯”è¾ƒæœ‰æ„Ÿå—ï¼›æˆ‘å†™çš„æ˜¯ä¸€ä¸ªåªæ”¯æŒæ¨ªå±çš„ iPad é¡¹ç›®ï¼Œview æ¯”è¾ƒå¤šï¼Œå› æ­¤æŒ‰åŒºåŸŸåˆ’åˆ†ä¸ºå¥½å‡ ä¸ªæ§åˆ¶å™¨åˆ†åˆ«ç®¡ç†ï¼Œä¸ºäº†ç¡®ä¿ä½¿ç”¨æœŸé—´å¯¹è±¡çš„å®‰å…¨å­˜åœ¨ï¼Œæ‰€ä»¥è¦æŠŠæ§åˆ¶å™¨ä¿ç•™ä½ï¼Œå¦‚æœä¸ä¿ç•™æ§åˆ¶å™¨ï¼ŒMRC å°±ä¼šå†…å­˜æ³„éœ²ï¼ŒARCä¸‹æ§åˆ¶å™¨å°±ä¼šé‡Šæ”¾ï¼Œå‰©ä¸‹ä»–çš„ view å­¤å†›å¥‹æˆ˜ï¼Œè¿™è‚¯å®šä¸æ˜¯ä½ æƒ³è¦çš„ç»“æœï¼Œæ‰€ä»¥å¸¸è§„åšæ³•æ˜¯ä¿ç•™æ§åˆ¶å™¨ï¼Œç„¶åæŠŠviewæ·»åŠ ä¸Šå»ï¼Œæ”¹å˜frameï¼›è¿™ä¹Ÿå¯èƒ½æ˜¯ä½ ç°åœ¨æ­£åœ¨ä½¿ç”¨çš„æ–¹æ³•å§ï¼Ÿï¼è¿™é‡Œéšå«äº†ä¸€ä¸ªæ¡ä»¶ï¼Œåœ¨è¿™ä¸ªæ§åˆ¶å™¨é‡Œæ·»åŠ å­æ§ä»¶çš„æ—¶å€™ï¼Œæ˜¯æŒ‰ä¸€å®šçš„å¤§å°æ¥å†™çš„ï¼Œæ¯”å¦‚ï¼ŒA æ§åˆ¶å™¨æ˜¯ä¸€ä¸ªè¯¦æƒ…å±•ç¤ºï¼Œview å¤§å°æ˜¯(500,768),é‚£ä¹ˆå­è§†å›¾çš„å‚è€ƒå¹³é¢å°±æ˜¯{(0,0),(500,768)}äº†,å½“ç„¶ä¹Ÿå¯ä»¥è¶…å‡ºè¾¹ç•Œï¼Œä½†è¿™ä¸æ˜¯è®¨è®ºçš„èŒƒå›´ã€‚ è¿™ç§æ–¹æ³•æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå…¶å®è¿™ç§æ–¹æ³•å¯ä»¥ï¼Œä¸è¿‡æˆ‘åœ¨å†™æŸä¸ªæ¨¡å—æ—¶é‡åˆ°äº†è¿™æ ·ä¸€ä¸ªæƒ…å½¢ï¼š å›¾ 1 ç‚¹å‡»æ ‡ç­¾æ˜¾ç¤ºä¸ºå›¾2 å›¾ 2 å…ˆçœ‹ç¬¬ä¸€å¼ å›¾ï¼Œå¾ˆç®€å•çš„ä¹å®«æ ¼å¸ƒå±€ï¼›ç‚¹å‡»æ ‡ç­¾ä¼šå‡ºæ¥ä¸€ä¸ªæµ®å±‚ï¼Œæ ·å¼å¤§è‡´æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å°‘äº†ä¸€ä¸ªæ ‡ç­¾è€Œå·²ï¼Œæ‰€ä»¥ç«‹é©¬æƒ³åˆ°çš„åº”è¯¥æ˜¯é‡ç”¨äº†ï¼ï¼ˆæˆ‘å¯ä¸æƒ³å†™ä¸¤å¥—å¸ƒå±€ï¼‰å…ˆåˆ«å†™å“¦ï¼Œæƒ³ä¸‹æ”¹æ€ä¹ˆå†™ï¼Ÿ æŒ‰ç…§å¼•è¨€éƒ¨åˆ†çš„åˆ†æï¼Œå¤§å°å·²ç»ç¡®å®šäº†ï¼Œä¸èƒ½é‡ç”¨ï¼å¯¹äºä¸€ä¸ªå›ºæ‰§çš„äººï¼Œæ²¡åŠæ³•ï¼Œå°±æ˜¯è¦é‡ç”¨ï¼å› æ­¤è€ƒè™‘ä¸‹æ€ä¹ˆæŠŠè¿™ä¸ª view çš„å¤§å°å˜å¾—å¯æ“æ§ï¼Œç„¶åå­è§†å›¾å‚è€ƒçˆ¶è§†å›¾è€Œè‡ªåŠ¨æ”¹å˜ä¸å°±è¡Œäº†ï¼ æŸ¥çœ‹viewåˆ›å»ºæ—¶çš„å¤§å°å§ï¼Œå› ä¸ºè¿™ä¸ªå¾ˆå…³é”®ï¼Œå­è§†å›¾è¦å‚è€ƒçš„ï¼š 12åœ¨ viewDidLoad é‡Œæ‰“å°æ—¶ï¼Œä¸è®ºä½ æ¨¡æ‹Ÿå™¨çš„æ˜¯ä»€ä¹ˆæ–¹å‘ï¼Œå®ƒé»˜è®¤æ€»æ˜¯ç«–å±(Portrait) sizeï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æ¨ªå±æ¨¡å¼ä¸‹ width å’Œ height æ˜¯ç›¸åçš„ï¼Œä¸æ˜¯ä½ æƒ³è¦çš„ï¼›æœ¬æ¥çŒœæµ‹ç€vcçš„viewçš„å®½é«˜ä¼šè·Ÿwindowçš„æœ‰å…³ï¼Œé€šè¿‡æµ‹è¯•æŠŠwindow çš„å®½é«˜ç¿»è½¬ä¹Ÿä¸è¡Œï¼Œåè€Œä¼šå¸¦æ¥åˆ«çš„é—®é¢˜ï¼ç»è¿‡æµ‹è¯•ï¼Œåœ¨viewDidAppearæ—¶ï¼Œå·²ç»ä¿®æ”¹å¥½äº†ï¼Œå˜æˆæ¨ªå±çš„å¤§å°äº†ï¼åˆæµ‹è¯•äº†ä¸‹ç³»ç»Ÿç‰ˆæœ¬ï¼Œå‘ç°ï¼š!!!iOS 8 å·²ç»æ²¡è¿™ä¸ªé—®é¢˜äº†ï¼Œä¹Ÿå°±æ˜¯è¯´iOS 8 ä¹‹åviewçš„å¤§å°å°±æ˜¯ä½ çš„å±å¹•å¤§å°ï¼Œè€Œä¸”ä¸æ–¹å‘å¯¹åº”ï¼Œæ¯”å¦‚æ¨ªå±å°±æ˜¯(1024,768)ï¼› é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬å¸ƒå±€å­è§†å›¾çš„ä»£ç éƒ½å†™åœ¨ viewDidLoad é‡Œï¼Œå½“æˆ‘ä»¬åœ¨å¤–éƒ¨ä¿®æ”¹ view çš„å¤§å°æ—¶ viewDidLoad å·²ç»è°ƒç”¨è¿‡äº†ï¼Œå› æ­¤è¿™ä¸ªå¤–éƒ¨æŒ‡å®šçš„å¤§å°å¯¹äºå­è§†å›¾æ¥è¯´ç„¶å¹¶åµå•Šï¼å‚ç…§ä¸ªæ¯›çº¿å•Šï¼æœ‰æ²¡æœ‰ä¸€ä¸¾ä¸¤å¾—çš„åŠæ³•ï¼Œå¤–éƒ¨å¯ä»¥æŒ‡å®š å­æ§åˆ¶å™¨ view çš„å¤§å°ï¼Œå¹¶ä¸”å­æ§åˆ¶å™¨ viewDidLoad é‡Œå¯ä»¥è·å–åˆ°æŒ‡å®šçš„å¤§å°ï¼Œè€Œä¸æ˜¯æ²¡æœ‰åµç”¨çš„å±å¹•å¤§å°ï¼Ÿ ç”±æœç´¢å›  â€” view ä»å“ªé‡Œæ¥ï¼Ÿ å½“æ§åˆ¶å™¨çš„ view è¢«è®¿é—®æ—¶å°±ä¼šè°ƒç”¨ loadView æ–¹æ³•åˆ›å»ºï¼Œç„¶åç´§æ¥ç€è°ƒç”¨ viewDidLoad ï¼Œ æˆ‘ä»¬åˆ›å»ºæ·»åŠ å­è§†å›¾çš„ä»£ç ä¸€èˆ¬ä¹Ÿéƒ½å†™åœ¨è¿™é‡Œé¢ï¼Œå› æ­¤å¦‚æœ loadView çš„æ—¶å€™ size èƒ½æ­£ç¡®çš„æŒ‡å®šï¼Œ æˆ‘ä»¬å°±å¯ä»¥åœ¨ viewDidLoad å‚ç…§ view çš„å¤§å°ï¼Œå¸ƒå±€å­è§†å›¾äº†ï¼å…ˆæ‰“å°çœ‹çœ‹ç»“æœå§ï¼Œ ç»“æœå’Œ viewDidLoad é‡Œæ‰“å°çš„ä¸€æ ·ï¼›æ‰€ä»¥å¯ä»¥ä»è¿™é‡Œä¸‹æ‰‹ï¼Œ åœ¨ loadVeiw çš„æ—¶å€™æŒ‡å®šä¸€ä¸ª view çš„ sizeï¼Œ é‚£ä¹ˆä¸å¯é¿å…çš„å°±è¦åŠ ä¸€ä¸ªå±æ€§ viewSize äº†ï¼ç„¶åå¤„ç†ï¼š 123456789101112131415161718192021222324252627 - (instancetype)initWithViewSize:(CGSize)aSize&#123; self = [super init]; if (self) &#123; self.viewSize = aSize; &#125; return self;&#125;- (void)loadView&#123; [super loadView];// è¿™é‡Œç”¨äº†frameï¼›ç”¨boundå¯èƒ½ä¼šå¯¼è‡´originä¸æ˜¯0,0;å¯¼è‡´ view åœ¨å…¶çˆ¶è§†å›¾ä¸Šçš„ä½ç½®æœ‰åç§»ï¼› CGRect rect = self.view.frame; rect.size = self.viewSize; self.view.frame = rect;&#125;- (void)setViewSize:(CGSize)viewSize&#123; _viewSize = viewSize; if (self.isViewLoaded) &#123; CGRect rect = self.view.frame; rect.size = self.viewSize; self.view.frame = rect; &#125;&#125; æœ‰äº†ä¸Šé¢çš„å¤„ç†æˆ‘ä»¬å°±å¯ä»¥åœ¨ viewDidLoad ä»¥ view çš„å¤§å°ä¸ºå‚ç…§å¸ƒå±€å­è§†å›¾äº†ï¼åªéœ€åœ¨å¤–éƒ¨è°ƒç”¨çš„æ—¶å€™èµ‹å€¼å°±è¡Œäº†ï¼Œä¸è¿‡éœ€è¦æ³¨æ„ï¼Œæœ€å¥½åœ¨å¤–éƒ¨ä½¿ç”¨åˆ° view ä¹‹å‰ç»™ viewSize èµ‹å€¼ï¼Œå°½ç®¡å·²ç»å®ç°äº† setViewSize æ–¹æ³•ï¼ 12345678910111213141516171819202122232425// è¿™ä¸ª fetch æ–¹æ³•æ˜¯æ ¹æ®ç´¢å› æ‰¾å‡ºå¯¹åº”æ§åˆ¶å™¨çš„ï¼Œå¦‚æœæ˜¯åˆšåˆ›å»ºçš„å°±éœ€è¦æ·»åŠ ä¸ºå­æ§åˆ¶å™¨- (UIViewController *)fetchAControllerwidthIndex:(NSUInteger)idx&#123; if (idx &gt;= self.btnArr.count) &#123; return nil; &#125; BLBaseViewController *vc = self.controllers[idx]; if ([vc isKindOfClass:[UIViewController class]]) &#123; return vc; &#125;else&#123; //!!!åˆ›å»ºæ§åˆ¶å™¨ vc = (BLBaseViewController *)[self createViewControllerwidthIndex:idx]; if (vc) &#123; //!!! è®¿é—® view å±æ€§ä¹‹å‰æŒ‡å®š view çš„å¤§å° vc.viewSize = _contentView.bounds.size; //!!! æ·»åŠ æ§åˆ¶å™¨å’Œ view [self addChildViewController:vc]; [self.contentView addSubview:vc.view]; //!!! è¿™ä¸ªæ˜¾ç„¶å°±æ²¡ä»€ä¹ˆç”¨äº†ï¼›vc.view.frame = _contentView.bounds; [self.controllers replaceObjectAtIndex:idx withObject:vc]; &#125; return vc; &#125;&#125; è¿™æ ·ä¸€æ¥æˆ‘å°±å¯ä»¥å‚è€ƒçˆ¶è§†å›¾å†™æˆ‘çš„å­æ§åˆ¶å™¨äº†ï¼Œç”±äºé¡µé¢å‡ ä¹ä¸€æ ·ï¼Œæ‰€ä»¥æŠ½å–äº†çˆ¶ç±»ï¼Œé¡µé¢å¸ƒå±€éƒ½æ˜¯åœ¨çˆ¶ç±»å®Œæˆçš„ï¼Œé€»è¾‘ç»Ÿä¸€å¤„ç†ï¼Œä¸¤ä¸ªå­ç±»å°±å‰©ä¸‹å¯¥å¯¥æ•°è¡Œè€Œå·²ï¼ åŠ äº†ä¸€ä¸ªå±æ€§ï¼Œä½¿ç”¨æ–¹æ³•ä¸€æ ·ï¼Œè¿˜æ˜¯åœ¨å¤–éƒ¨æŒ‡å®šå¤§å°ï¼Œæœ€é‡è¦çš„æ˜¯å†…éƒ¨å¯ä»¥å‚è€ƒäº†ï¼è¿™è¾¾åˆ°äº†æˆ‘é¢„æœŸçš„è¦æ±‚äº†ï¼ç»è¿‡åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ï¼Œæ„Ÿè§‰æ¯”è¾ƒç†æƒ³ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"ACM-è¿‡æ²³é—®é¢˜","slug":"2015/08/12-acm-guo-he-wen-ti","date":"2015-08-12T05:40:04.000Z","updated":"2018-03-27T14:45:15.683Z","comments":true,"path":"2015/08/12/2015/08/12-acm-guo-he-wen-ti.html","link":"","permalink":"http://debugly.cn/2015/08/12/2015/08/12-acm-guo-he-wen-ti.html","excerpt":"","text":"åœ¨æˆ‘çš„ä¸€ä¸ªç¾¤é‡Œï¼Œå°ä¼™ä¼´å‘äº†ä¸€é“é¢˜ï¼Œè€ƒå¯Ÿä¸‹ç®—æ³•ï¼Œè‡ªå·±è¯•ç€æƒ³äº†æƒ³ï¼Œæ‹¿å‡ºæ¥ä¸€èµ·çœ‹ä¸‹å§ï¼Œä¸‹é¢æ˜¯é¢˜ç›®ï¼š åœ¨æ¼†é»‘çš„å¤œé‡Œï¼ŒN ä½æ—…è¡Œè€…æ¥åˆ°äº†ä¸€åº§ç‹­çª„è€Œä¸”æ²¡æœ‰æŠ¤æ çš„æ¡¥è¾¹ã€‚å¦‚æœä¸å€ŸåŠ©æ‰‹ç”µç­’çš„è¯ï¼Œå¤§å®¶æ˜¯æ— è®ºå¦‚ä½•ä¹Ÿä¸æ•¢è¿‡æ¡¥å»çš„ã€‚ä¸å¹¸çš„æ˜¯ï¼ŒN ä¸ªäººä¸€å…±åªå¸¦äº†ä¸€åªæ‰‹ç”µç­’ï¼Œè€Œæ¡¥çª„å¾—åªå¤Ÿè®©ä¸¤ä¸ªäººåŒæ—¶è¿‡ã€‚å¦‚æœå„è‡ªå•ç‹¬è¿‡æ¡¥çš„è¯ï¼ŒN äººæ‰€éœ€è¦çš„æ—¶é—´å·²çŸ¥ï¼›è€Œå¦‚æœä¸¤äººåŒæ—¶è¿‡æ¡¥ï¼Œæ‰€éœ€è¦çš„æ—¶é—´å°±æ˜¯èµ°å¾—æ¯”è¾ƒæ…¢çš„é‚£ä¸ªäººå•ç‹¬è¡ŒåŠ¨æ—¶æ‰€éœ€çš„æ—¶é—´ã€‚é—®é¢˜æ˜¯ï¼Œå¦‚ä½•è®¾è®¡ä¸€ä¸ªæ–¹æ¡ˆï¼Œè®©è¿™ N äººå°½å¿«è¿‡æ¡¥ã€‚ï¼ˆ ACM éš¾åº¦ç³»æ•° ï¼š5ï¼‰ åˆ†æé—®é¢˜é¢å¯¹æ¯«æ— å¤´ç»ªçš„é—®é¢˜åªèƒ½æ…¢æ…¢åˆ†æå–½ï¼Œé¦–å…ˆæŠŠ N ä¸ªäººéœ€è¦çš„æ—¶é—´æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ T[n] é‡Œé¢å§ï¼Œæ—¶é—´çš„é•¿çŸ­æ˜¯ä¸å®šçš„ï¼Œå› æ­¤å…ˆæ’ä¸ºå‡åºï¼›æ—¢ç„¶æ˜¯ N ä¸ªäººï¼Œé‚£å°±ä» N = 1å¼€å§‹åˆ†æï¼Œæ‰¾æ‰¾è§„å¾‹å§ï¼š 1234N ï¼ 1ï¼› å½“ç„¶éœ€è¦èŠ±è´¹ T[0] å–½ï¼ˆæ•°ç»„ä¸‹æ ‡ä» 0 å¼€å§‹ï¼‰ï¼›N ï¼ 2ï¼› éœ€è¦èŠ±è´¹ T[0] ï¼‹ T[1]ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªäººä¸€èµ·è¿‡å»ï¼›N ï¼ 3ï¼› éœ€è¦èŠ±è´¹ T[0] ï¼‹ T[1] ï¼‹ T[2]; å¾ˆå®¹æ˜“æƒ³åˆ°çš„æ˜¯è®©æœ€å¿«é‚£ä¸ªäººå»é€æœ€æ…¢çš„é‚£ä¸ªèŠ±è´¹äº† T[2]ï¼›ä»–è¿”å›æ¥èŠ±è´¹äº† T[0]ï¼Œç„¶åæœ€å¿«çš„è¿™ä¸ªå’Œå‰©ä¸‹çš„è¿™ä¸ªé€Ÿåº¦ä¸æ˜¯å¾ˆå¿«çš„ä¸€èµ·è¿‡å»èŠ±è´¹äº† T[1]ï¼›N ï¼ 4ï¼› è¿™ä¸ªæ€ä¹ˆè¿‡ï¼Ÿé™·å…¥æ²‰æ€ä¹‹ä¸­... è¿™é“é¢˜ç›®çš„è¯´ç™½äº†å°±æ˜¯é€äººï¼Œæ—¶é—´ç”±æœ€æ…¢çš„é‚£ä¸ªäººå†³å®šï¼Œè€Œä¸”é€å®Œä¸€ä¸ªï¼Œè¿˜è¦è¿”å›æ¥æ¥ç€é€ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸å¯èƒ½è®©ä¸€ä¸ªèµ°çš„æ…¢çš„äººæ¥å……å½“è¿™ä¸ªâ€˜æ‘†æ¸¡â€™çš„ï¼Œæ—¢ç„¶å¦‚æ­¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä»èµ°çš„æ…¢çš„äººä¸‹æ‰‹å§ï¼Œå› ä¸ºä»–ä¸èƒ½å……å½“â€˜æ‘†æ¸¡â€™çš„ï¼Œé‚£ä¹ˆä»–æ—©æ™šéƒ½è¦â€˜åèˆ¹â€™èµ°å‘€ï¼Œæ‰€ä»¥ N ï¼ 4 å°±è½¬åŒ–ä¸ºèŠ±æœ€å°‘çš„æ—¶é—´é€èµ°â€˜åèˆ¹â€™çš„ï¼›ï¼ˆä¸ºäº†ç®€åŒ–æè¿°ï¼ŒæŒ‰ç…§æ—¶é—´å‡åºçš„é¡ºåºå°†4äººå‘½åä¸ºa,b,c,dï¼‰ä¸‹é¢åˆ†æä¸‹ï¼š æ ¹æ® N = 3 çš„ç»éªŒï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°è®© a å»é€æ¯ä¸€ä¸ªäººï¼Œé€å®Œä¸€ä¸ªå°±è¿”å›ï¼Œæ¥ç€é€æœ€æ…¢çš„ï¼Œå¦‚æ­¤3æ¬¡ï¼› å¯æ˜¯è¿˜æœ‰ä¸€ç§é€æ³•ï¼Œa é€ b,a å›æ¥ï¼›c é€ dï¼Œb å›æ¥ï¼›a é€ bï¼Œä¹Ÿå¯ä»¥ï¼Œè€Œä¸”æ—¶é—´ä¸ä¸€å®šå“ªä¸ªçŸ­ï¼Œå› æ­¤è¦æ¯”è¾ƒä¸‹å“ªä¸ªçŸ­ï¼› 4ä¸ªäººä¸å¯èƒ½å°±è¿™ä¸¤ç§é€æ³•å•Šï¼Œè¿˜æœ‰åˆ«çš„ï¼Œä¸è¿‡æ—¶é—´éƒ½è¦æ¯”è¿™ä¸¤ä¸ªé•¿ï¼› å½“ N &gt; 4 å‘¢ï¼Ÿå…¶å®æ ¹æ® N = 4 çš„æƒ…å†µæ¥çœ‹ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¦‚ä½•å…ˆé€èµ°æœ€æ…¢çš„çš„2ä¸ªäººçš„é—®é¢˜ï¼Œå› æ­¤ N &gt; 4 çš„æ—¶å€™ï¼Œå…ˆä¸è€ƒè™‘ä¸­é—´çš„ï¼ŒæŠŠæœ€å¿«çš„ï¼Œæ¬¡å¿«çš„ï¼Œæœ€æ…¢çš„ï¼Œæ­¤æ…¢çš„æ‹¿å‡ºæ¥æ‘†æ¸¡ï¼Œç„¶åé—®é¢˜å°±å˜æˆäº† N - 2 çš„é—®é¢˜äº†ï¼å½“ç„¶å¯ä»¥å†™ä¸ªé€’å½’äº†ï¼ ä¸‹é¢æ˜¯ä¸»è¦ä»£ç 123456789101112131415161718int sumTimeNeed = 0;while (size &gt; 3) &#123; int time1 = a[1] + a[0] + a[size-1] + a[1] ; int time2 = a[size-1] + a[0] + a[size-2] + a[0]; size -= 2; sumTimeNeed += MIN(time1, time2);&#125;if (size == 3) &#123; sumTimeNeed += a[0] + a[1] + a[2];&#125;else if (size == 2)&#123; sumTimeNeed += a[1];&#125;else if (size == 1)&#123; sumTimeNeed += a[0];&#125;return sumTimeNeed; æ¬¢è¿å»æˆ‘çš„ GitHub å»ºè®® NYOJ_47 acäº†å¾ˆå¤š è“é£æŠ€æœ¯éƒ¨è½æ ¼ 1.æœ€å¤è€çš„è¿‡æ²³é—®é¢˜ ä¸€ä¸ªå†œæ°‘æºå¸¦ä¸€åªç‹¼ï¼Œä¸€åªç¾Šå’Œä¸€æ£µç™½èœï¼Œè¦å€ŸåŠ©ä¸€æ¡å°èˆ¹è¿‡æ²³ã€‚å°èˆ¹ä¸Šé™¤äº†å†œæ°‘åªèƒ½å†å¸¦ç‹¼ã€ç¾Šã€ç™½èœä¸­çš„ä¸€æ ·ã€‚è€Œå†œæ°‘ä¸åœ¨æ—¶ï¼Œç‹¼ä¼šåƒç¾Šï¼Œç¾Šä¼šåƒç™½èœã€‚å†œæ°‘æœ€å°‘éœ€è¦å‡ è¶Ÿæ‰èƒ½å®‰å…¨è¿‡æ²³å‘¢ï¼Ÿ 2.äººé¬¼æ®Šé€” ä¸‰ä¸ªé¬¼ä¸ä¸‰ä¸ªäººéƒ½è¦è¿‡æ²³ã€‚æ²³ä¸­åªæœ‰ä¸€æ¡å°èˆ¹ï¼Œå¯å®¹ä¸¤äºº(é¬¼)ã€‚è€Œä¸”æ— è®ºåœ¨èˆ¹ä¸Šæˆ–åœ¨å²¸ä¸Šï¼Œæ¯è¾¹çš„é¬¼æ•°é‡å¦‚æœå¤šäºäºº,é¬¼å°±ä¼šæŠŠäººåƒæ‰ã€‚æœ€å°‘éœ€è¦å‡ è¶Ÿæ‰èƒ½å®‰å…¨è¿‡æ²³ 3.é“å£«ä¸å’Œå°š å››ä¸ªé“å£«ä¸å››ä¸ªå’Œå°šå››ä¸ªè€é“å£«ä¸å››ä¸ªå’Œå°šåˆ†åˆ«åœ¨ä¸€æ¡æ²³çš„ä¸¤å²¸ï¼Œéƒ½è¦åˆ°æ²³çš„å¯¹å²¸å»ã€‚æ²³ä¸­åªæœ‰ä¸€æ¡å°èˆ¹ï¼Œå¯å®¹ä¸¤äººã€‚åªæœ‰ä¸€ä¸ªé“å£«å’Œä¸€ä¸ªå’Œå°šä¼šåˆ’èˆ¹ã€‚è€Œä¸”æ— è®ºåœ¨èˆ¹ä¸Šæˆ–åœ¨å²¸ä¸Šï¼Œé“å£«çš„æ•°é‡éƒ½ä¸èƒ½è¶…è¿‡å’Œå°šçš„æ•°é‡ã€‚æœ€å°‘éœ€è¦å‡ è¶Ÿæ‰èƒ½å®‰å…¨è¿‡æ²³ 4.å¤«å¦»è¿‡æ²³ ä¸¤å¯¹å¤«å¦»ä¸¤å¯¹å¤«å¦»è¦è¿‡æ²³ï¼Œæ²³ä¸­åªæœ‰ä¸€æ¡å°èˆ¹ï¼Œå¯å®¹ä¸¤äººã€‚ä¸¤ä¸ªä¸ˆå¤«éƒ½ä¸æ„¿è®©è‡ªå·±çš„å¦»å­å’Œå¦ä¸€ä¸ªç”·äººåœ¨ä¸€èµ·ï¼Œé™¤éè‡ªå·±ä¹Ÿåœ¨åœºã€‚æœ€å°‘éœ€è¦å‡ è¶Ÿæ‰èƒ½å®‰å…¨è¿‡æ²³ï¼Ÿ 5.ä¸€å®¶äººåŠè­¦å¯Ÿä¸çŠ¯äºº ç°æœ‰ä¸€æ¡æ²³ï¼Œå…±æœ‰å…«ä¸ªäººè¦è¿‡æ²³ï¼Œåˆ†åˆ«æ˜¯çˆ¸çˆ¸ï¼Œå¦ˆå¦ˆï¼Œä¸¤ä¸ªå„¿å­ï¼Œä¸¤ä¸ªå¥³å„¿ï¼Œä¸€ä¸ªè­¦å¯Ÿï¼Œä¸€ä¸ªçŠ¯äººï¼ç°æœ‰ä¸€æ¡æœ¨ä¼ï¼Œä¸€æ¬¡æœ€å¤šè½½ä¸¤ä¸ªäººï¼Œåœ¨è¿™å…«ä¸ªäººä¸­ï¼Œæœ‰å¦ˆå¦ˆï¼Œçˆ¸çˆ¸ï¼Œè­¦å¯Ÿä¼šå¼€èˆ¹ï¼Œå³è¿™ä¸ªèˆ¹ä¸Šå¿…é¡»æœ‰çˆ¸çˆ¸ï¼Œå¦ˆå¦ˆï¼Œè­¦å¯Ÿä¸‰ä¸ªä¸­çš„ä¸€ä¸ªï¼Œèˆ¹æ‰ä¼šå¼€åŠ¨ï¼èˆ¹è¿‡å»æ— æ³•è‡ªåŠ¨å›æ¥ï¼å¹¶ä¸”è¦é¿å…ä»¥ä¸‹ä¸‰ä»¶äº‹å‘ç”Ÿï¼Œï¼‘ï¼Œè­¦å¯Ÿä¸åœ¨çŠ¯äººä¼šä¼¤å®³ä¸€å®¶å…­å£ï¼ï¼’ï¼Œçˆ¸çˆ¸ä¸åœ¨ï¼Œå¦ˆå¦ˆä¼šä¼¤å®³å„¿å­ï¼ï¼“ï¼Œå¦ˆå¦ˆä¸åœ¨ï¼Œçˆ¸çˆ¸ä¼šä¼¤å®³å¥³å„¿ï¼æœ€å°‘éœ€è¦å‡ è¶Ÿæ‰èƒ½å®‰å…¨è¿‡æ²³ 6.è™æ¯’ä¸é£Ÿå­ ä¸‰åªå¤§è€è™Aã€Bã€Cå’Œå„è‡ªçš„å°è€è™a.b.cï¼›å…¶ä¸­åªæœ‰Aã€Bã€Cå’Œaä¼šåˆ’èˆ¹ï¼›å¦‚æœå°è€è™ä¸å’Œè‡ªå·±çš„æ¯äº²åœ¨ä¸€èµ·å°±ä¼šè¢«å…¶ä»–å¤§è€è™åƒæ‰ï¼›åªæœ‰ä¸€æ¡èˆ¹ï¼›èˆ¹ä¸Šå¯ä»¥åä¸€åªå¤§è€è™å’Œä»»æ„çš„å°è€è™ï¼›é—®ï¼šæœ€å°‘éœ€è¦å‡ è¶Ÿæ‰èƒ½å®‰å…¨è¿‡æ²³ 7.å…«ä»™è¿‡æµ· é“æ‹æ ã€æ±‰é’Ÿç¦» ã€ å¼ æœè€ ã€è“é‡‡å’Œ ã€ ä½•ä»™å§‘ ã€ å•æ´å®¾ ã€ éŸ©æ¹˜å­ ã€ æ›¹å›½èˆ…ä¸€åŒè¿‡æµ·ã€‚å°èˆ¹åªèƒ½å®¹ä¸‹ä¸‰äººï¼Œè€Œä¸”åªæœ‰é“é“æ‹æ ã€æ±‰é’Ÿç¦»ã€éŸ©æ¹˜å­ä¼šåˆ’èˆ¹ã€‚å¦‚æœéŸ©æ¹˜å­ä¸åœ¨ï¼Œæ›¹å›½èˆ…ä¼šæ”»å‡»æ‰€æœ‰äººï¼›å¦‚æœé“æ‹æä¸åœ¨ï¼Œæ±‰é’Ÿç¦»ä¼šæ”»å‡»å¼ æœè€å’Œè“é‡‡å’Œï¼›å¦‚æœæ±‰é’Ÿç¦»ä¸åœ¨ï¼Œé“æ‹æä¼šæ”»å‡»ä½•ä»™å§‘ ã€ å•æ´å®¾ã€‚è¯·é—®æœ€å°‘éœ€è¦å‡ è¶Ÿæ‰èƒ½å®‰å…¨è¿‡æµ·ï¼Ÿ æœ‰å…´è¶£çš„å¿«å» AC å§ï¼","categories":[],"tags":[{"name":"Other","slug":"Other","permalink":"http://debugly.cn/tags/Other/"}]},{"title":"æ— é™å¾ªç¯è½®æ’­å›¾","slug":"2015/07/30-wo-xie-de-lun-bo-tu","date":"2015-07-30T03:09:45.000Z","updated":"2018-03-27T14:45:15.683Z","comments":true,"path":"2015/07/30/2015/07/30-wo-xie-de-lun-bo-tu.html","link":"","permalink":"http://debugly.cn/2015/07/30/2015/07/30-wo-xie-de-lun-bo-tu.html","excerpt":"","text":"æˆ‘ä»¬çš„ App è¦å±•ç¤ºå¹¿å‘Šï¼Œå½¢å¼ä¸ºå‡ å¼ å¾ªç¯æ»šåŠ¨çš„å›¾ç‰‡ï¼Œä¿—ç§° Bannerï¼Œè¿™é‡Œæˆ‘ç§°ä¹‹ä¸ºè½®æ’­å›¾ã€‚ æˆ‘å†™äº†ä¸¤ä¸ªç‰ˆæœ¬ä¸€ä¸ª EY ç‰ˆå’Œä¸€ä¸ª EZ ç‰ˆï¼ŒåŒºåˆ«æ˜¯å®ç°æ–¹å¼çš„ä¸åŒï¼šEY ä½¿ç”¨ ScrollerViewï¼Œæœ€å¤šä¼šæœ‰ 3 ä¸ªå­ view ï¼ŒEZ ä½¿ç”¨ CollectionViewï¼Œå¥¹æœ‰é‡ç”¨æœºåˆ¶ï¼Œæ‰€ä»¥æœ€å¤šä¼šæœ‰ 2 ä¸ªå­ viewï¼›è½®æ’­çš„è§¦å‘ä½¿ç”¨äº†å®šæ—¶å™¨ï¼Œè¿™ä¸ªå·²ç»è§£å†³äº†å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œç›´æ¥ä½¿ç”¨äº†ï¼Œä¸æ¸…æ¥šçš„å¯ä»¥ç§»æ­¥ è¿™é‡Œ ï¼ä¸‹é¢åˆ†åˆ«ä»‹ç»ä¸‹ï¼š EY å®ç°æ€è·¯åœ¨ ScrollView ä¸Šæ·»åŠ  3 å¼  ImageView å±•ç¤ºå›¾ç‰‡ï¼Œä¸ºäº†èŠ‚çœå†…å­˜ï¼Œæ‰€ä»¥æœ€å¤šåˆ›å»º 3 å¼ å°±è¡Œäº†(å…¶å® 2 å¼ ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œè¿™ä¸ªåç»­ç»§ç»­ä¼˜åŒ–ï¼Œç‰ˆæœ¬ä¸”å®šä¸º EYS ï¼Œå“ˆå“ˆå¥¹æ˜¯ EY çš„åŠ å¼ºç‰ˆ)ï¼ æ¯”å¦‚ç°åœ¨æœ‰6å¼ ï¼ˆï¼»1,2,3,4,5,6ï¼½ï¼‰å›¾ç‰‡éœ€è¦æ˜¾ç¤ºï¼Œé‚£ä¹ˆé¦–å…ˆæˆ‘ä¼šé…ç½®å‡ºæ¥éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡ç´¢å¼•ï¼Œæ”¾åœ¨ä¸€ä¸ªæ•°ç»„é‡Œï¼»6ï¼Œ1ï¼Œ2ï¼½å½“ä½œæ•°æ®æºï¼Œç„¶åè°ƒæ•´åç§»é‡è®© ScrollView æ»šåŠ¨åˆ°ä¸­é—´ï¼Œé‚£ä¹ˆçœ‹åˆ°çš„å°±æ˜¯ç¬¬ä¸€å¼ äº†ï¼Œæ­¤æ—¶å‘å³æ»‘åŠ¨çœ‹åˆ°æœ€åä¸€å¼ ï¼Œå‘å·¦æ»‘åŠ¨çœ‹åˆ°ç¬¬äºŒå¼ ï¼›å¦‚ä¸‹æµç¨‹ï¼š * ScrollView æ»šåŠ¨åˆ°ä¸­é—´æ˜¾ç¤ºï¼»1ï¼½ï¼Œæ•°æ®æºé‡Œä¸ºï¼»6ï¼Œ1ï¼Œ2ï¼½ï¼Œåˆ·æ–°è§†å›¾ï¼Œæ­¤æ—¶å¯ä»¥æ»‘åŠ¨ * å‘å³æ»‘åŠ¨æ˜¾ç¤ºï¼»6ï¼½ä¹‹åå°±é‡æ–°é…ç½®ä¸ºï¼»5ï¼Œ6ï¼Œ1ï¼½,ç„¶ååˆ·æ–°è§†å›¾è®© ScrollView æ»šåŠ¨åˆ°ä¸­é—´ * å‘å·¦æ»‘åŠ¨æ˜¾ç¤ºï¼»2ï¼½ä¹‹åå°±é‡æ–°é…ç½®ä¸ºï¼»1ï¼Œ2ï¼Œ3ï¼½,ç„¶ååˆ·æ–°è§†å›¾è®© ScrollView æ»šåŠ¨åˆ°ä¸­é—´ åŒæ—¶è¿˜éœ€è¦å¤„ç†ä¸€å¼ å›¾ç‰‡çš„æƒ…å†µï¼Œå¦‚æœå°± 1 å¼ ï¼Œé‚£ä¹ˆä¸å¯æ»‘åŠ¨ï¼Œæ•°æ®æºä¸ºï¼»1ï¼½ï¼› å¯ä»¥çœ‹å‡ºï¼Œä¸­é—´é‚£ä¸€å¼ æ˜¯å½“å‰çœ‹åˆ°çš„ï¼Œä»–çš„å·¦å³ä¸¤ä¾§ä¼šæ”¾ä¸Šåˆé€‚çš„å›¾ç‰‡ï¼Œè¿™æ ·æ»‘åŠ¨çš„æ—¶å€™å°±æ„Ÿè§‰åƒæ˜¯ä¸€ç›´åœ¨å¾ªç¯â™»ï¸ä¸€æ ·äº†ï¼› å…ˆçœ‹ä½¿ç”¨æ–¹æ³•å§123456789101112EYCarouseImageView *carouseY = [[EYCarouseImageView alloc]initWithFrame:CGRectMake(0, 20, self.view.bounds.size.width, 240) animationDuration:3];[carouseY resetEasyURLArr:@[@\"http://pic.nipic.com/2007-11-09/2007119122519868_2.jpg\", @\"http://pic26.nipic.com/20121223/9252150_195341264315_2.jpg\", @\"http://b.hiphotos.baidu.com/album/pic/item/cb8065380cd79123c6f9b8dead345982b2b7807a.jpg?psign=c6f9b8dead345982b2b7d0a20cf431adcaef76094b36a442\", @\"http://pic.nipic.com/2007-11-09/2007119121849495_2.jpg\"]];[self.view addSubview:carouseY];[carouseY didClickedEYCarouseImageView:^(NSUInteger idx) &#123; NSLog(@\"----%lu\",(unsigned long)idx);&#125;]; å†…éƒ¨å®ç° é…ç½®ä¸‹ ScrollView,æ·»åŠ æ‰‹åŠ¿å¤„ç†ç‚¹å‡»ï¼›æ³¨å†Œå†…å­˜è­¦å‘Šâš çš„é€šçŸ¥ï¼› å¤„ç†æ§åˆ¶è½®æ’­çš„å±æ€§: autoScrollTimeInterval,allowAutoScroll; é…ç½®å®šæ—¶å™¨: 12345678//ä¸€ä¸ªæ—¶é—´é—´éš”åå¼€å§‹è½®æ’­- (void)resumeAutoScroll//é”€æ¯å®šæ—¶å™¨- (void)invalidateTimer//é‡ç½®timerï¼›- (void)resetTimer//å®šæ—¶å™¨è§¦å‘çš„è‡ªåŠ¨è½®æ’­ï¼›- (void)autoScrollLoop å‡†å¤‡æ•°æ®æº 12345678910111213141516171819202122232425//è·å–ä¸‹ä¸€ä¸ªå¯ç”¨çš„ç´¢å¼•- (NSInteger)getValidNextPageIndexWithPageIndex:(NSInteger)currentPageIndex &#123; if(currentPageIndex == -1) &#123; return self.totalCount - 1; &#125; else if (currentPageIndex == self.totalCount) &#123; return 0; &#125; else &#123; return currentPageIndex; &#125;&#125;//å‡†å¤‡å½“å‰éœ€è¦æ˜¾ç¤ºçš„ç´¢å¼•æ•°ç»„ï¼›- (NSArray *)prepareNeedShowPageIdxArr&#123; NSArray *idxArr = nil; if (_urlArr.count == 1) &#123; idxArr = @[@(0)]; &#125;else&#123; NSInteger prevPageIndex = [self getValidNextPageIndexWithPageIndex:self.currentIdx - 1]; NSInteger nestPageIndex = [self getValidNextPageIndexWithPageIndex:self.currentIdx + 1]; idxArr = @[@(prevPageIndex),@(self.currentIdx),@(nestPageIndex)]; &#125; return idxArr;&#125; åˆ·æ–°çš„è§†å›¾çš„æ—¶å€™éœ€è¦æ›´æ–°å›¾ç‰‡ 1234567891011121314151617181920212223242526- (void)updateImage4URLIdx:(NSUInteger)uidx&#123; NSNumber *idxNum = [self.showURLIdxMap objectForKey:[self getMapKey:uidx]]; if (idxNum) &#123; NSUInteger idx = [idxNum integerValue]; UIImageView *imgView = self.contentViewArr[idx]; NSString *url = self.urlArr[uidx]; UIImage *img = [[SDImageCache sharedImageCache]imageFromMemoryCacheForKey:url]; if (img) &#123; imgView.image = img; &#125;else&#123; imgView.image = self.placeHolderImage; // å†…å­˜é‡Œæ²¡æœ‰ï¼Œå°±æŸ¥æœ¬åœ°ï¼› __weak __typeof(self)weakSelf = self; [[SDImageCache sharedImageCache]queryDiskCacheForKey:url done:^(UIImage *image, SDImageCacheType cacheType) &#123; // æŸ¥åˆ°äº†å°±æ”¾å†…å­˜ï¼Œåˆ·æ–°ä¸‹viewï¼› __strong __typeof(weakSelf)strongSelf = weakSelf; if (image &amp;&amp; strongSelf) &#123; [strongSelf updateImage4URLIdx:uidx]; &#125; &#125;]; &#125; &#125;&#125; é‡å†™æ•°æ®æºå¤„ç†å¿…è¦çš„æ“ä½œ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051- (void)setUrlArr:(NSArray *)urlArr&#123; // copyä¸ªæ–°çš„ï¼Œé˜²æ­¢å¤–éƒ¨æ”¹å˜äº†ï¼Œå½±å“äº†è½®æ’­å›¾ _urlArr = [urlArr copy]; self.totalCount = _urlArr.count; self.currentIdx = 0; self.scrollEnabled = self.totalCount &gt; 1;// é…ç½®å­viewï¼› [self prepareScrollViewContentDataSource]; if (self.totalCount &gt; 0) &#123;// æ›´æ–°å­viewæ˜¾ç¤ºçš„å›¾ç‰‡ï¼› [self updateSubViews]; &#125; // é‡è®¾ä¸‹ï¼Œæ›´æ–°è‡ªåŠ¨è½®æ’­çš„çŠ¶æ€ï¼› self.allowAutoScroll = self.allowAutoScroll; // ä¸‹è½½å›¾ç‰‡ï¼› for (int i = 0; i &lt; _urlArr.count; i ++) &#123; NSString *url = _urlArr[i]; __weak __typeof(self)weakSelf = self; [[SDWebImageManager sharedManager]downloadImageWithURL:[NSURL URLWithString:url] options:0 progress:NULL completed:^(UIImage *image, NSError *error, SDImageCacheType cacheType, BOOL finished, NSURL *imageURL) &#123; // æ›´æ–°ä¸‹å½“å‰æ˜¾ç¤ºçš„å›¾ç‰‡ï¼› __strong __typeof(weakSelf)strongSelf = weakSelf; if (strongSelf &amp;&amp; image) &#123; if (i &lt; strongSelf.urlArr.count) &#123; [strongSelf updateImage4URLIdx:i]; &#125; &#125; &#125;]; &#125;&#125;- (void)updateSubViews&#123; NSArray *idxArr = [self prepareNeedShowPageIdxArr]; NSInteger counter = 0; for (NSNumber *tempNumber in idxArr) &#123; NSInteger tempIndex = [tempNumber integerValue]; [self.showURLIdxMap setObject:@(counter) forKey:[self getMapKey:tempIndex]]; [self updateImage4URLIdx:tempIndex]; counter++; &#125; // æ˜¾ç¤ºä¸­é—´çš„ï¼› if (self.totalCount &gt; 1) &#123; [self setContentOffset:CGPointMake(self.frame.size.width, 0)]; &#125;&#125; é‡æ–°é…ç½®æ•°æ®æºé€»è¾‘ 12345678910- (void)scrollViewDidScroll:(UIScrollView *)scrollView&#123; CGFloat contentOffsetX = scrollView.contentOffset.x; if(contentOffsetX &gt;= (2 * CGRectGetWidth(scrollView.frame))) &#123; [self showNextPage]; &#125;else if(contentOffsetX &lt;= 0) &#123; [self showPreviousPage]; &#125;&#125; å¤„ç†ç‚¹å‡»äº‹ä»¶ 123456789101112- (void)tapScrollView:(UITapGestureRecognizer *)sender&#123; [self resumeAutoScroll]; if (self.DidClickedBlock) &#123; self.DidClickedBlock(self.currentIdx); &#125; if (self.carouseDelegate &amp;&amp; [self.carouseDelegate respondsToSelector:@selector(eyCarouseImageView:didClickedImageView:)]) &#123; [self.carouseDelegate eyCarouseImageView:self didClickedImageView:self.currentIdx]; &#125;&#125; EZ å®ç°æ€è·¯æ€è·¯å’ŒEYæ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡è¿™ä¸ªä½¿ç”¨ CollectionView æ¥å®ç°ï¼Œæ•°æ®æºçš„é…ç½®æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯å‡å°‘äº†ä¸€ä¸ªå±•ç¤ºå›¾ç‰‡çš„ ImageView ï¼ ä½¿ç”¨æ–¹æ³•ï¼š123456789101112EZCarouseImageView *carouse = [[EZCarouseImageView alloc]initWithFrame:CGRectMake(0, 20, self.view.bounds.size.width, 240) animationDuration:3];[carouse resetEasyURLArr:@[@\"http://cdn.duitang.com/uploads/item/201110/09/20111009155438_ddWci.jpg\", @\"http://pic27.nipic.com/20130220/11588199_085521216128_2.jpg\", @\"http://a0.att.hudong.com/57/78/05300001208815130387782748704.jpg\", @\"http://pic29.nipic.com/20130506/3822951_101843891000_2.jpg\"]];[self.view addSubview:carouse];[carouse didClickedEZCarouseImageView:^(NSUInteger idx) &#123; NSLog(@\"--ç‚¹å‡»ï¼š--%lu\",(unsigned long)idx);&#125;]; å†…éƒ¨å®ç° é…ç½®ä¸‹collectionviewçš„Layoutï¼› 1234567891011121314151617- (instancetype)initWithFrame:(CGRect)frame&#123; UICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc]init]; layout.minimumLineSpacing = 0; layout.minimumInteritemSpacing = 0; layout.itemSize = frame.size; layout.sectionInset = UIEdgeInsetsZero; layout.scrollDirection = UICollectionViewScrollDirectionHorizontal; self = [super initWithFrame:frame collectionViewLayout:layout]; if (self) &#123; [self initialization]; [self registerMemoryWarningNotification]; &#125; return self;&#125; é…ç½®å®šæ—¶å™¨ æ³¨å†ŒMemoryWarningNotificationï¼›å†…å­˜è­¦å‘ŠååŠ è½½å½“å‰æ˜¾ç¤ºçš„å›¾ç‰‡ï¼› 12345678910111213141516- (void)registerMemoryWarningNotification&#123; [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(needLoadImageFromDisk2Memory) name:UIApplicationDidReceiveMemoryWarningNotification object:nil];&#125;//å†…å­˜è­¦å‘Šåï¼Œä»æœ¬åœ°åŠ è½½å½“å‰éœ€è¦æ˜¾ç¤ºçš„å›¾ç‰‡åˆ°å†…å­˜ï¼›- (void)needLoadImageFromDisk2Memory&#123; NSInteger idx = [self itemMapedURLidx:self.currentIdx]; if (idx != NSNotFound) &#123; [self fetchImageForCellWithURLidx:idx]; &#125;&#125; é‡å†™æ•°æ®æºå¤„ç†è·ŸEYç±»ä¼¼ 12345678910111213141516171819202122232425262728293031323334353637- (void)setUrlArr:(NSArray *)urlArr&#123; // copyä¸ªæ–°çš„ï¼Œé˜²æ­¢å¤–éƒ¨æ”¹å˜äº†ï¼Œå½±å“äº†è½®æ’­å›¾ _urlArr = [urlArr copy]; if (_urlArr &amp;&amp; _urlArr.count &gt; 0) &#123; self.currentIdx = 0; // æ›´æ–°æ˜ å°„çš„ç´¢å¼•ï¼› [self updateMapedIdx:[self prepareNeedShowPageIdxArr]]; [self reloadData]; if ([self totalCount] &gt; 1) &#123; self.scrollEnabled = YES; // æ˜¾ç¤ºç¬¬ä¸€å¼ ï¼›å‡å¦‚æœ‰nï¼ˆn &gt; 1ï¼‰å¸§ï¼Œé‚£ä¹ˆï¼»nï¼1ï¼Œ0ï¼Œ1ï¼½ [self scrollToItemAtIndexPath:[NSIndexPath indexPathForItem:1 inSection:0] atScrollPosition:UICollectionViewScrollPositionNone animated:NO]; &#125;else&#123; self.scrollEnabled = NO; &#125; // é‡è®¾ä¸‹ï¼Œæ›´æ–°è‡ªåŠ¨è½®æ’­çš„çŠ¶æ€ï¼› self.allowAutoScroll = self.allowAutoScroll; // ä¸‹è½½å›¾ç‰‡ï¼› for (NSString *url in _urlArr) &#123; __weak __typeof(self)weakSelf = self; [[SDWebImageManager sharedManager]downloadImageWithURL:[NSURL URLWithString:url] options:0 progress:NULL completed:^(UIImage *image, NSError *error, SDImageCacheType cacheType, BOOL finished, NSURL *imageURL) &#123; // æ›´æ–°ä¸‹å½“å‰æ˜¾ç¤ºçš„å›¾ç‰‡ï¼› __strong __typeof(weakSelf)strongSelf = weakSelf; if (strongSelf &amp;&amp; image) &#123; [strongSelf reloadItemsAtIndexPaths:[strongSelf indexPathsForVisibleItems]]; &#125; &#125;]; &#125; &#125;else&#123; // é‡è®¾ä¸‹ï¼Œæ›´æ–°è‡ªåŠ¨è½®æ’­çš„çŠ¶æ€ï¼› self.allowAutoScroll = self.allowAutoScroll; [self reloadData]; &#125;&#125; çœ‹ä¸‹UICollectionView çš„ DataSourceå§ 12345678910111213141516- (UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath&#123; EZCarouseCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:EZCarouseCellReuseIdentifier forIndexPath:indexPath]; // é€šè¿‡itemè·å–å¯¹åº”çš„æ•°ç»„ç´¢å¼•ï¼› NSInteger idx = [self itemMapedURLidx:indexPath.item]; UIImage *image = nil; if (idx != NSNotFound) &#123; image = [self fetchImageForCellWithURLidx:idx]; &#125; // æ‰¾ä¸åˆ°å›¾ç‰‡å°±ç”¨placeHolder if (!image &amp;&amp; self.placeHolderImage) &#123; image = self.placeHolderImage; &#125; cell.imgView.image = image; return cell;&#125; æ ¹æ®å›¾ç‰‡çš„æ•°é‡é…ç½®cellä¸ªæ•°ï¼› 12345678910- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section&#123; if ([self totalCount] == 1)&#123; return 1;//ä¸€ä¸ªä¸è®©æ»šåŠ¨ &#125;else if([self totalCount] &gt; 1)&#123; return 3;//è¶…è¿‡ä¸€ä¸ªå°±ç”¨3ä¸ªï¼Œç„¶åæ˜¾ç¤ºä¸­é—´çš„ &#125;else&#123; return 0; &#125;&#125; ä½•æ—¶æ›´æ–°mapçš„ç´¢å¼•ï¼Œæ›´æ–°æ˜¾ç¤ºçš„å›¾ç‰‡ï¼Ÿ 12345678910- (void)scrollViewDidScroll:(UIScrollView *)scrollView&#123; CGFloat contentOffsetX = scrollView.contentOffset.x; //æ˜¾ç¤ºäº†ç¬¬3ä¸ªitem,æˆ–è€…ç¬¬1ä¸ªitemæ—¶å°±è¦æ›´æ–°ä¸‹æ˜¾ç¤ºçš„å›¾ç‰‡ç´¢å¼•æ•°ç»„ if(contentOffsetX &gt;= (2 * CGRectGetWidth(scrollView.frame))) &#123; [self showNextPage];//è¿™ä¸ªä¼šæ›´æ–°è§†å›¾ &#125;else if(contentOffsetX &lt;= 0) &#123; [self showPreviousPage];//è¿™ä¸ªä¼šæ›´æ–°è§†å›¾ &#125;&#125; ç‚¹å‡»äº‹ä»¶ 123456789101112131415//ç‚¹å‡»æ”¯æŒä»£ç†å’Œblockå›è°ƒ- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath&#123; if (self.carouseDelegate &amp;&amp; [self.carouseDelegate respondsToSelector:@selector(ezCarouseImageView:didClickedImageView:)]) &#123; [self.carouseDelegate ezCarouseImageView:self didClickedImageView:[self itemMapedURLidx:indexPath.item]]; &#125; if (self.DidClickedBlock) &#123; self.DidClickedBlock([self itemMapedURLidx:indexPath.item]); &#125;&#125;- (void)didClickedEZCarouseImageView:(void (^)(NSUInteger))block&#123; self.DidClickedBlock = block;&#125; å®Œæ ¸å¿ƒçš„é€»è¾‘éƒ½åœ¨è¿™äº†ï¼Œæ¬¢è¿åœ¨ github ä¸Šæé—®é¢˜ï¼","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"å­¦ä¹ å¤šçº¿ç¨‹éœ€è¦æ˜ç™½çš„æ¦‚å¿µ","slug":"2015/07/20-xue-xi-duo-xian-cheng-xu-yao-ming-bai-de-gai-nian","date":"2015-07-20T02:20:11.000Z","updated":"2018-03-27T14:45:15.683Z","comments":true,"path":"2015/07/20/2015/07/20-xue-xi-duo-xian-cheng-xu-yao-ming-bai-de-gai-nian.html","link":"","permalink":"http://debugly.cn/2015/07/20/2015/07/20-xue-xi-duo-xian-cheng-xu-yao-ming-bai-de-gai-nian.html","excerpt":"","text":"å­¦ä¹ å¤šçº¿ç¨‹å¼€å‘å‰ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å¾ˆå¤šçš„æ¦‚å¿µï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ›¾ç»æ¯”è¾ƒå›°æƒ‘çš„ï¼Œè‡³å°‘åˆ«äººé—®æˆ‘çš„æ—¶å€™ï¼Œæˆ‘è¯´ä¸æ¸…æ¥šï¼Œä¸‹é¢å°±é’ˆå¯¹è¿™äº›æ¦‚å¿µæ€»ç»“ä¸‹ï¼š è¿›ç¨‹ æ“ä½œç³»ç»Ÿæ—©å·²ç»æ˜¯å¤šä»»åŠ¡çš„äº†ï¼Œæ—©æœŸå¥¹è¿˜æœ‰ä¸ªåå­—å«å¤šé“ç¨‹åºï¼›æ­£æ˜¯è¿™ä¸ªä¼Ÿå¤§çš„å‘æ˜ï¼Œæˆ‘ä»¬æ‰èƒ½äº«å—ä¸€è¾¹å¬æ­Œï¼Œä¸€è¾¹å†™æ–‡æ¡£ï¼Œä¸€è¾¹èŠå¤©çš„ä¹è¶£ï¼›å…¶å®æˆ‘ä»¬è¿è¡Œçš„ç¨‹åºéƒ½æ˜¯æ¥å›åˆ‡æ¢çš„ï¼Œåªä¸è¿‡é€Ÿåº¦è¿‡å¿«ï¼Œæˆ‘ä»¬æ— æ³•æ„ŸçŸ¥è€Œå·²ï¼Œå¦‚ä½•åˆ‡æ¢æ˜¯ç”±æ“ä½œä½“ç»Ÿè°ƒåº¦çš„ï¼Œæœ‰ç›¸åº”çš„è°ƒåº¦ç®—æ³•ã€‚æˆ‘ä»¬åªéœ€è¦æ˜ç™½åº”ç”¨ç¨‹åºå¼€å¯åï¼Œæ“ä½œç³»ç»Ÿä¼šä¸ºä¹‹å¼€è¾Ÿä¸€ä¸ªè¿›ç¨‹ï¼Œå¥¹æ‹¥æœ‰åœ°å€ç©ºé—´ï¼Œæ•°æ®ï¼Œä»¥åŠå„ç§èµ„æºç­‰ï¼Œå½“è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œè¿™äº›åˆ›å»ºçš„èµ„æºè¢«é”€æ¯ï¼Œç³»ç»Ÿçš„èµ„æºè¢«é‡Šæ”¾æˆ–è€…å…³é—­ã€‚è¿›ç¨‹ï¼ˆç¨‹åºï¼‰æ¯éš”ä¸€æ®µæ—¶é—´å°±ä¼šæš‚åœï¼Œä¿å­˜ä¸‹ä»–çš„å·¥ä½œç¯å¢ƒï¼Œç„¶åå¼€å§‹è¿è¡Œå¦å¤–ä¸€ä¸ªè¿›ç¨‹ï¼Œæ¢å¤ä»–çš„ç°åœºï¼Œæ‰§è¡Œè¿™ä¸ªè¿›ç¨‹çš„ä»»åŠ¡ï¼Œå°±è¿™æ ·å¾ªç¯çš„æš‚åœï¼Œæ¢å¤ï¼Œæš‚åœï¼Œæ¢å¤â€¦å¾ˆå¤šç³»ç»Ÿä½¿ç”¨çš„æ˜¯æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªè¿›ç¨‹ï¼ˆç¨‹åºï¼‰è¿è¡Œçš„æ—¶é—´æ˜¯å¹³å‡åˆ†é…çš„ï¼› ä½œä¸šè°ƒåº¦ç®—æ³•è¡¥å……ï¼š å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰,æœ€çŸ­ä½œä¸šä¼˜å…ˆæ³•ï¼ˆSJFï¼‰,æœ€é«˜å“åº”æ¯”ä¼˜å…ˆæ³•ï¼ˆHRNï¼‰,å®šæ—¶è½®è½¬æ³•,ä¼˜å…ˆæ•°æ³•,äº‹ä»¶é©±åŠ¨æ³•,å„ç§ä¸åŒç±»å‹ä½œä¸šæ­é…è°ƒåº¦ç®—æ³•ç­‰. çº¿ç¨‹ æˆ‘ä»¬å·²ç»çŸ¥é“äº†è¿›ç¨‹æ˜¯è¢«æ“ä½œç³»ç»Ÿè°ƒåº¦çš„å•ä½ï¼Œæ˜¯ä¸€ä¸ªåº”ç”¨çš„è±¡å¾ï¼Œè€Œçº¿ç¨‹æ—¶æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè°ƒåº¦çš„æœ€å°å•ä½ï¼Œä»–è¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹çš„å®é™…è¿ä½œå•ä½ï¼›ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥å¹¶å‘å¤šä¸ªçº¿ç¨‹ï¼Œæ¯æ¡çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼ŒUnix Systemä¸­ç§°ä¸ºè½»é‡çº§è¿›ç¨‹ï¼›ä¹Ÿå°±æ˜¯è¯´çº¿ç¨‹æ˜¯å±äºè¿›ç¨‹çš„ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹å…±äº«è¿›ç¨‹ä¸­çš„å…¨éƒ¨ç³»ç»Ÿèµ„æºï¼Œå¦‚è™šæ‹Ÿåœ°å€ç©ºé—´ï¼ŒIOï¼Œä¿¡å·ç­‰ï¼›ä½†åŒä¸€å’Œè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹æœ‰å„è‡ªçš„è°ƒç”¨æ ˆï¼Œè‡ªå·±çš„å¯„å­˜å™¨ç¯å¢ƒç­‰ï¼› å¤šçº¿ç¨‹:ç¨‹åºå¯åŠ¨åï¼Œç³»ç»Ÿä¸ºç¨‹åºåˆ›å»ºäº†ä¸€ä¸ªè¿›ç¨‹ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä¼šæœ‰ä¸€ä¸ªä¸»æ‰§è¡Œçº¿ç¨‹ï¼Œä¸”è¢«é»˜è®¤åˆ›å»ºï¼Œä¸ºäº†å……åˆ†åˆ©ç”¨CPUï¼Œæˆ‘ä»¬ä¹Ÿä¼šåˆ›å»ºçº¿ç¨‹ï¼Œåšä¸€äº›æƒ³åšçš„äº‹æƒ…ï¼Œè¿™æ ·å°±ä¼šå‡ºç°ä¸€ä¸ªè¿›ç¨‹åŒ…å«å¤šä¸ªçº¿ç¨‹çš„æƒ…å†µï¼› åœ¨å¤šæ ¸æˆ–å¤šCPUï¼Œæˆ–æ”¯æŒHyper-threadingçš„CPUä¸Šä½¿ç”¨å¤šçº¿ç¨‹ç¨‹åºè®¾è®¡çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§ï¼Œå³æé«˜äº†ç¨‹åºçš„æ‰§è¡Œååç‡ã€‚åœ¨å•CPUå•æ ¸çš„è®¡ç®—æœºä¸Šï¼Œä½¿ç”¨å¤šçº¿ç¨‹æŠ€æœ¯ï¼Œä¹Ÿå¯ä»¥æŠŠè¿›ç¨‹ä¸­è´Ÿè´£IOå¤„ç†ã€äººæœºäº¤äº’è€Œå¸¸å¤‡é˜»å¡çš„éƒ¨åˆ†ä¸å¯†é›†è®¡ç®—çš„éƒ¨åˆ†åˆ†å¼€æ¥æ‰§è¡Œï¼Œç¼–å†™ä¸“é—¨çš„workhorseçº¿ç¨‹æ‰§è¡Œå¯†é›†è®¡ç®—ï¼Œä»è€Œæé«˜äº†ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚ å¹¶å‘ å¯¹äºå•æ ¸CPUæ¥è¯´çš„ï¼Œæ“ä½œç³»ç»Ÿä¼šæŒ‰ç…§ä¸€å®šçš„è°ƒåº¦ç®—æ³•åˆ‡æ¢çº¿ç¨‹ï¼Œè®©å„ä¸ªçº¿ç¨‹éƒ½èƒ½æ‰§è¡Œçš„æ–¹å¼å«åšå¹¶å‘ã€‚æè¿°çš„æ˜¯ä»»åŠ¡ä¹‹é—´çš„å…³ç³»ã€‚ å¹¶è¡Œ å¯¹äºå¤šæ ¸çš„CPUæ¥è¯´ï¼Œå¯ä»¥åŒæ—¶è®©ä¸¤ä¸ªä»¥ä¸Šçš„çº¿ç¨‹åŒæ—¶è¿è¡Œï¼Œè¿™ç§æ‰§è¡Œæ–¹å¼å«åšå¹¶è¡Œã€‚ åŒæ­¥ã€å¼‚æ­¥ ä»–ä»¬æ˜¯æè¿°ä»»åŠ¡ä½•æ—¶è¿”å›ï¼ˆå®Œæˆï¼‰å’Œæ´¾å‘ä»»åŠ¡æ‰€åœ¨çº¿ç¨‹ä¹‹é—´çš„å…³ç³»é—®é¢˜çš„ï¼› æ¯”å¦‚åœ¨ä¸»çº¿ç¨‹ä½¿ç”¨xx()å‡½æ•°æ´¾å‘äº†ä¸€ä¸ªæ–°ä»»åŠ¡ï¼Œå¦‚æœåªæœ‰å½“xx()å‡½æ•°æ‰§è¡Œå®Œæ‰èƒ½è¿”å›åˆ°ä¸»çº¿ç¨‹ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°xxå°±æ˜¯åŒæ­¥çš„ï¼Œç‰¹ç‚¹æ˜¯é˜»å¡çº¿ç¨‹ï¼› å¦‚æœï¼Œåœ¨ä¸»çº¿ç¨‹æ´¾å‘äº†ä¹‹åï¼Œç«‹é©¬è¿”å›äº†ï¼Œæ— éœ€ç­‰å¾…ä»»åŠ¡çš„å®Œæˆï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±æ˜¯å¼‚æ­¥çš„ï¼› ä¸´ç•ŒåŒº å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå¯èƒ½ä¼šæœ‰èµ„æºè¢«å¤šä¸ªçº¿ç¨‹è®¿é—®çš„æƒ…å†µï¼Œè¿™æ ·ä¸€æ¥äºŒå»ï¼Œè¿™ä¸ªèµ„æºå°±å˜å¾—ä¸å¯ä¿¡äº†ï¼Œå˜äº†è´¨äº†ï¼Œä¸å†æ˜¯å‡†ç¡®çš„äº†ï¼›è¿™å½“ç„¶ä¹Ÿä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼›åç»­åšå®¢ä¼šè§£å†³è¿™ä¸ªä¸å¯ä¿¡é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼(ps :è¿™é‡Œè¯´çš„åŒæ­¥è·Ÿä¸Šé¢æåˆ°çš„åŒæ­¥ï¼Œå¼‚æ­¥ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µå“¦ï¼) å‚è€ƒçš„æ–‡æ¡£ï¼š https://zh.wikipedia.org/wiki/å¤šä»»åŠ¡å¤„ç† https://zh.wikipedia.org/wiki/çº¿ç¨‹ https://books.google.co.jp/books?id=qjNUgoRkXLMC&amp;pg=PA57&amp;lpg=PA57&amp;dq=å¤šä»»åŠ¡+æ“ä½œç³»ç»Ÿ+å‡ºç°&amp;source=bl&amp;ots=AKZJIbR047&amp;sig=BkOHhV_ZEAZx2p0LjyCS3FcJWfc&amp;hl=zh-CN&amp;sa=X&amp;ved=0CEoQ6AEwCWoVChMI79yjtt3oxgIVgxmUCh3vcgnL#v=onepage&amp;q=å¤šä»»åŠ¡%20æ“ä½œç³»ç»Ÿ%20å‡ºç°&amp;f=false https://www.freebsd.org/doc/zh_CN.UTF-8/books/handbook/basics-processes.html https://github.com/nixzhu/dev-blog/blob/master/2014-04-19-grand-central-dispatch-in-depth-part-1.md http://www.zhihu.com/question/19901763 http://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html","categories":[],"tags":[{"name":"Other","slug":"Other","permalink":"http://debugly.cn/tags/Other/"}]},{"title":"è§£å†³ NSTimer å†…å­˜æ³„æ¼é—®é¢˜","slug":"2015/07/14-jie-jue-nstimeryin-qi-de-nei-cun-xie-lou","date":"2015-07-14T02:38:52.000Z","updated":"2018-03-27T14:45:15.683Z","comments":true,"path":"2015/07/14/2015/07/14-jie-jue-nstimeryin-qi-de-nei-cun-xie-lou.html","link":"","permalink":"http://debugly.cn/2015/07/14/2015/07/14-jie-jue-nstimeryin-qi-de-nei-cun-xie-lou.html","excerpt":"","text":"NSTimer æ˜¯ iOS å¾ˆå¸¸ç”¨çš„ä¸€ä¸ªç±»ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åšå»¶è¿Ÿä»»åŠ¡ï¼Œä¹Ÿå¯ä»¥åšå‘¨æœŸæ€§çš„è½®è¯¢ã€‚ä¸è¿‡æˆ‘åœ¨å†™è½®æ’­å›¾çš„æ—¶å€™å´å‘ç° Timeré€ æˆäº†å†…å­˜æ³„æ¼ï¼ èƒŒæ™¯æˆ‘åœ¨ ViewController é‡Œä½¿ç”¨äº† Timerï¼Œç»“æœå‘ç° pop æ‰è¯¥æ§åˆ¶å™¨åï¼Œä»–çš„ dealloc å´æ²¡æœ‰è°ƒç”¨ï¼è¿™æ˜¯ä¸ªå†…å­˜æ³„éœ²çš„é—®é¢˜ï¼Œæ¯”è¾ƒä¸¥é‡ï¼Œè¦å°½å¿«è§£å†³ï¼ åˆ†æåŸå›  åœ¨ä½¿ç”¨ Timer çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ç»™ä»–æŒ‡å®šä¸€ä¸ª Targetï¼Œè€Œ Timer çš„å†…éƒ¨ä¼šæŒæœ‰è¯¥ Targetï¼ŒåŸå› å¯æƒ³è€ŒçŸ¥ï¼Œå½“ Timer åˆ°æ—¶é—´ä¹‹åå°±è¦è§¦å‘ç›®æ ‡æ–¹æ³•ï¼Œå¦‚æœä¸æŒæœ‰ Target çš„è¯ï¼Œå°±å¯èƒ½ä¼šå¯¼è‡´ Target å·²ç»é‡Šæ”¾ï¼Œæ— æ³•è¾¾åˆ°è°ƒç”¨ç›®æ ‡æ–¹æ³•çš„æ•ˆæœï¼›åœ¨æ²¡æœ‰ARCçš„å¹´ä»£ï¼Œå¦‚æœç”¨assignåŠ¿å¿…ä¼šé€ æˆé‡æŒ‡é’ˆå´©æºƒçš„ï¼Œå› æ­¤è¦æŒæœ‰ Targetï¼› è¦çŸ¥é“ Timer çš„è¿è¡Œä¾èµ–äº Runloop çš„é©±åŠ¨ï¼Œå³ fire ä¹‹å‰éœ€è¦åŠ å…¥åˆ° Runloop ä¸­ï¼Œä½†è¿™æ ·ä¸€æ¥ Timer å°±è¢« Runloop æŒæœ‰äº†ï¼Œé™¤éè°ƒç”¨ invalidateï¼Œæ‰ä¼šä» Runloop ä¸­ç§»é™¤ï¼› å®é™…ä½¿ç”¨çš„æ—¶å€™ï¼ŒTarget å°±æ˜¯æˆ‘çš„ ViewControllerï¼Œæˆ‘æ˜¯åœ¨ ViewController çš„ dealloc é‡Œå°† Timer invalidate æ‰çš„ï¼› å¦‚ä¸Šæ‰€è¿°ï¼ŒTarget ä¼šè¢« Timer æŒæœ‰ï¼ŒTimer ä¼šè¢« Runloop æŒæœ‰ï¼Œç»“æœå°±å¯¼è‡´äº† ViewController ä¸€ç›´è¢«æŒæœ‰ç€ï¼Œæ‰€ä»¥åœ¨ ViewController çš„ dealloc é‡Œ invalidate æ‰ Timer æ˜¯æ²¡ä½œç”¨çš„ï¼Œå‹æ ¹ä¸ä¼šèµ°è¿™ä¸ªé€»è¾‘ï¼Œæ‰€ä»¥å½“å¯¼èˆªæ§åˆ¶å™¨ pop ä¹‹åï¼Œé¡µé¢æ¶ˆå¤±äº†ï¼Œä½†æ˜¯å†…å­˜å´æ²¡é‡Šæ”¾ï¼Œè¿™å°±å¯¼è‡´äº†å†…å­˜æ³„æ¼ï¼ è§£å†³é—®é¢˜å¦‚æœèƒ½åœ¨ pop ViewController ä¹‹å‰å°† Timer invalidate æ‰ï¼Œå°±å¯ä»¥è§£é™¤ Timer å¯¹ ViewController çš„æŒæœ‰ï¼Œè®© ViewController æ­£å¸¸é‡Šæ”¾ï¼› ç®€å•çš„åšæ³•æ˜¯åœ¨æ§åˆ¶å™¨çš„ viewwilldisappear ä¸­ invalidateï¼Œä¸è¿‡ä¸€èˆ¬æƒ…å†µä¸‹å°±è¦å¯¹åº”çš„åœ¨ viewwillappear ä¸­é‡æ–°åˆ›å»º Timerï¼Œè¿™ä¹ˆåšä¸€èˆ¬æƒ…å†µéƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†å¦‚æœ Target ä¸æ˜¯ ViewController å°±éœ€è¦å¤šå†™ç‚¹ä»£ç äº†ï¼›æ›´ç³Ÿç³•çš„æ˜¯ï¼Œæˆ‘é‡åˆ°è¿‡è°ƒç”¨äº† viewwillappear å´æ²¡è°ƒç”¨ viewwilldisappear å°±è¦dealloc çš„æƒ…å†µï¼Œè¿™æ—¶æƒ…å†µå°±å¾ˆç³Ÿç³•äº†ï¼Œçœ‹æ¥éœ€è¦ä¸€ä¸ªä¼˜é›…çš„è§£å†³åŠæ³•æ‰æ˜¯å®Œå…¨ä¹‹ç­–ã€‚ è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±è¦ä»æ‰“ç ´æŒæœ‰ä¸Šè§£å†³ï¼ŒRunloop æŒæœ‰ Timer ä¼°è®¡æ˜¯æ²¡åŠæ³•åšæ–‡ç« äº†ï¼Œé‚£èƒ½ä¸èƒ½æƒ³åŠæ³•æŠŠ Target è½¬ç§»ä¸‹å‘¢? æ˜¯çš„ï¼Œå¯ä»¥å°†è‡ªèº«ä½œä¸º Targetï¼Œç„¶åé€šè¿‡ block å›è°ƒå‡ºå»ï¼Ÿå¤–éƒ¨è°ƒç”¨ä½¿ç”¨ weak-storng dance ï¼Œä¸è®© blockæŒæœ‰ targetï¼›ä¼¼ä¹å¯è¡Œå“¦ï¼Œç«‹é©¬è¡ŒåŠ¨ï¼š 1234+ (NSTimer *)scheduledWithTimeInterval:(NSTimeInterval)ti repeats:(BOOL)yesOrNo block:(void (^)())block&#123; return [NSTimer scheduledTimerWithTimeInterval:ti target:self selector:@selector(ql_blockInvoke:) userInfo:[block copy] repeats:yesOrNo];&#125; æŠŠä¼ å…¥çš„blockå½“ä½œuserinfoç©¿è¿‡å»ï¼Œuserinfoæ˜¯ä¸ªidç±»å‹çš„ï¼Œæ•…è€Œå¯ä»¥ä¼ é€’ä¸€ä¸ªblockè¿‡å»ï¼Œblockæ˜¯åœ¨æ ˆä¸Šåˆ†é…çš„ï¼Œæ‰€ä»¥å¿…é¡»copyåˆ°å †ä¸Šï¼Œè¿™æ ·æ—¥åå›è°ƒçš„æ—¶å€™æ‰èƒ½æ‰¾åˆ°å®ƒï¼› 1234567+ (void)ql_blockInvoke:(NSTimer *)sender&#123; void (^block)() = sender.userInfo; if (block) &#123; block(); &#125;&#125; é€šè¿‡ç±»åˆ«ï¼Œæˆ‘ä»¬ç»™timeråŠ ä¸Šäº†è¿™äº›æ–¹æ³•ï¼› ä½¿ç”¨12345__weak __typeof(self)weakSelf = self;NSTimer *timer = [NSTimer scheduledWithTimeInterval:animationDuration repeats:YES block:^&#123; __strong __typeof(weakSelf)strongSelf = weakSelf; [strongSelf animationTimerDidFired];&#125;]; ä½¿ç”¨scheduledTimerWithTimeIntervalæ–¹æ³•åˆ›å»ºçš„timerä¼šè‡ªåŠ¨åŠ å…¥åˆ°å½“å‰runloopä¸­ï¼Œå¹¶åœ¨intervalä¹‹åfireï¼›å¦‚æœä¸æƒ³ç«‹é©¬å¼€å§‹å¯ä»¥è¿™æ ·åšï¼š 1[timer setFireDate:[NSDate distantFuture]]; è®°å¾—åœ¨targetçš„deallocé‡ŒæŠŠè¿™ä¸ªtimer invalidateå³å¯ï¼› å¢åŠ äº†å‡ ä¸ªæ–¹ä¾¿çš„æ–¹æ³•123- (void)pauseTimer;- (void)resumeTimer;- (void)resumeTimerAfterTimeInterval:(NSTimeInterval)interval; å®Œ å¼€æºåœ°å€ï¼šhttps://github.com/debugly/QLCodes","categories":[],"tags":[{"name":"iOS","slug":"iOS","permalink":"http://debugly.cn/tags/iOS/"}]},{"title":"Hello My Blog","slug":"2015/07/07-bo-ke-an-jia-la","date":"2015-07-07T05:36:28.000Z","updated":"2018-03-27T14:45:15.683Z","comments":true,"path":"2015/07/07/2015/07/07-bo-ke-an-jia-la.html","link":"","permalink":"http://debugly.cn/2015/07/07/2015/07/07-bo-ke-an-jia-la.html","excerpt":"","text":"å‡ºäºå¯¹å‰ç«¯çš„å…´è¶£å’Œ markdown çš„çƒ­è¡·ï¼Œäºæ˜¯ä»Šå¤©æ‘¸ç´¢ç€æ­å»ºäº†ä¸€ä¸ªä½¿ç”¨ markdown å†™æ–‡ç« ï¼Œç»è¿‡ jekyll è§£æç”Ÿæˆé™æ€ç«™ç‚¹ï¼Œå‘å¸ƒåˆ° github çš„åšå®¢ï¼ŒæŠ˜è…¾è¿‡ç¨‹ä¸­è¿˜å­¦ä¹ äº†äº›å‰ç«¯çš„çŸ¥è¯†ï¼ åœ¨æ­¤ä¹‹å‰æ›¾åœ¨ æ–°æµªåšå®¢ï¼ŒCSDN ä¸Šå†™è¿‡å‡ ç¯‡æ–‡ç« ï¼Œå¯æ˜¯æœªèƒ½åšæŒä¸‹å»ã€‚ å†™åšå®¢çš„è¿‡ç¨‹ä¹Ÿæ˜¯è‡ªæˆ‘è®¤è¯†å’Œèƒ½åŠ›æå‡çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œå› ä¸ºè¦æŠŠä¸€ä¸ªä¸ç†Ÿæ‚‰çš„ä¸œè¥¿è¯´æ¸…æ¥šçœŸçš„å¾ˆå›°éš¾,æœ‰å›°éš¾æ‰ä¼šæœ‰è¿›æ­¥ï¼Œä¸æ˜¯å˜›ï¼Ÿ ç‰ˆæœ¬è®°å½• 17 å¹´ 12 æœˆæ¢æˆ hexoï¼Œä¸»é¢˜åˆ™é‡‡ç”¨äº† hexo-theme-yaris. 17 å¹´ 7 æœˆè‡ªå·±ç¼–å†™ jekyll ä¸»é¢˜ Yaris. 16 å¹´ 12 æœˆå¼€å§‹ä½¿ç”¨ç‹¬ç«‹åŸŸå debuly.cn. 15 å¹´ 7 æœˆä½¿ç”¨ octopress æ­å»ºäº†æˆ‘çš„åšå®¢ï¼Œä»æ­¤ä¹‹åå†æ— å®‰å®ä¹‹æ—¥ï¼Œæ²¡äº‹äº†å°±æ¥æŠ˜è…¾æˆ‘çš„åšå®¢.","categories":[],"tags":[{"name":"Script","slug":"Script","permalink":"http://debugly.cn/tags/Script/"}]}]}